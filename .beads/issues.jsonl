{"id":"qipu-090s","title":"List output formats missing custom metadata","description":"qipu list --custom filters by custom metadata but human/JSON/Records output formats don't display custom fields. Need to add --custom flag to list command to optionally include custom metadata in output. Files: src/commands/list/format/human.rs, json.rs, records.rs.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.959459058-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T14:41:48.358180265-05:00","closed_at":"2026-01-27T14:41:48.358180265-05:00","close_reason":"Closed","labels":["custom-metadata"]}
{"id":"qipu-09k2","title":"Split tests/cli/list.rs: split into format and filtering submodules","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:40.256343235-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:37:54.865371166-05:00","closed_at":"2026-01-28T23:37:54.865371166-05:00","close_reason":"Closed"}
{"id":"qipu-0b83","title":"Fix pre-existing clippy warnings in llm-tool-test","description":"Multiple clippy warnings exist in llm-tool-test package including:\n- useless_format in transcript/writer.rs\n- needless_borrow in main.rs\n- unused imports and dead code throughout\n\nRun: cargo clippy -p llm-tool-test -- -D warnings to see all issues","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T00:15:32.595714262-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:19:04.546153811-05:00","closed_at":"2026-01-30T00:19:04.546153811-05:00","close_reason":"Closed"}
{"id":"qipu-0beg","title":"Audit public API items for unused exports","description":"Analyze 543 public API items (pub fn/struct/enum/mod/trait) to identify exports that are never used. Create remediation tasks to make unused exports private or remove them entirely.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:38.604538491-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:28:38.31962424-05:00","closed_at":"2026-01-28T16:28:38.31962424-05:00","close_reason":"Closed"}
{"id":"qipu-0blj","title":"Extract resolve_editor() helper function","description":"Extract duplicate editor resolution logic from src/commands/create.rs lines 151-155 and src/commands/edit.rs lines 72-76 into shared helper. Pattern: editor_override.or_else(EDITOR).or_else(VISUAL).unwrap_or(vi). Create resolve_editor() helper in src/commands/helpers.rs. Reduces 8 lines of identical code. Verification: Test with cargo test commands::create and commands::edit, verify EDITOR/VISUAL env var handling.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:36.438757209-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:36.438757209-05:00","dependencies":[{"issue_id":"qipu-0blj","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:01:43.574906308-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-0hi","title":"Distribution: package for deb/rpm","description":"Add deb/rpm packaging pipeline (future).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.254079683-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.094672135-05:00","labels":["distribution"]}
{"id":"qipu-0hp","title":"Add truncation flag tests for records format","description":"Missing truncation flag tests for prime/list/search/export\n\nSpec: records-output.md\nIssue: Truncation flags not tested\nLocation: tests/cli/\nAction: Test truncation behavior in records format for all commands","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:44.107570411-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T07:46:24.778749568-05:00","closed_at":"2026-01-26T07:46:24.778749568-05:00","close_reason":"Closed"}
{"id":"qipu-0om7","title":"Refactor ontology.rs execute show - extract output formatters","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:08:15.792234381-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:19:40.221720391-05:00","closed_at":"2026-01-29T00:19:40.221720391-05:00","close_reason":"Closed"}
{"id":"qipu-0vlq","title":"Reduce clone() usage in qipu-core non-graph modules","description":"Reduce unnecessary clone() calls in qipu-core modules outside of graph algorithms.\n\nWhat to change:\n- crates/qipu-core/src/ontology.rs:10 clones (lines 67, 69, 114, 118, 120, 141, 169)\n  * Change name.clone() to name.to_string() for clarity\n  * Consider using \u0026str keys in collections if lifetime permits\n- crates/qipu-core/src/search/mod.rs:9 clones (lines 34-49, 93)\n  * Use mem::swap() or take() patterns instead of field-by-field cloning\n  * Replace result.clone() with ownership transfer\n- crates/qipu-core/src/index/links.rs:8 clones (lines 25-35, 52, 57, 119, 133, 138)\n  * Remove intermediate from_id binding, use note.id() directly\n  * Return Option\u003c\u0026String\u003e instead of Option\u003cString\u003e where callers can borrow\n- crates/qipu-core/src/index/builder.rs:8 clones (lines 46, 55, 63, 89, 98, 102, 115)\n  * Use \u0026Path as key instead of PathBuf clone in path-to-ID map\n  * Avoid cloning note metadata when inserting into index\n\nHow to change:\n1. Replace .clone() with borrowing (\u0026T) where possible\n2. Use Copy trait for small stack types (if not already)\n3. Use Cow\u003cstr\u003e for conditional ownership\n4. Apply mem::swap for field transfers\n\nWhy it matters:\n- Reduces memory allocations (~55 clones targeted)\n- Improves performance in hot paths (search, indexing)\n- Makes ownership semantics clearer\n\nVerification:\n- cargo test must pass (all 812 tests)\n- cargo clippy with warnings as errors must pass\n- No functional changes allowed (only performance/semantics)\n\nContext:\n- Graph algorithm clones (graph/bfs.rs, graph/algos/) are excluded - tracked separately\n- Focus on ontology, search, index modules which have clear borrowing opportunities\n","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:52:38.369817528-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:52:38.369817528-05:00"}
{"id":"qipu-0x1","title":"Add performance tests for list command","description":"Missing performance tests per cli-tool.md spec\n\nTarget: ~1k notes \u003c200ms\nLocation: tests/bench/\nStatus: Not implemented","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:40.563914884-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T00:05:05.86820149-05:00","closed_at":"2026-01-26T00:05:05.86820149-05:00","close_reason":"Closed"}
{"id":"qipu-12j","title":"Design: qipu sync git integration","description":"Open question: should qipu manage git commits via sync command?","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.11999364-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.965694149-05:00","labels":["cli","design"]}
{"id":"qipu-14h","title":"Design: rich event log format for llm-tool-test","description":"Spec shows spawn/tool_call/etc; current is minimal. Decide event schema.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.916316984-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.112272068-05:00","labels":["design","llm-tool-test"]}
{"id":"qipu-162z","title":"Version consistency test failure - Cargo.toml 0.2.82 vs git tag v0.2.83","description":"Test cli::misc::test_version_consistency fails because Cargo.toml has version 0.2.82 but there's a git tag v0.2.83. This suggests Cargo.toml was not updated when v0.2.83 was tagged.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T12:09:05.080241575-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T12:13:31.129969535-05:00","closed_at":"2026-01-29T12:13:31.129969535-05:00","close_reason":"Closed"}
{"id":"qipu-165","title":"Prime: use character budget (~4-8k) not fixed counts","description":"Prime selection bounded by character budget, not MAX_MOCS/MAX_RECENT_NOTES.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:20.982702437-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.056153284-05:00","closed_at":"2026-01-25T14:19:21.056153284-05:00","close_reason":"Closed","labels":["history","llm-context"]}
{"id":"qipu-16hp","title":"Refactor compact/report.rs:execute (222 lines)","description":"## Problem\n`execute` in `src/commands/compact/report.rs` is 222 lines.\n\n## Analysis\nThe function computes compaction metrics, then outputs in 3 formats (Human, JSON, Records). The output formatting takes ~90 lines alone.\n\n## Refactoring Plan\n1. Extract metric computation:\n   - `compute_compaction_metrics(store, ctx, index, digest_id) -\u003e CompactionMetrics`\n2. Extract output formatters (pattern used elsewhere):\n   - `output_report_human(metrics: \u0026CompactionMetrics)`\n   - `output_report_json(metrics: \u0026CompactionMetrics) -\u003e Result\u003c()\u003e`\n   - `output_report_records(metrics: \u0026CompactionMetrics)`\n3. Main function becomes: setup → compute → format\n\n## Verification\n- Run `cargo test --test cli_tests compact`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/compact/report.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:03.083948849-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:45:06.423942605-05:00","closed_at":"2026-01-29T14:45:06.423942605-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-16hp","depends_on_id":"qipu-6fgp","type":"blocks","created_at":"2026-01-29T07:33:46.891949133-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-18bj","title":"Fix: Add defense-in-depth validation for attachment path traversal","description":"Added canonicalization and path prefix verification in load_attachments() to ensure attachments are always written within the attachments directory, even if the pack attachment name somehow bypasses the file_name() extraction.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T00:42:17.277528853-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:42:21.307497636-05:00","closed_at":"2026-01-30T00:42:21.307497636-05:00","close_reason":"Closed"}
{"id":"qipu-18xq","title":"Investigate adapter module dead code","description":"Review and resolve adapter module dead code:\n\nWhat to change:\n- crates/llm-tool-test/src/adapter/mod.rs (7 allow(dead_code) suppressions)\n- Entire public API is marked as potentially dead\n\nHow to change:\n- Investigate if adapter abstraction is actually used:\n  - Check if ToolAdapter trait implementations are instantiated\n  - Look for execute_task calls on adapter types\n  - Verify AdapterError is used in error handling\n- If truly unused: remove module and all implementations\n- If partially used: remove unused items, keep used ones\n- If used but marked incorrectly: remove suppressions\n\nWhy it matters:\n- 7 dead_code suppressions on public API is concerning\n- Suggests partially implemented or abandoned feature\n- Dead code increases compile times and confusion\n\nVerification:\n- cargo check -p llm-tool-test to verify no dead code warnings\n- Run full test suite: cargo test -p llm-tool-test\n- Remove all #[allow(dead_code)] from adapter/mod.rs\n\nContext:\n- Coordinate with dead code removal task (qipu-kik9)\n- May reveal larger architectural issues\n- P2 priority: investigation required before action","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:39.615166253-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:15:35.443926134-05:00","closed_at":"2026-01-30T00:15:35.443926134-05:00","close_reason":"Closed"}
{"id":"qipu-19c","title":"Add PDF edge case tests","description":"Missing PDF edge case tests\n\nSpec: export.md\nIssues: Outline mode, attachments, anchor links not tested\nLocation: tests/cli/export.rs\nAction: Add comprehensive PDF export edge case tests","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:03.339966269-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T13:15:03.568385886-05:00","closed_at":"2026-01-27T13:15:03.568385886-05:00","close_reason":"Closed"}
{"id":"qipu-1a3h","title":"Refactor handle_run_command in llm-tool-test/commands.rs","description":"Refactor handle_run_command in llm-tool-test/commands.rs (119 lines):\n\nWhat to change:\n- crates/llm-tool-test/src/commands.rs function handle_run_command (lines 49-168, ~119 lines)\n\nHow to change:\n- Extract scenario setup logic to helper function\n- Extract output directory handling to helper function\n- Extract run configuration building to helper function\n- Extract report generation to helper function\n- Each helper must be \u003c100 lines\n- Target: reduce handle_run_command to \u003c80 lines\n\nWhy it matters:\n- Function is 119 lines, exceeding 100-line limit\n- Handles too many responsibilities (setup, config, execution, reporting)\n- Hard to test individual parts\n- Violates single responsibility principle\n\nVerification:\n- Ensure all tests pass: cargo test --package llm-tool-test\n- Verify handle_run_command is \u003c80 lines after refactor\n- Verify each extracted helper is \u003c100 lines\n- Confirm no behavioral changes\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- Related to god function refactor (bd tasks qipu-g0ro, qipu-gc6f)\n- Makes testing and maintenance easier","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:29.777274773-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:29.777274773-05:00"}
{"id":"qipu-1bs","title":"Add multi-word search query integration test","description":"Missing integration test for multi-word search queries\n\nSpec: similarity-ranking.md\nIssue: AND semantics fixed but not integration tested\nLocation: tests/cli/search.rs\nAction: Test multi-word queries work with AND semantics","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:28.585607338-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T06:31:22.866836652-05:00","closed_at":"2026-01-26T06:31:22.866836652-05:00","close_reason":"Closed"}
{"id":"qipu-1d5w","title":"Split tests/cli/value.rs (474 lines)","description":"Split tests/cli/value.rs (474 lines) by functionality. Create value/mod.rs, extract set/show/json/validation tests. Move common helpers to support.rs. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:16.558001945-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:16.558001945-05:00","dependencies":[{"issue_id":"qipu-1d5w","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.571330808-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-1rqv","title":"Analyze long source files for refactoring opportunities","description":"Analyze 7 source files exceeding 500 lines: query/filter.rs (682), link/tree.rs (675), prime.rs (640), config.rs (633), ontology.rs (583), load/mod.rs (525), db/mod.rs (516). Also include previously whitelisted files: commands.rs (626), context/mod.rs (545), dijkstra.rs (521). Create refactoring tasks for all 10 files that must be split logically while maintaining functionality. No exceptions allowed.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:42.459354396-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:03:06.676015435-05:00","closed_at":"2026-01-28T17:03:06.676015435-05:00","close_reason":"Closed"}
{"id":"qipu-1te","title":"Link JSON output: include via annotation when canonicalized","description":"JSON LinkEntry includes optional via when digest id canonicalized.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.564336159-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.637087409-05:00","closed_at":"2026-01-25T14:19:21.637087409-05:00","close_reason":"Closed","labels":["compaction","history"]}
{"id":"qipu-1uo","title":"Feature: tag aliases","description":"Spec marks optional; decide and implement tag aliasing if desired.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.584253017-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.999972268-05:00","labels":["future","knowledge-model"]}
{"id":"qipu-1uvt","title":"Split crates/llm-tool-test/src/results/types.rs (615 lines)","description":"Split crates/llm-tool-test/src/results/types.rs (615 lines) to comply with CI 500-line limit:\n\nWhat to change:\n- crates/llm-tool-test/src/results/types.rs (currently 615 lines, 115 over limit)\n\nHow to change:\n- Analyze type definitions and group by domain:\n  * Result types (TestResult, EvaluationResult)\n  * Metric types (Score, Metrics)\n  * Comparison types (Diff, ComparisonResult)\n- Create results/types/ subdirectory with modules:\n  * types/result.rs - result-related types\n  * types/metric.rs - metric/scoring types\n  * types/comparison.rs - comparison/diff types\n- Keep types.rs as re-export module\n\nWhy it matters:\n- Violates CI 500-line file limit (enforced, blocks builds)\n- 615 lines is second-largest file in codebase\n\nVerification:\n- Run: cargo test -p llm-tool-test\n- Verify all result types accessible\n- Ensure each new file is \u003c500 lines","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:33.031724969-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T10:01:31.455685056-05:00","closed_at":"2026-01-30T10:01:31.455685056-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-1uvt","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:58:22.243109983-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-209","title":"Refactor src/cli/commands.rs (547 lines)","description":"File exceeds 500-line limit (grandfathered in CI)\n\nLocation: src/cli/commands.rs\nSize: 547 lines\nAction: Extract helper functions or split into modules\nGoal: Remove from .github/workflows/ci.yml allowed list","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:29.823395648-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T23:29:03.831238652-05:00","closed_at":"2026-01-25T23:29:03.831238652-05:00","close_reason":"Closed"}
{"id":"qipu-20i7","title":"Consolidate timing/logging pattern in dispatch handlers","description":"Extract duplicate verbose/debug logging pattern from all dispatch handlers. Pattern appears 30+ times: notes.rs lines 23-26, 41-43, 61-63, link.rs lines 21-23, 47-49, handlers.rs lines 38-40, 55-57, maintenance.rs lines 17-19, 32-34. Create trace_command! macro in dispatch/macros.rs. Verification: cargo test --test cli_tests passes, debug output format unchanged.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:13.552702083-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:13.552702083-05:00","dependencies":[{"issue_id":"qipu-20i7","depends_on_id":"qipu-pu56","type":"blocks","created_at":"2026-01-30T08:06:27.744207629-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-21nx","title":"Recreate 20 removed ontology unit tests","description":"20 unit tests removed in commit 827f2f8 (refactor: split lib/ontology.rs - remove tests to comply with 500-line limit). Recreate tests covering: unknown inverses, sorted types, circular/self-referencing inverses, partial customization, inverse overrides, empty custom types. Tests removed from src/lib/ontology.rs #[cfg(test)] module.","notes":"After qipu-core extraction (qipu-gyg5), the path will change from src/lib/ontology.rs to crates/qipu-core/src/ontology.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:52:31.910468434-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:28:44.460112268-05:00","closed_at":"2026-01-29T02:28:44.460112268-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-21nx","depends_on_id":"qipu-ebem","type":"blocks","created_at":"2026-01-28T21:16:15.109788417-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-25j7","title":"Refactor similarity/tests.rs - simplify test setup","notes":"After qipu-core extraction (qipu-gyg5), the path will change from src/lib/similarity/tests.rs to crates/qipu-core/src/similarity/tests.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:08:15.977152601-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:21:36.392591742-05:00","closed_at":"2026-01-29T02:21:36.392591742-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-25j7","depends_on_id":"qipu-ebem","type":"blocks","created_at":"2026-01-28T21:16:15.249795616-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-274","title":"Design: structured error chain trace format","description":"Define structured representation of error chains/contexts.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.848430925-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.060061818-05:00","labels":["design","structured-logging"]}
{"id":"qipu-27i","title":"Progressive indexing: Phase 3 selective indexing flags","description":"Index subsets via --quick/--tag/--type/--recent/--moc plus status.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.084220956-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.162900104-05:00","closed_at":"2026-01-25T14:19:23.162900104-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-27r","title":"Search: rely on BM25 weights (remove additive boosts)","description":"Removed additive ranking boosts; rely on BM25 column weights.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.271838559-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.345599233-05:00","closed_at":"2026-01-25T14:19:21.345599233-05:00","close_reason":"Closed","labels":["history","search"]}
{"id":"qipu-29f","title":"Design: accept --types CSV variant for traversal commands","description":"Spec mentions CSV alternative to repeatable --type; decide if needed.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.279284727-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.137020541-05:00","labels":["design","graph-traversal"]}
{"id":"qipu-2cz7","title":"Fix version mismatch: Cargo.toml 0.2.75 vs git tag v0.2.76","description":"test_version_consistency fails: At release tag v0.2.76, but Cargo.toml has version 0.2.75. Plan: Update Cargo.toml version to 0.2.76 to match git tag","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T02:45:18.90689622-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:48:32.072567051-05:00","closed_at":"2026-01-29T02:48:32.072567051-05:00","close_reason":"Closed"}
{"id":"qipu-2ghw","title":"golden test: version output mismatch (expects 0.2.82, gets 0.2.83)","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T12:59:02.894525912-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:02:44.277726913-05:00","closed_at":"2026-01-29T13:02:44.277726913-05:00","close_reason":"Closed"}
{"id":"qipu-2gvq","title":"Fix duplicate NeighborContext struct definition in bfs.rs","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T23:22:47.027426486-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:25:00.367969376-05:00","closed_at":"2026-01-29T23:25:00.367969376-05:00","close_reason":"Closed"}
{"id":"qipu-2j40","title":"Audit unused dependencies with cargo-udeps","description":"Install and run cargo-udeps to identify dependencies that are not used in the codebase. Document findings and create tasks to remove unused dependencies from Cargo.toml.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:38.61596163-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:39:34.860951623-05:00","closed_at":"2026-01-28T16:39:34.860951623-05:00","close_reason":"Closed"}
{"id":"qipu-2lf","title":"Fix release workflow triggers","description":"Release workflow disabled with incorrect triggers\n\nLocation: .github/workflows/release.yml:3-13, 11-12\nIssue: Workflow triggers only on workflow_dispatch, not v* tags; commented as disabled\nImpact: Automated releases don't work; manual intervention required\n\nBLOCKED BY: GitHub Actions not enabled for repository","notes":"This issue duplicates qipu-lmpy which was created with better tracking. Closing this duplicate.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:19.480816001-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:16:02.769251052-05:00","closed_at":"2026-01-28T21:16:02.769251052-05:00","close_reason":"Duplicate issues - see qipu-ba9q and qipu-lmpy","labels":["blocked","closed","duplicate"],"dependencies":[{"issue_id":"qipu-2lf","depends_on_id":"qipu-abg","type":"blocks","created_at":"2026-01-25T14:38:30.005272129-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-2mc","title":"Add tests for compaction suggest + value interaction","description":"Missing tests for compaction suggest + value interaction\n\nSpec: value-model.md\nIssue: Value field interaction with compaction not tested\nLocation: tests/cli/compact/\nAction: Test that value affects compaction suggestions","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:46.269306983-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T12:14:28.339629303-05:00","closed_at":"2026-01-27T12:14:28.339629303-05:00","close_reason":"Closed"}
{"id":"qipu-2o0","title":"Clarify: value in search ranking by default","description":"Open question: should value combine with relevance score by default?","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.382300328-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.014740555-05:00","labels":["clarify","value-model"]}
{"id":"qipu-2pig","title":"Update main.rs to use qipu_core","description":"Update src/main.rs to import from qipu_core instead of the embedded lib module.\n\n## Current State\nmain.rs contains a path hack:\n  #[path = \"lib/mod.rs\"]\n  mod lib;\n\nAnd likely uses:\n  use crate::lib::...\n\n## Tasks\n1. Remove the #[path = \"lib/mod.rs\"] mod lib; declaration\n2. Add 'use qipu_core;' or specific imports as needed\n3. Update any direct references to lib:: to use qipu_core::\n4. Ensure logging initialization still works (lib::logging module)\n\n## Acceptance Criteria\n- No 'mod lib' or 'crate::lib' references in main.rs\n- cargo build succeeds\n- Application runs correctly (qipu --help works)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.381961733-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:52:21.112710487-05:00","closed_at":"2026-01-29T01:52:21.112710487-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-2pig","depends_on_id":"qipu-vov7","type":"blocks","created_at":"2026-01-28T21:13:53.461580136-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-2q5l","title":"Split tests/cli/context/basic.rs: move filtering tests to filtering.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.039670503-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:57:06.556096582-05:00","closed_at":"2026-01-28T22:57:06.556096582-05:00","close_reason":"Closed"}
{"id":"qipu-2w4","title":"Refactor: shrink src/commands/doctor/database.rs","description":"Move tests to module directory; reduce file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.177992106-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.255116252-05:00","closed_at":"2026-01-25T14:19:24.255116252-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-2wid","title":"Split lib/graph/algos/dijkstra.rs: move test helpers","description":"lib/graph/algos/dijkstra.rs (522 lines): Extract HeapEntry tests (40 lines) to tests/lib/graph/algos/dijkstra.rs. Keep core dijkstra_traverse algorithm and unit tests in source file (~480 lines). Test utilities should live with other test files.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.446093303-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:29:53.469637813-05:00","closed_at":"2026-01-28T20:29:53.469637813-05:00","close_reason":"Closed"}
{"id":"qipu-2wrt","title":"Refactor NoteType to support custom types","description":"Change NoteType from closed enum to string-based with ontology validation. Update NoteFrontmatter. Defer validation to indexing/commands. File: src/lib/note/types.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:23.107743814-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T09:46:11.564832915-05:00","closed_at":"2026-01-28T09:46:11.564832915-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-2wrt","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:23.109070774-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-2x9u","title":"Update qipu prime for custom ontology","description":"Output ontology name/version/guidance in prime. Show note and link types with descriptions/usage. Add --compact and --minimal flags. File: src/commands/prime.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:37.022102685-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T10:33:09.011897985-05:00","closed_at":"2026-01-28T10:33:09.011897985-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-2x9u","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:37.024819496-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-2yxp","title":"Split tests/cli/compact/commands.rs: move apply tests to apply.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:02.100543733-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:43:20.376820595-05:00","closed_at":"2026-01-28T20:43:20.376820595-05:00","close_reason":"Closed"}
{"id":"qipu-32hk","title":"Split src/commands/link/records.rs (477 lines)","description":"Break src/commands/link/records.rs (currently 477 lines) into modules:\n\nWhat to change:\n- src/commands/link/records.rs (currently 477 lines, 23 lines from limit)\n\nHow to change:\n- Create src/commands/link/records/format.rs for output formatting logic\n- Create src/commands/link/records/build.rs for record building/serialization\n- Keep src/commands/link/records.rs as entry point with re-exports\n- Extract shared link record utilities to src/commands/link/records/util.rs\n\nWhy it matters:\n- File is 23 lines from CI 500-line limit\n- Mixes formatting with record building logic\n- High risk of future CI failures\n- Hard to test and maintain\n\nVerification:\n- Ensure all tests pass: cargo test link\n- Verify each new file is \u003c400 lines\n- Confirm no functional changes\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- No functional changes, only reorganization","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:05.128771269-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:05.128771269-05:00"}
{"id":"qipu-33il","title":"Split tests/cli/prime.rs (663 lines)","description":"Break into: prime_basic.rs, prime_compaction.rs, prime_mocs.rs, prime_recent_notes.rs. Extract prime command test utilities.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.479910553-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:49:13.671764783-05:00","closed_at":"2026-01-29T10:49:13.671764783-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-33il","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.504914205-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-34n1","title":"Refactor merge/mod.rs:execute (122 lines)","description":"## Problem\n`execute` in `src/commands/merge/mod.rs` is 122 lines.\n\n## Analysis\nThe function performs a complex merge operation with multiple steps: load notes, combine tags, combine links, combine body, update inbound links, save, delete source. Each step is logically distinct.\n\n## Refactoring Plan\n1. Extract merge logic helpers:\n   - `merge_tags(note1, note2) -\u003e Vec\u003cString\u003e`\n   - `merge_links(note1, note2) -\u003e Vec\u003cTypedLink\u003e`\n   - `merge_bodies(note1, note2) -\u003e String`\n   - `redirect_inbound_links(store, index, from_id, to_id) -\u003e Result\u003c()\u003e`\n2. Main function orchestrates the steps\n\n## Verification\n- Run `cargo test --test cli_tests merge`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/merge/mod.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:28.367330511-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:16:09.880209475-05:00","closed_at":"2026-01-29T14:16:09.880209475-05:00","close_reason":"Closed"}
{"id":"qipu-392c","title":"Fix unused imports in test files","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T22:49:29.698390617-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:51:56.339636521-05:00","closed_at":"2026-01-28T22:51:56.339636521-05:00","close_reason":"Closed"}
{"id":"qipu-396","title":"Add tests for auto-repair trigger on startup inconsistency","description":"Add tests that inconsistency on open triggers incremental repair (except doctor).","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.112928612-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T01:08:54.242503214-05:00","closed_at":"2026-01-30T01:08:54.242503214-05:00","close_reason":"Closed","labels":["db","tests"]}
{"id":"qipu-3av","title":"Add CLI tests for 2-hop neighborhoods","description":"No direct CLI tests for 2-hop neighborhoods\n\nSpec: indexing-search.md\nLocation: tests/cli/\nStatus: Not implemented","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:00.498915631-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T05:04:55.234774789-05:00","closed_at":"2026-01-26T05:04:55.234774789-05:00","close_reason":"Closed"}
{"id":"qipu-3ec","title":"Feature: interactive fzf-style pickers","description":"Optional UX: interactive pickers per cli-interface.md.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.039017735-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.970352733-05:00","labels":["cli","future"]}
{"id":"qipu-3ej","title":"Add install script tests","description":"No install script tests (install.sh, install.ps1)\n\nSpec: distribution.md\nIssue: Install scripts not tested\nLocation: tests/ (new test directory)\nAction: Test install scripts on various platforms\nPriority: P3 - infrastructure","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:39.928190654-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:57:09.063007989-05:00","closed_at":"2026-01-27T23:57:09.063007989-05:00","close_reason":"Closed"}
{"id":"qipu-3gv0","title":"Reduce parse_note_metadata complexity from 111 lines to under 100","description":"commands/load/deserialize.rs:parse_note_metadata (line 172) has 111 lines (\u003e100). Function exceeds complexity limit. Refactor to reduce under 100 lines.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T13:46:01.164771731-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:52:32.432856002-05:00","closed_at":"2026-01-29T13:52:32.432856002-05:00","close_reason":"Closed"}
{"id":"qipu-3gwu","title":"Split tests/cli/link/add_remove.rs: split by add/remove operation","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:48.128277068-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:42:40.96604074-05:00","closed_at":"2026-01-28T23:42:40.96604074-05:00","close_reason":"Closed"}
{"id":"qipu-3gy","title":"Enhancement: expand verbose timing keys instrumentation","description":"Low priority: instrument more operations with verbose timing keys (specs/README.md timing keys).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.203062146-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.960596177-05:00","labels":["cli","future"]}
{"id":"qipu-3kz","title":"Expand test coverage for --min-value in context","description":"Limited test coverage for --min-value in context command\n\nSpec: value-model.md\nIssue: Min-value filtering not comprehensively tested\nLocation: tests/cli/context/\nAction: Add more tests for --min-value flag in context commands","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:50.145898269-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T12:23:40.77945216-05:00","closed_at":"2026-01-27T12:23:40.77945216-05:00","close_reason":"Closed"}
{"id":"qipu-3me","title":"Infra: resource usage metrics (memory/cache hits) for tracing","description":"Add infra for resource metrics (memory, cache hits) to structured logs.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.776772344-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.064774309-05:00","labels":["infra","structured-logging"]}
{"id":"qipu-3p0e","title":"Cleanup: Remove unused imports and dead private functions across codebase","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:36:50.86545531-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T22:56:32.2369735-05:00","closed_at":"2026-01-27T22:56:32.2369735-05:00","close_reason":"Closed"}
{"id":"qipu-3p5f","title":"scenarios command doesn't list fixtures from subdirectories","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T04:16:08.180518317-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T04:42:31.424613494-05:00","closed_at":"2026-01-28T04:42:31.424613494-05:00","close_reason":"Closed"}
{"id":"qipu-3r85","title":"Reduce clone() usage in graph/bfs.rs and graph/algos","description":"Replace unnecessary clones in graph modules (62 total clones):\n\nWhat to change:\n- crates/qipu-core/src/graph/bfs.rs (32 clones)\n- crates/qipu-core/src/graph/algos/bfs.rs (15 clones)\n- crates/qipu-core/src/graph/algos/dijkstra.rs (15 clones)\n\nPatterns to fix:\n- Field-by-field cloning when building TreeNote (use From\u003c\u0026Metadata\u003e)\n- Edge cloning in neighbor collection (review if .to.clone() needed)\n- String clones that could be \u0026str borrows\n\nHow to change:\n- Implement From\u003c\u0026Metadata\u003e for TreeNote to replace field-by-field\n- Review edge.to.clone() - consider using \u0026str or borrowing\n- Use as_str() instead of to_string() where possible\n- Consider Cow\u003cstr\u003e for conditional ownership\n\nWhy it matters:\n- 62 clones in 3 files is excessive\n- Graph traversal is performance-critical\n- Reduces memory allocations\n\nVerification:\n- Run: cargo test --lib qipu-core graph\n- Run benchmarks if available\n- Verify no behavioral changes\n- Check: cargo clippy passes","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:15.267235781-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:15.267235781-05:00","dependencies":[{"issue_id":"qipu-3r85","depends_on_id":"qipu-b4qy","type":"blocks","created_at":"2026-01-30T07:42:47.103363541-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-3rr","title":"Add tests validating structured field content in logs","description":"No tests validating structured field content in logs\n\nSpec: structured-logging.md\nIssue: Structured field content not validated\nLocation: tests/cli/\nAction: Test that structured fields contain expected data","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:20.121224575-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T21:24:51.554303376-05:00","closed_at":"2026-01-26T21:24:51.554303376-05:00","close_reason":"Closed"}
{"id":"qipu-3u2r","title":"Update imports in src/commands/ to use qipu_core","description":"Update all import statements in src/commands/ to reference qipu_core instead of crate::lib.\n\n## Scope\nAll files in src/commands/ that import from crate::lib::*\n\n## Import Pattern Changes\nReplace:\n  use crate::lib::error::Result;\n  use crate::lib::store::Store;\n  use crate::lib::note::{Note, NoteType};\n  etc.\n\nWith:\n  use qipu_core::error::Result;\n  use qipu_core::store::Store;\n  use qipu_core::note::{Note, NoteType};\n  etc.\n\n## Tasks\n1. Search for all 'use crate::lib::' in src/commands/\n2. Replace 'crate::lib::' with 'qipu_core::' in all imports\n3. Verify no remaining references to crate::lib in commands/\n\n## Estimated Scope\nBased on grep, there are 100+ import statements to update across:\n- capture.rs, create.rs, edit.rs, init.rs, update.rs, verify.rs, etc.\n- Subdirectories: compact/, context/, dispatch/, doctor/, dump/, export/, format/, link/, list/, load/, merge/, prime/, search/, setup/, show/, store/, workspace/\n\n## Acceptance Criteria\n- No 'crate::lib' references remain in src/commands/\n- cargo check succeeds for the binary crate","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.084355759-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:46:19.631204433-05:00","closed_at":"2026-01-29T01:46:19.631204433-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-3u2r","depends_on_id":"qipu-vov7","type":"blocks","created_at":"2026-01-28T21:13:53.196254033-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-3vhu","title":"Version consistency test fails - Cargo.toml 0.2.85 vs git tag v0.2.89","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T00:44:20.694637697-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:46:24.492505738-05:00","closed_at":"2026-01-30T00:46:24.492505738-05:00","close_reason":"Closed"}
{"id":"qipu-3xfw","title":"Split tests/cli/compact/commands.rs: move show tests to show.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:02.103635405-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:03:59.852786931-05:00","closed_at":"2026-01-28T21:03:59.852786931-05:00","close_reason":"Closed"}
{"id":"qipu-40p","title":"Refactor: shrink src/commands/list/mod.rs","description":"Move tests out; reduce main module size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.069898946-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.142353399-05:00","closed_at":"2026-01-25T14:19:25.142353399-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-42n","title":"Add tests for corrupt DB recovery (auto-rebuild)","description":"Add tests covering corrupted sqlite db recovery path (delete + rebuild).","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.030537063-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:21:35.618795686-05:00","closed_at":"2026-01-28T00:21:35.618795686-05:00","close_reason":"Closed","labels":["db","tests"]}
{"id":"qipu-44wi","title":"Consolidate tags.join(,) formatting pattern (20+ occurrences)","description":"Extract duplicate tags CSV formatting to shared helper:\n\nWhat to change:\n- 20+ occurrences of tags.join(\",\") pattern:\n  - src/commands/create.rs:60\n  - src/commands/list/format/records.rs:42\n  - src/commands/format/status.rs:153\n  - src/commands/dump/serialize.rs:52\n  - src/commands/search/format/records.rs:31\n  - src/commands/link/records.rs:71\n  - And 15+ more locations\n\nHow to change:\n- Add format_tags() helper to qipu-core note/frontmatter module\n- Function: fn format_tags(tags: \u0026[String]) -\u003e String\n- Or add method to Note: note.tags_csv() -\u003e String\n- Replace all tags.join(\",\") calls with helper\n- Handle empty tags consistently\n\nWhy it matters:\n- Reduces duplication (20+ occurrences)\n- Consistent tag formatting across all output formats\n- Easy to change separator or formatting later\n- ~40 lines saved\n\nVerification:\n- Replace all occurrences with helper\n- Run tests: cargo test tags cargo test format\n- Verify tag output is unchanged in all formats\n\nContext:\n- Low risk, purely formatting change\n- Pattern used in both src/ and qipu-core","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:46.157585144-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:00:12.693901928-05:00","closed_at":"2026-01-29T23:00:12.693901928-05:00","close_reason":"Closed"}
{"id":"qipu-46ag","title":"Refactor qipu-core dijkstra_traverse function (337 lines)","description":"Decompose dijkstra_traverse function in graph/algos/dijkstra.rs:\n\nWhat to change:\n- crates/qipu-core/src/graph/algos/dijkstra.rs:48 (337 lines, +237 over limit)\n\nHow to change:\n- Extract initialization logic to dijkstra_init() helper\n- Extract priority queue processing to process_node_dijkstra() helper\n- Extract distance/cost calculation to calculate_path_cost() helper\n- Extract result construction to build_dijkstra_result() helper\n- Keep public dijkstra_traverse as orchestrator (~80 lines)\n- Each extracted function should be \u003c100 lines\n\nWhy it matters:\n- Function is 337 lines (grandfathered but needs cleanup)\n- Shares ~250 lines of nearly identical logic with bfs_traverse\n- Duplication makes maintenance difficult\n\nVerification:\n- Run existing tests: cargo test -p qipu-core graph\n- Verify behavior unchanged\n- Ensure new functions are \u003c100 lines each\n\nContext:\n- Coordinate with bfs_traverse refactor\n- Consider extracting shared traversal infrastructure after both are cleaned up\n- Function is grandfathered but should be cleaned up","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:59:58.110460866-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:46:32.01681758-05:00","closed_at":"2026-01-29T23:46:32.01681758-05:00","close_reason":"Closed"}
{"id":"qipu-47b","title":"Add error chain propagation tests","description":"Missing error chain propagation tests\n\nSpec: structured-logging.md\nIssue: Error chain propagation not tested\nLocation: tests/cli/\nAction: Test that error chains are correctly propagated in logs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:27.490177644-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T10:04:13.470748208-05:00","closed_at":"2026-01-27T10:04:13.470748208-05:00","close_reason":"Closed"}
{"id":"qipu-484q","title":"[cleanup] Remove unused imports and attributes","description":"## Summary\nRun `cargo clippy` and remove all unused imports (`unused_imports`) and attributes (`unused_attributes`, `duplicated_attributes`).\n\n## Scope\n- tests/bench/indexing.rs\n- src/lib/graph/mod.rs\n- src/lib/db/tests/*.rs\n- src/commands/export/emit/bibliography.rs\n- src/commands/dispatch/mod.rs\n- src/commands/link/json.rs\n- src/commands/link/tree.rs\n- src/commands/prime.rs\n- src/lib/db/search.rs\n- src/lib/graph/bfs.rs\n- src/commands/setup/tests.rs\n- src/lib/db/tests/search.rs\n- src/lib/similarity/tests.rs\n\n## Verification\nRun `cargo clippy --all-targets --all-features -- -D warnings` and ensure no unused import/attribute warnings remain.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:24:44.977248721-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T10:56:46.536368752-05:00","closed_at":"2026-01-27T10:56:46.536368752-05:00","close_reason":"Closed"}
{"id":"qipu-4952","title":"Hunt for and remove dead code","description":"Audit codebase for unused code: unused public functions, unused imports, dead code blocks, unreachable code, unused structs/enums, unused traits. Use cargo-udeps, dead-code lints, and manual audit. Document findings before removal.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.446506522-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T09:45:30.976279731-05:00","closed_at":"2026-01-29T09:45:30.976279731-05:00","close_reason":"Closed"}
{"id":"qipu-4ae8","title":"Fix link path via annotation bug when source node is compacted","description":"Failing tests:\n- cli::link::path::test_link_path_via_compacted_json\n- cli::link::path::test_link_path_via_multi_hop\n\nKnown limitation documented in tests/cli/link/path.rs:5-9:\nVia annotations in link path don't appear when start node is compacted.\nThis is a bug in path finding implementation.\n\nPlan: Investigate link path finding implementation to identify why via annotations are missing when source node is compacted, and fix accordingly.","status":"closed","priority":1,"issue_type":"bug","assignee":"mwaldstein@oxalis.io","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T22:17:25.276811352-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T22:30:37.000006946-05:00","closed_at":"2026-01-27T22:30:37.000006946-05:00","close_reason":"Closed"}
{"id":"qipu-4fl","title":"Add span/trace relationship tests","description":"No span/trace relationship tests\n\nSpec: structured-logging.md\nIssue: Span/trace relationships not tested\nLocation: tests/cli/\nAction: Test that span relationships are correctly logged","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:24.357079733-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T22:01:17.094804002-05:00","closed_at":"2026-01-26T22:01:17.094804002-05:00","close_reason":"Closed"}
{"id":"qipu-4fqw","title":"Split tests/cli/compact/annotations.rs (491 lines)","description":"Split tests/cli/compact/annotations.rs (491 lines) into per-command modules. Create annotations/mod.rs as entry point, extract list/show/context/export/search tests to separate files. Move shared setup to annotations/support.rs. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:11.001079128-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:11.001079128-05:00","dependencies":[{"issue_id":"qipu-4fqw","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.211340058-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-4hs","title":"Tests: qipu load rejects/sanitizes malicious attachment paths","description":"Security tests for attachment path traversal/absolute path handling in packs.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.654299158-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.724168691-05:00","closed_at":"2026-01-25T14:19:25.724168691-05:00","close_reason":"Closed","labels":["history","security","tests"]}
{"id":"qipu-4igs","title":"Fix release workflow: enable push tag triggers for v* tags","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:37:42.68841251-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:38:32.19539242-05:00","closed_at":"2026-01-30T07:38:32.19539242-05:00","close_reason":"Closed"}
{"id":"qipu-4mab","title":"Consolidate QipuError::Other format patterns","description":"Standardize QipuError::Other construction with format! into typed error variants.\n\nWhat to change:\n- 50+ occurrences of QipuError::Other(format!(\"...\", e)) pattern\n- Creates runtime error messages instead of compile-time typed errors\n\nCommon patterns to replace:\n1. \"failed to X: {}\" → Create specific error variant IoError, ParseError, etc.\n2. \"cannot determine X\" → Create ConfigurationError variant\n3. \"Custom field not found on note\" → Already appears 2x in custom.rs:151, 276\n\nFiles with high occurrence:\n- src/commands/load/loader.rs: Multiple format! errors for JSON/YAML/BibTeX loading\n- src/commands/export/mod.rs: Export failure messages\n- src/commands/dump/mod.rs: Dump operation errors\n- src/commands/custom.rs: Custom field errors (duplicate pattern)\n\nHow to change:\n1. Extend QipuError enum in src/lib/error.rs with specific variants:\n   - LoadError { path: String, source: String }\n   - ExportError { format: String, source: String }\n   - FieldNotFound { field: String, note_id: String }\n2. Replace format! calls with typed constructors\n3. Use source attribute for error chaining\n\nWhy it matters:\n- Type safety: errors are compile-time checked\n- Better error handling: match on specific variants\n- Consistent error formatting across CLI\n- Enables programmatic error handling\n\nVerification:\n- cargo test passes\n- cargo clippy with warnings as errors passes\n- All QipuError::Other(format!()) replaced\n- Error messages display identically to users\n\nContext:\n- Related to error pattern consolidation task (qipu-8zcw)\n- This task focuses on Other(format!()) specifically\n- Target: reduce format! in errors by 80%\n","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:52:44.666608157-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:52:44.666608157-05:00"}
{"id":"qipu-4pba","title":"Split tests/cli/context/compaction.rs (457 lines)","description":"Split tests/cli/context/compaction.rs (457 lines) by resolution type. Create compaction/mod.rs, extract via/no_resolve/mixed tests. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:17.327183257-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:17.327183257-05:00","dependencies":[{"issue_id":"qipu-4pba","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.668054303-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-4qi9","title":"Extract resolve_root_path borrowing pattern","description":"Extract resolve_root_path borrowing pattern:\n\nWhat to change:\n- 7 occurrences of resolve_root_path(cli.root.clone()) across workspace/compact modules\n\nLocations:\n- src/commands/workspace/merge.rs:30\n- src/commands/workspace/list.rs:24\n- src/commands/workspace/delete.rs:9\n- src/commands/workspace/new.rs:31\n- src/commands/dispatch/mod.rs:22\n- src/commands/compact/utils.rs:11\n- src/commands/compact/apply.rs:34\n\nHow to change:\n- Change: resolve_root_path(cli.root.clone())\n- To: resolve_root_path(cli.root.as_ref())\n- Or better: add helper method to CLI struct\n- Resolve path should accept impl AsRef\u003cPath\u003e instead of requiring PathBuf\n\nWhy it matters:\n- 7 redundant .clone() calls for root path resolution\n- Unnecessary allocation for path that is only read\n- Small performance improvement across multiple commands\n- Reduces clone count in commands module\n\nVerification:\n- Ensure all tests pass: cargo test workspace compact\n- Verify no behavioral changes\n- Run cargo clippy to verify no warnings\n- Confirm resolve_root_path signature change is backward compatible\n\nContext:\n- Related to clone reduction in commands (bd task qipu-bn47)\n- Extracts one specific pattern to reduce duplication","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:50.943102426-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:50.943102426-05:00","dependencies":[{"issue_id":"qipu-4qi9","depends_on_id":"qipu-bn47","type":"blocks","created_at":"2026-01-30T08:13:20.941892998-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-50zr","title":"Fix type_complexity warning in link/tree.rs:92","description":"Fix type_complexity clippy warning in link tree module:\n\nWhat to change:\n- src/commands/link/tree.rs:92\n- Complex tuple return type should be factored into type definitions\n\nHow to change:\n- Identify the complex tuple return type at line 92\n- Extract into proper struct with named fields\n- Update function signature to return new struct\n- Update all destructuring call sites\n- Add documentation for the new type\n\nWhy it matters:\n- Fixes clippy warning (CI enforces -D warnings)\n- Complex tuples are hard to read and error-prone\n- Named struct fields are self-documenting\n\nVerification:\n- Run clippy after fix: cargo clippy --all-targets --all-features\n- Verify no type_complexity warning for this file\n- Run tests: cargo test link\n- Ensure no behavioral changes\n\nContext:\n- Separate from notes/read.rs:330 type complexity (task qipu-bxob)\n- Focus only on link/tree.rs:92","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:52.95619732-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:34:31.433089836-05:00","closed_at":"2026-01-30T00:34:31.433089836-05:00","close_reason":"Closed"}
{"id":"qipu-56cb","title":"Extract test setup helpers to reduce duplication","description":"Centralize common test setup patterns:\n\nWhat to change:\n- tests/cli/support.rs (add new helpers)\n- 500+ duplicate test initialization patterns across test files\n\nHow to change:\n- Add init_store(dir) helper to support.rs:\n  - Takes TempDir, runs qipu init, returns Store instance\n  - Replaces 500+ instances of: tempdir + qipu().arg(init).assert().success()\n- Add create_note(dir, title) helper:\n  - Creates note, extracts and returns ID\n  - Replaces 300+ instances of note creation + ID extraction\n- Add setup_custom_ontology(dir, config) helper:\n  - Writes config to .qipu/config.toml\n  - Replaces ~50 instances in ontology tests\n- Update existing 24 files with local qipu() to use support::qipu()\n\nWhy it matters:\n- 500+ duplicate setup patterns waste lines\n- Test files are bloated with setup code\n- Hard to maintain: changes require 500 edits\n- Extracting will reduce many files below 500-line limit\n\nVerification:\n- Run all tests: cargo test\n- Verify helper functions work correctly\n- Check files sizes after extraction (should be \u003c500 lines)\n\nContext:\n- P1 priority: unblocks test file splitting tasks\n- Reduces clone() usage in tests by ~40%\n- Many test split tasks depend on this","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:15.77823651-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:06:37.170651885-05:00","closed_at":"2026-01-30T00:06:37.170651885-05:00","close_reason":"Closed"}
{"id":"qipu-56g","title":"Harden qipu load against attachment path traversal","description":"Validate attachment paths stay within attachments dir via canonicalization + starts_with.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:20.835020659-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:20.907732694-05:00","closed_at":"2026-01-25T14:19:20.907732694-05:00","close_reason":"Closed","labels":["history","security"]}
{"id":"qipu-594","title":"llm-tool-test: parse actual token usage/cost from tool output","description":"Historical: replaced len()/4 estimate; adapters now return None until tools report actual usage.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.367263593-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:29.438845808-05:00","closed_at":"2026-01-25T14:19:29.438845808-05:00","close_reason":"Closed","labels":["history","llm-tool-test"]}
{"id":"qipu-5ab","title":"Prime: detect MCP/agent environment to adjust verbosity","description":"From docs/research/beads-llm-bootstrapping.md: optional environment detection (MCP/server) to emit minimal vs full prime output. Define detection method + opt-out flags.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.931366227-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T01:00:09.30627452-05:00","closed_at":"2026-01-30T01:00:09.30627452-05:00","close_reason":"Closed","labels":["cli","future"]}
{"id":"qipu-5alo","title":"Release workflow triggers missing","status":"deferred","priority":3,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.6017636-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:36:53.251914381-05:00","defer_until":"2026-01-26T21:36:53-05:00","labels":["blocked-human","broken","distribution"]}
{"id":"qipu-5d0h","title":"Refactor: Remove unused DoctorCheck trait and macros in doctor command","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:36:50.713148114-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T22:17:54.395688228-05:00","closed_at":"2026-01-27T22:17:54.395688228-05:00","close_reason":"Closed"}
{"id":"qipu-5do","title":"Distribution: package for winget/Scoop (Windows)","description":"Add/maintain Windows package manager publishing (future).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.168856334-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.098777396-05:00","labels":["distribution"]}
{"id":"qipu-5fy","title":"Add tests for FTS5 field weighting","description":"No explicit tests for FTS5 field weighting (2.0/1.5/1.0)\n\nSpec: operational-database.md\nIssue: Field weights configured but not explicitly tested\nLocation: src/lib/db/tests/search.rs\nAction: Test that FTS5 field weights are correctly applied","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:30.964411071-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T10:21:03.971117278-05:00","closed_at":"2026-01-27T10:21:03.971117278-05:00","close_reason":"Closed"}
{"id":"qipu-5g1","title":"Design: Backlinks in context bundles","description":"Design work needed for backlinks in context bundles\n\nSpec: llm-context.md:121\nOpen question: Should backlinks be included by default or via --backlinks flag?\nCurrent: Not included\nAction: Design backlinks inclusion policy\nPriority: P3 - design decision","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:07.536348989-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:46:16.261006811-05:00","closed_at":"2026-01-28T01:46:16.261006811-05:00","close_reason":"Closed"}
{"id":"qipu-5k0","title":"Init: improve post-init guidance (next commands)","description":"From docs/research/beads-llm-bootstrapping.md: after `qipu init`, print next-step guidance like `qipu prime` and (if added) `qipu quickstart`. Likely touch: src/commands/init.rs output.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.457548694-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T07:00:07.802746457-05:00","closed_at":"2026-01-28T07:00:07.802746457-05:00","close_reason":"Closed","labels":["cli"]}
{"id":"qipu-5ldk","title":"Split tests/workspace_merge_test.rs: move delete source tests to delete_source.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:23.073851581-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:08:49.307506963-05:00","closed_at":"2026-01-28T23:08:49.307506963-05:00","close_reason":"Closed"}
{"id":"qipu-5lt3","title":"Refactor parse_records_pack (365 lines) in commands/load/deserialize.rs","description":"## Problem\n`parse_records_pack` in `src/commands/load/deserialize.rs` is 365 lines - well over the 100-line limit.\n\n## Analysis\nThe function is a large parser with multiple parsing modes (header, notes, links, attachments, config). Each record type (H, N, B, C, S, L, A, D, CFG) has distinct parsing logic.\n\n## Refactoring Plan\n1. Extract record type handlers into separate functions:\n   - `parse_header_line(line) -\u003e Option\u003cPackHeader\u003e`\n   - `parse_note_line(line) -\u003e Option\u003cPackNote\u003e`\n   - `parse_source_line(line, note: \u0026mut PackNote)`\n   - `parse_link_line(line) -\u003e Option\u003cPackLink\u003e`\n   - `parse_attachment_line(line) -\u003e Option\u003cPackAttachment\u003e`\n   - `parse_config_line(line, config_lines: \u0026mut Vec\u003cString\u003e)`\n2. Extract content finalization logic already exists as `finalize_note_content`\n3. Main `parse_records_pack` becomes a dispatcher calling these handlers\n\n## Verification\n- Run `cargo test --test cli_tests load`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/load/deserialize.rs:parse_records_pack` from ALLOWED_FUNCTIONS in scripts/check_function_complexity.py when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:31:34.403127964-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:41:32.041942037-05:00","closed_at":"2026-01-29T13:41:32.041942037-05:00","close_reason":"Closed"}
{"id":"qipu-5t5","title":"llm-tool-test: enforce budget exhaustion as error","description":"Budget overage is fatal (no longer warning-only).","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.321807949-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.408406876-05:00","closed_at":"2026-01-25T14:19:22.408406876-05:00","close_reason":"Closed","labels":["history","llm-tool-test"]}
{"id":"qipu-5ywb","title":"Split tests/cli/link/tree/custom_cost.rs (736 lines)","description":"Refactor large test file into multiple focused test modules: basic_cost.rs, edge_cost.rs, value_weighting.rs, custom_costs.rs. Ensure all tests still pass after split.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.431973662-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T09:50:25.312571551-05:00","closed_at":"2026-01-29T09:50:25.312571551-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-5ywb","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.499278875-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-617g","title":"Version mismatch: git tag v0.2.75 but Cargo.toml has version 0.2.61","description":"Test failure: cli::misc::test_version_consistency expects Cargo.toml version to match git tag v0.2.75 but Cargo.toml has 0.2.61. Plan: Update Cargo.toml version to 0.2.75 to match git tag.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T02:33:07.806597463-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:38:01.888579421-05:00","closed_at":"2026-01-29T02:38:01.888579421-05:00","close_reason":"Closed"}
{"id":"qipu-63hk","title":"Update LinkType validation for custom ontology","description":"Update LinkType::inverse() to use Ontology::get_inverse(). Add validate() method. Update all call sites to pass ontology context. Files: src/lib/note/types.rs, src/lib/config.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:26.807956315-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T10:07:30.970929509-05:00","closed_at":"2026-01-28T10:07:30.970929509-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-63hk","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:26.810077282-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-63tk","title":"Fix version mismatch: git tag v0.2.77 but Cargo.toml has 0.2.76","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T03:27:25.791384383-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T03:29:33.038994763-05:00","closed_at":"2026-01-29T03:29:33.038994763-05:00","close_reason":"Closed"}
{"id":"qipu-64lz","title":"Implement budget enforcement for llm-tool-test scenarios","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T01:23:04.397353437-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:35:53.000712701-05:00","closed_at":"2026-01-30T07:35:53.000712701-05:00","close_reason":"Implemented budget enforcement for llm-tool-test: Added --max-usd CLI flag and LLM_TOOL_TEST_BUDGET_USD env var for session budget. Added cost.max_usd field to scenario YAML for per-scenario cost limits. Budget check validates scenario cost limit doesn't exceed session budget before running. Fixed clippy warnings."}
{"id":"qipu-64v5","title":"Human format truncation mismatch","notes":"Spec: llm-context.md line 129-132\n\nCurrent: Human format shows top-level '*Note: Output truncated due to --max-chars budget*' and excludes entire notes (src/commands/context/human.rs:76-79,215-236)\n\nExpected: Either truncate note content with '…[truncated]' marker (matching JSON/records format), or clarify spec that human format excludes entire notes","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.607239744-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:20:25.629063903-05:00","closed_at":"2026-01-25T21:20:25.629063903-05:00","close_reason":"Closed","labels":["bug","llm-context"]}
{"id":"qipu-65i","title":"Feature: inline link materialization (inline -\u003e frontmatter)","description":"Optional: rewrite inline markdown links into typed frontmatter links.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.728413455-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.990213243-05:00","labels":["future","graph-traversal"]}
{"id":"qipu-677q","title":"Document or remove 21 ignored tests","description":"Address 21 #[ignore] tests without documentation:\n\nWhat to change:\n- Find all tests marked #[ignore] (primarily benchmarks)\n- Add documentation for each explaining:\n  * Why is it ignored?\n  * When should it run?\n  * What criteria determines it can be un-ignored?\n\nHow to change:\n- Add comment above each #[ignore]:\n  // Ignored: requires release build for accurate timing\n  // Un-ignore when: running cargo test --release -- --ignored\n- Or add ignore attribute with reason if using newer Rust:\n  #[ignore = \"requires --release for accurate benchmarks\"]\n- Consider if some should be un-ignored and fixed\n\nWhy it matters:\n- Ignored tests decay (no one knows why)\n- Prevents accidental permanent disabling\n- Documents intent for future maintainers\n\nVerification:\n- Run: cargo test -- --ignored (verify they still pass)\n- Check each ignore has documentation\n- Review if any can be un-ignored","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:42.918428649-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:42.918428649-05:00"}
{"id":"qipu-68mv","title":"Split tests/workspace_merge_test.rs: move rename strategy tests to rename_strategy.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:23.079830155-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:13:25.207673386-05:00","closed_at":"2026-01-28T23:13:25.207673386-05:00","close_reason":"Closed"}
{"id":"qipu-6bt4","title":"Fix check_function_complexity.py closure handling bug","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T23:19:56.221626394-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:22:48.662531373-05:00","closed_at":"2026-01-29T23:22:48.662531373-05:00","close_reason":"Closed"}
{"id":"qipu-6fgp","title":"Extract shared compact command utilities","description":"## Problem\nThe compact subcommands (report, show, suggest, status) share common patterns:\n1. Store discovery (same 10 lines in each)\n2. Output formatting with 3 formats (Human, JSON, Records)\n\n## Refactoring Plan\n1. Extract shared store discovery:\n   - `discover_compact_store(cli) -\u003e Result\u003cStore\u003e`\n   - Or use the existing `discover_or_open_store` from dispatch/mod.rs\n2. Consider shared output trait:\n   - `trait CompactOutput { fn human(); fn json(); fn records(); }`\n   - Or simpler: just extract formatters per-command\n\n## Benefit\nReduces duplication across 4 files, makes each ~20-30 lines shorter.\n\n## Verification\n- Run `cargo test --test cli_tests compact`\n\n## Related tasks\nThis enables simpler refactors for:\n- qipu-16hp (report.rs)\n- qipu-qsyj (show.rs)  \n- qipu-t8v2 (suggest.rs)\n- qipu-m9ut (status.rs)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:33:28.037185164-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:40:31.61489349-05:00","closed_at":"2026-01-29T14:40:31.61489349-05:00","close_reason":"Closed"}
{"id":"qipu-6hfv","title":"Golden version test mismatch - Cargo.toml has 0.2.46 but golden file expects 0.2.43","description":"test_golden_version_output fails because Cargo.toml version (0.2.46) doesn't match tests/golden/version.txt (0.2.43). Update golden file or fix version mismatch.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T13:03:09.801912861-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:05:53.638008214-05:00","closed_at":"2026-01-28T13:05:53.638008214-05:00","close_reason":"Closed"}
{"id":"qipu-6lue","title":"Refactor db/notes/read.rs:list_notes_full (110 lines)","description":"## Problem\n`list_notes_full` in `crates/qipu-core/src/db/notes/read.rs` is 110 lines.\n\n## Analysis\nThe function reads all notes from the database with full details. Most of the code is repetitive row field extraction with error handling. Similar pattern to `get_note` (105 lines).\n\n## Refactoring Plan\n1. Extract row parsing helper:\n   - `parse_note_row(row) -\u003e Result\u003cNoteRowData\u003e` \n   - Handles all the `.get(N)` calls with error mapping\n2. Create shared `build_note_from_row_data(db, data) -\u003e Result\u003cNote\u003e`\n   - Loads tags, links, compacts, sources, custom from helpers\n   - Builds frontmatter and Note\n3. Both `list_notes_full` and `get_note` use these helpers\n\n## Verification\n- Run `cargo test -p qipu-core`\n- Run tests that exercise note listing\n\n## Cleanup\nRemove `lib/db/notes/read.rs:list_notes_full` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:49.811944007-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:21:16.125225051-05:00","closed_at":"2026-01-29T14:21:16.125225051-05:00","close_reason":"Closed"}
{"id":"qipu-6pe","title":"Add cross-platform binary tests","description":"No cross-platform binary tests\n\nSpec: distribution.md\nIssue: Binary compatibility not tested across platforms\nLocation: tests/ or CI\nAction: Test that binaries work on target platforms\nPriority: P3 - infrastructure","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:53.684958384-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:14:38.380805732-05:00","closed_at":"2026-01-28T00:14:38.380805732-05:00","close_reason":"Closed"}
{"id":"qipu-6pi","title":"Add performance benchmark tests","description":"No performance benchmark tests for DB operations\n\nSpec: operational-database.md\nTargets:\n- \u003c50ms search\n- \u003c10ms backlinks\n- \u003c100ms traversal\nLocation: tests/bench/\nAction: Add benchmark tests for database operations","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:34.661907655-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T11:58:59.495081807-05:00","closed_at":"2026-01-27T11:58:59.495081807-05:00","close_reason":"Closed"}
{"id":"qipu-6q6","title":"Onboard: keep snippet minimal; point to qipu prime","description":"From docs/research/beads-llm-bootstrapping.md: keep onboard/AGENTS.md snippet ~10 lines + short quick reference; full details live in `qipu prime`. Audit current output and adjust if needed.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.539833667-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:01:33.975893851-05:00","closed_at":"2026-01-28T13:01:33.975893851-05:00","close_reason":"Closed","labels":["agents-md","cli"]}
{"id":"qipu-6qb","title":"Fix SHA256SUMS file format","description":"SHA256SUMS file format incorrect\n\nLocation: .github/workflows/release.yml:99-152\nIssue: Generates individual .sha256 files instead of combined SHA256SUMS\nImpact: Install scripts expect single combined file\n\nBLOCKED BY: GitHub Actions not enabled for repository","notes":"This issue duplicates qipu-ba9q which was created with better tracking. Closing this duplicate.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:23.502324057-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:16:02.760255537-05:00","closed_at":"2026-01-28T21:16:02.760255537-05:00","close_reason":"Duplicate issues - see qipu-ba9q and qipu-lmpy","labels":["blocked","closed","duplicate"],"dependencies":[{"issue_id":"qipu-6qb","depends_on_id":"qipu-abg","type":"blocks","created_at":"2026-01-25T14:38:30.075659623-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-6qq","title":"Add explicit test for incremental repair","description":"Missing explicit test for incremental repair behavior\n\nSpec: indexing-search.md (mtime-based indexing)\nIssue: Behavior exists but not explicitly tested\nLocation: tests/cli/ or src/lib/db/tests/","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:04.829427298-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T05:17:38.074407735-05:00","closed_at":"2026-01-26T05:17:38.074407735-05:00","close_reason":"Closed"}
{"id":"qipu-6rbj","title":"Implement or remove todo!() stub in store/notes.rs","description":"Address todo!() stub in note template handling:\n\nWhat to change:\n- crates/qipu-core/src/store/notes.rs:87\n\nHow to change:\n- Examine the _ =\u003e todo!() pattern at line 87\n- Determine what note template variant is not implemented\n- Either:\n  A) Implement the missing template variant support\n  B) Remove the variant from the enum if not needed\n  C) Replace todo!() with proper error handling (Err(...))\n\nWhy it matters:\n- todo!() will panic if reached - production code should not panic\n- Indicates incomplete implementation\n- May be reachable by user input\n\nVerification:\n- Run: cargo test --lib qipu-core\n- If implementing: add test covering the new variant\n- If removing: verify variant truly unused\n- Run: cargo build --release to check for warnings","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:49.937051592-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:40:34.854642528-05:00","closed_at":"2026-01-30T09:40:34.854642528-05:00","close_reason":"Closed"}
{"id":"qipu-6va2","title":"Standardize no","description":"Consolidate","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:52:11.156108242-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:52:11.156108242-05:00"}
{"id":"qipu-6w28","title":"Fix version consistency: Cargo.toml 0.2.37 vs git tag v0.2.41","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T06:59:43.542803761-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T07:03:45.919828448-05:00","closed_at":"2026-01-28T07:03:45.919828448-05:00","close_reason":"Closed"}
{"id":"qipu-7bot","title":"Integration tests for custom ontology","description":"Test full workflow, migration from graph.types, pack round-trip, prime output, error messages. File: tests/cli/ontology.rs (new)","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:53:03.102006328-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:43:53.623228563-05:00","closed_at":"2026-01-28T12:43:53.623228563-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-7bot","depends_on_id":"qipu-8tjm","type":"blocks","created_at":"2026-01-25T20:53:03.103261539-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-7bot","depends_on_id":"qipu-2x9u","type":"blocks","created_at":"2026-01-25T20:53:03.105149536-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-7bot","depends_on_id":"qipu-kz1j","type":"blocks","created_at":"2026-01-25T20:53:03.106837874-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-7bot","depends_on_id":"qipu-pk43","type":"blocks","created_at":"2026-01-25T20:53:03.108485786-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-7bot","depends_on_id":"qipu-y1sm","type":"blocks","created_at":"2026-01-25T20:53:03.110247229-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-7bot","depends_on_id":"qipu-i48p","type":"blocks","created_at":"2026-01-25T20:53:03.111863467-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-7eb","title":"Telemetry (DRAFT): opt-in/opt-out mechanism (do not implement)","description":"Spec telemetry.md marked DRAFT/DO NOT IMPLEMENT; await approval.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.485346049-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.141582365-05:00","labels":["draft","telemetry"]}
{"id":"qipu-7eh2","title":"Remove unused imports annotation in config.rs","description":"Remove","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:00:48.18831518-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:00:48.18831518-05:00"}
{"id":"qipu-7fwa","title":"Split tests/cli/json_schema.rs (498 lines)","description":"Split tests/cli/json_schema.rs (498 lines) by command group. Create json_schema/mod.rs, extract notes/query/links/system tests. Move schema validation helpers to support.rs. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:13.50636284-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:13.50636284-05:00","dependencies":[{"issue_id":"qipu-7fwa","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.47562298-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-7gnv","title":"Add documentation to llm-tool-test public API","description":"Document public items in llm-tool-test:\n\nWhat to change:\n- crates/llm-tool-test/src/scenario.rs (9 pub items, 0 docs)\n- crates/llm-tool-test/src/judge.rs (4 pub items, minimal docs)\n- crates/llm-tool-test/src/results.rs (9 pub structs, minimal docs)\n- crates/llm-tool-test/src/adapter/mod.rs (7 pub types, minimal docs)\n- Total: ~30 public items lacking documentation\n\nHow to change:\n- Add doc comments to all public structs/enums\n- Document public methods with examples where helpful\n- Add module-level documentation (//!) to each module\n- Follow Rust doc conventions: short summary + detailed description\n- Use cargo doc --no-deps -p llm-tool-test to preview\n\nWhy it matters:\n- 30+ undocumented public items is poor practice\n- Makes crate difficult to use as dependency\n- No API documentation available\n\nVerification:\n- Build docs: cargo doc --no-deps -p llm-tool-test\n- Check for doc warnings (should be minimal)\n- Review generated documentation for completeness\n\nContext:\n- P3 priority: documentation is important but not blocking\n- Can be done incrementally\n- Related to scenario.rs split (add docs during refactor)","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:41.963302286-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:38:59.893746665-05:00","closed_at":"2026-01-30T00:38:59.893746665-05:00","close_reason":"Closed"}
{"id":"qipu-7hsg","title":"pack: security tests failing with missing config_count field","notes":"test_malicious_attachment_path_traversal and test_malicious_attachment_absolute_path failing with: 'failed to parse JSON pack: missing field '","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T12:19:59.211879955-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:25:55.641739272-05:00","closed_at":"2026-01-28T12:25:55.641739272-05:00","close_reason":"Closed"}
{"id":"qipu-7j6i","title":"Complete structured logging instrumentation","description":"Spec requires span-based instrumentation for note operations (creation, parsing, indexing), search operations (query processing, ranking, result filtering), graph operations (traversal, link resolution, compaction), and error chain tracing. Currently only database and some graph algos have spans. Missing: note parsing spans, search query instrumentation, link resolution tracing, recovery action logging, validation failure context.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.966974042-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:18:21.747996858-05:00","closed_at":"2026-01-27T15:18:21.747996858-05:00","close_reason":"Closed","labels":["structured-logging"]}
{"id":"qipu-7jb5","title":"Split tests/pack/traversal.rs: split by traversal type (dfs/bfs/etc)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:48.130853923-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:50:26.885657591-05:00","closed_at":"2026-01-28T23:50:26.885657591-05:00","close_reason":"Closed"}
{"id":"qipu-7kll","title":"Split tests/cli/doctor.rs: move compaction validation tests to compaction_validation.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.042437533-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:59:58.198151124-05:00","closed_at":"2026-01-28T22:59:58.198151124-05:00","close_reason":"Closed"}
{"id":"qipu-7lt4","title":"Extract test setup helpers to reduce duplication (400+ occurrences)","description":"Extract test setup helpers to reduce duplication (400+ occurrences).\n\nWhat to change:\n- 400+ test setup patterns across 96 test files\n- Pattern: let dir = tempdir().unwrap(); qipu().current_dir(dir.path()).arg(\"init\")\n- Pattern: create_note() + extract_id() duplicated 50+ times\n\nHow to change:\n- Add to tests/cli/support.rs:\n  - setup_test_store() -\u003e (TempDir, Command)\n  - create_note(dir, title) -\u003e String (returns ID)\n  - create_note_with_content(dir, title, content) -\u003e String\n- Replace all 400+ occurrences with helpers\n- Keep tests focused on assertions, not setup\n\nWhy it matters:\n- 400+ duplicated setup lines (20% of test code)\n- Setup changes require 400 edits\n- Tests should focus on what they test\n- Helpers make tests more readable\n\nVerification:\n- Run: cargo test\n- Verify all tests pass\n- Check code reduction in test files\n- Ensure helpers don't hide test intent\n\nContext:\n- Priority P2 (test maintainability)\n- Should be done before splitting large test files\n- Depends on: understanding test patterns\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:39.648984128-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:07:14.499359989-05:00","closed_at":"2026-01-29T22:07:14.499359989-05:00","close_reason":"Closed"}
{"id":"qipu-7ojk","title":"Create qipu-core crate scaffold","description":"Create the directory structure and Cargo.toml for the new qipu-core library crate.\n\n## Tasks\n1. Create directory: crates/qipu-core/\n2. Create crates/qipu-core/Cargo.toml with:\n   - Package name: qipu-core\n   - Same version as main crate (0.2.58)\n   - Edition 2021\n   - Appropriate metadata (description, license, repository)\n3. Create empty crates/qipu-core/src/lib.rs placeholder\n4. Add 'crates/qipu-core' to workspace members in root Cargo.toml\n\n## Acceptance Criteria\n- cargo check succeeds with empty qipu-core crate\n- Workspace has 3 members: '.', 'crates/qipu-core', 'crates/llm-tool-test'\n\n## Files to Create/Modify\n- crates/qipu-core/Cargo.toml (new)\n- crates/qipu-core/src/lib.rs (new)\n- Cargo.toml (update workspace members)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:09.425555603-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:25:13.561856912-05:00","closed_at":"2026-01-29T00:25:13.561856912-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-7ojk","depends_on_id":"qipu-gyg5","type":"blocks","created_at":"2026-01-28T21:13:52.807481879-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-7r2u","title":"Consolidate store path resolution pattern (7 occurrences)","description":"Extract duplicate store path resolution pattern to shared helper:\n\nWhat to change:\n- 7 locations with env::current_dir() fallback pattern:\n  - src/commands/workspace/list.rs:27\n  - src/commands/workspace/merge.rs:35\n  - src/commands/workspace/delete.rs:14\n  - src/commands/workspace/new.rs:35\n  - src/commands/compact/apply.rs:36\n  - src/commands/compact/utils.rs:14\n  - src/commands/dispatch/mod.rs:26\n\nHow to change:\n- Create src/cli/paths.rs module with resolve_root_path() helper\n- Function signature: fn resolve_root_path(root: Option\u003cPathBuf\u003e) -\u003e PathBuf\n- Implement consistent fallback to current_dir() or \".\"\n- Replace all 7 occurrences with calls to new helper\n- Add unit tests for the helper\n\nWhy it matters:\n- Reduces code duplication (7 occurrences)\n- Ensures consistent path resolution behavior\n- Makes path handling more maintainable\n- ~35 lines saved\n\nVerification:\n- Replace all 7 occurrences with shared helper\n- Run tests: cargo test workspace cargo test compact\n- Ensure no behavioral changes in path resolution\n\nContext:\n- Low risk refactoring\n- Pattern is well-defined and consistent across files","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:32.378405035-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:49:15.162525878-05:00","closed_at":"2026-01-29T22:49:15.162525878-05:00","close_reason":"Closed"}
{"id":"qipu-7uul","title":"Add transcript redaction for llm-tool-test","description":"Spec llm-user-validation.md lines 513-523 requires redacting API keys, passwords, emails, file paths before writing report.md. No redaction code exists. Search found 0 matches for 'redact' in codebase. Location: src/commands/llm-tool-test/transcript.rs:183-273 (report generation), src/commands/llm-tool-test/transcript.rs:21-24 (raw transcript write). Security risk: sensitive credentials may be committed to transcripts.","status":"closed","priority":2,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:39:43.681671904-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T14:00:57.378222315-05:00","closed_at":"2026-01-28T14:00:57.378222315-05:00","close_reason":"Closed","labels":["llm-tool-test","security"],"dependencies":[{"issue_id":"qipu-7uul","depends_on_id":"qipu-rtj","type":"blocks","created_at":"2026-01-25T18:40:03.162776891-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-7vr5","title":"Identify and remove tests that don't test real functionality","description":"Review 1024 tests to identify tests that don't exercise actual behavior (e.g., tests that only assert on hardcoded values, tests that don't use the CLI or internal APIs meaningfully). Document findings and create removal tasks with justification.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:55.577167197-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:13:04.132056493-05:00","closed_at":"2026-01-28T17:13:04.132056493-05:00","close_reason":"Closed"}
{"id":"qipu-82f","title":"Remove unjustified #[allow(dead_code)] in db/repair.rs + db/traverse.rs","description":"Audit remaining allows noted in plan (src/lib/db/repair.rs, src/lib/db/traverse.rs) and remove if unjustified.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.934449471-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T10:38:44.278970064-05:00","closed_at":"2026-01-27T10:38:44.278970064-05:00","close_reason":"Closed","labels":["tech-debt"]}
{"id":"qipu-85l","title":"llm-tool-test: stop estimating token usage from len()/4","description":"Adapters return None for token_usage/cost_estimate; tool should report real usage.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.168789304-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.241268153-05:00","closed_at":"2026-01-25T14:19:22.241268153-05:00","close_reason":"Closed","labels":["history","llm-tool-test"]}
{"id":"qipu-8dc","title":"Progressive indexing: Phase 4 progress reporting + batching","description":"Verbose progress, batched commits (checkpoints) during indexing.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.231603864-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.320175886-05:00","closed_at":"2026-01-25T14:19:23.320175886-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-8ifn","title":"Split llm-tool-test scenario/tests.rs (491 lines)","description":"Split crates/llm-tool-test/src/scenario/tests.rs (491 lines):\n\nWhat to change:\n- crates/llm-tool-test/src/scenario/tests.rs (currently 491 lines, 9 lines from limit)\n\nHow to change:\n- Create crates/llm-tool-test/src/scenario/tests/mod.rs as entry point\n- Extract scenario loading tests to tests/loading.rs\n- Extract scenario validation tests to tests/validation.rs\n- Extract scenario execution tests to tests/execution.rs\n- Keep mod.rs with shared test utilities\n\nWhy it matters:\n- File is 9 lines from CI 500-line limit\n- Very high risk of imminent CI failure\n- Tests mixed with production code patterns\n- Hard to navigate test suite\n\nVerification:\n- Ensure all tests pass: cargo test --package llm-tool-test\n- Verify each new file is \u003c400 lines\n- Confirm no test coverage loss\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- No functional changes, only test reorganization","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:20.211848831-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:20.211848831-05:00"}
{"id":"qipu-8ii","title":"Add tests for workspace --delete-source flag","description":"Missing tests for --delete-source flag in workspace merge\n\nSpec: workspaces.md\nIssue: Flag not tested\nLocation: tests/workspace/\nAction: Test that --delete-source correctly removes source workspace after merge","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:13.651436311-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T20:38:17.485373604-05:00","closed_at":"2026-01-26T20:38:17.485373604-05:00","close_reason":"Closed"}
{"id":"qipu-8jvu","title":"Refactor run_single_scenario() in llm-tool-test/src/run.rs","description":"Extract run_single_scenario() (currently ~394 lines at lines 17-411) into smaller units: Extract cache checking logic to check_cache(), scenario setup to setup_scenario_env(), command execution to execute_scenario_commands(), result building to build_result_record(), dry-run path to handle_dry_run(). Keep orchestrator function ~50 lines. Verification: cargo test -p llm-tool-test passes, check_function_complexity.py shows no violations.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:10.212104748-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:10.212104748-05:00","dependencies":[{"issue_id":"qipu-8jvu","depends_on_id":"qipu-fp6y","type":"blocks","created_at":"2026-01-30T08:06:18.530588716-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-8l4p","title":"Refactor qipu-core bfs_traverse function (334 lines)","description":"Decompose bfs_traverse function in graph/algos/bfs.rs:\n\nWhat to change:\n- crates/qipu-core/src/graph/algos/bfs.rs:13 (334 lines, +234 over limit)\n\nHow to change:\n- Extract initialization logic to bfs_init() helper\n- Extract queue processing loop body to process_node() helper\n- Extract result construction to build_tree_result() helper\n- Extract truncation checking to check_truncation_limits() helper\n- Keep public bfs_traverse as orchestrator (~80 lines)\n- Each extracted function should be \u003c100 lines with single responsibility\n\nWhy it matters:\n- Function is 334 lines (grandfathered but needs cleanup)\n- Difficult to test and maintain at this size\n- Shares ~250 lines of identical logic with dijkstra_traverse\n\nVerification:\n- Run existing tests: cargo test -p qipu-core graph\n- Verify behavior unchanged (no functional changes)\n- Ensure new functions are \u003c100 lines each\n\nContext:\n- Coordinate with dijkstra_traverse refactor to share common logic\n- Function is grandfathered but should be cleaned up","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:59:56.771171724-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:19:58.026259627-05:00","closed_at":"2026-01-29T23:19:58.026259627-05:00","close_reason":"Closed"}
{"id":"qipu-8lgz","title":"Reduce clone() usage by 30-40% in qipu-core","description":"Audit 174 clone() calls in crates/qipu-core. Replace unnecessary clones with: borrowing (\u0026), Copy trait for small types, Cow\u003cstr\u003e for string ownership. Ensure all tests pass and no performance regressions.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.127521782-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T11:31:14.299665329-05:00","closed_at":"2026-01-29T11:31:14.299665329-05:00","close_reason":"Closed"}
{"id":"qipu-8qb","title":"Clarify: Value in compaction suggestions","description":"Spec clarification needed for value in compaction suggestions\n\nSpec: value-model.md:189\nOpen question: Should compaction suggestions factor in value?\nCurrent: Value not used in compaction\nAction: Decide if low-value notes should be prioritized for compaction\nPriority: P3 - spec clarification","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:22.716332901-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:41:13.884503978-05:00","closed_at":"2026-01-28T06:41:13.884503978-05:00","close_reason":"Closed"}
{"id":"qipu-8tjm","title":"Add qipu ontology show command","description":"New command to display active ontology. Show name, version, note types with descriptions, link types with inverses. File: src/commands/ontology.rs (new)","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:31.843379443-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T10:22:46.464505782-05:00","closed_at":"2026-01-28T10:22:46.464505782-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-8tjm","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:31.844931176-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-8tjw","title":"Split tests/cli/search.rs: move value sorting tests to value_sorting.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.228499907-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:28:22.923715098-05:00","closed_at":"2026-01-28T21:28:22.923715098-05:00","close_reason":"Closed"}
{"id":"qipu-8va","title":"Telemetry (DRAFT): usage analytics collection (do not implement)","description":"Spec telemetry.md marked DRAFT/DO NOT IMPLEMENT; tracked for future privacy review.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.330162327-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.149931204-05:00","labels":["draft","telemetry"]}
{"id":"qipu-8xt","title":"Add test for outline mode with typed frontmatter links","description":"Missing test for outline mode with typed frontmatter links\n\nSpec: export.md\nIssue: Typed link handling in outline not tested\nLocation: tests/cli/export.rs\nAction: Test outline export with typed frontmatter links","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:57.011445002-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T13:03:43.544908981-05:00","closed_at":"2026-01-27T13:03:43.544908981-05:00","close_reason":"Closed"}
{"id":"qipu-8zcw","title":"Consolidate error message patterns","description":"Extract 87+ duplicate error message patterns into shared error constructors in src/.\n\nWhat to change:\n- src/ error construction patterns: Err(QipuError::Other(format!(...))) appearing 87+ times\n\nHow to change:\n- Find all error message patterns with grep\n- Create typed error variants in src/lib/error.rs for common cases\n- Replace format! strings with typed constructors\n- Common patterns: not found (20+ times), store errors (4 locations), note construction (10+ files)\n\nWhy it matters:\n- Duplicated error strings are hard to maintain\n- Inconsistent error messages across codebase\n- Type-safe errors prevent typos and enable pattern matching\n\nVerification:\n- Run cargo test to verify error handling unchanged\n- Run cargo clippy to verify no new warnings\n- Ensure error messages remain identical","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:43.556561913-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:43.556561913-05:00"}
{"id":"qipu-93m","title":"Refactor src/lib/graph/algos/dijkstra.rs (511 lines)","description":"File exceeds 500-line limit (grandfathered in CI)\n\nLocation: src/lib/graph/algos/dijkstra.rs\nSize: 511 lines\nAction: Extract helper functions or split into modules\nGoal: Remove from .github/workflows/ci.yml allowed list","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:33.342331321-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T23:35:09.319327903-05:00","closed_at":"2026-01-25T23:35:09.319327903-05:00","close_reason":"Closed"}
{"id":"qipu-95b","title":"Setup: add editor/agent integration recipes","description":"From docs/research/beads-llm-bootstrapping.md: extend `qipu setup` beyond agents-md (e.g., cursor rules, claude hooks, aider config). Consider recipe system + `--list/--check/--remove`.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.699292909-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:32:23.040214727-05:00","labels":["cli","future"]}
{"id":"qipu-97w","title":"Clarify: records output version selection","description":"Open question: records=1 for stability? Decide versioning strategy.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.161720461-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.040606795-05:00","labels":["clarify","records-output"]}
{"id":"qipu-9895","title":"Review and fix empty match arm patterns","description":"Address 8 empty match arms that silently ignore cases:\n\nWhat to change:\n- src/commands/load/deserialize.rs:225 - _ =\u003e {} (ignores unknown sections)\n- crates/qipu-core/src/db/indexing.rs:16 - _ =\u003e None (unknown strategies)\n- crates/qipu-core/src/query/filter.rs:274 - _ =\u003e None (non-numeric values)\n- crates/qipu-core/src/config/types.rs:238 - _ =\u003e None (unknown link types)\n- src/commands/doctor/database.rs:65 - _ =\u003e None (note path fetch)\n- src/commands/doctor/database.rs:183 - _ =\u003e {}\n- src/commands/doctor/fix.rs:65 - _ =\u003e {}\n- src/commands/context/filter.rs:128 - _ =\u003e None (YAML value extraction)\n\nHow to change:\n- Review each _ =\u003e pattern for correctness\n- Consider: should this log a warning?\n- Consider: should this return an error?\n- Replace _ with explicit match arms where possible\n- Document why silent handling is correct (if it is)\n\nWhy it matters:\n- Silent wildcard patterns hide bugs\n- May ignore malformed data or errors\n- Makes debugging harder\n\nVerification:\n- Run: cargo test\n- Add tests that exercise these code paths\n- Verify error handling still works\n- Check: cargo clippy passes","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:19.578159849-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:19.578159849-05:00"}
{"id":"qipu-99vn","title":"Split tests/cli/context/ontology.rs (509 lines)","description":"Break tests/cli/context/ontology.rs (currently 509 lines, exceeds CI limit) into modules:\n\nWhat to change:\n- tests/cli/context/ontology.rs (currently 509 lines)\n\nHow to change:\n- Create tests/cli/context/ontology/mod.rs as entry point\n- Extract JSON output tests to tests/cli/context/ontology/json.rs\n- Extract ontology integration tests to tests/cli/context/ontology/integration.rs\n- Extract default ontology tests to tests/cli/context/ontology/default.rs\n- Keep common setup in ontology/mod.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Mixes JSON formatting tests with ontology logic tests\n\nVerification:\n- Ensure all tests still pass: cargo test --test cli_tests context::ontology\n- Verify each new file is \u003c500 lines\n\nContext:\n- Part of context test suite restructuring\n- No functional changes, only reorganization","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:24.674703133-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:41:22.168080259-05:00","closed_at":"2026-01-29T22:41:22.168080259-05:00","close_reason":"Closed"}
{"id":"qipu-9ck","title":"Search: stop forcing phrase query quoting","description":"FTS query now uses AND semantics; no forced quotes wrapping.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.12367525-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.190791437-05:00","closed_at":"2026-01-25T14:19:21.190791437-05:00","close_reason":"Closed","labels":["history","search"]}
{"id":"qipu-9dwn","title":"Split commands/prime.rs: extract budgeting and output","description":"commands/prime.rs (641 lines): Extract into 3 modules: mod.rs (~270 lines, execute + selection), budget.rs (~170 lines, char estimation functions), output.rs (~200 lines, 3 format output functions). Budgeting logic used for multiple commands.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.397089237-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T18:45:40.509497366-05:00","closed_at":"2026-01-28T18:45:40.509497366-05:00","close_reason":"Closed"}
{"id":"qipu-9mf","title":"Design: Character budget semantics for prime command","description":"Design work needed for prime command character budget semantics\n\nSpec: llm-context.md:24\nIssue: Spec says '~4-8k characters' - implemented correctly but design refinement may be needed\nCurrent: Uses TARGET_MIN_CHARS=4000 and TARGET_MAX_CHARS=8000\nAction: Validate current implementation meets user needs\nPriority: P3 - design validation","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:00.159294956-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:24:21.902988463-05:00","closed_at":"2026-01-28T01:24:21.902988463-05:00","close_reason":"Closed"}
{"id":"qipu-9pgu","title":"Refactor llm-tool-test functions \u003e100 lines (6 functions)","description":"Refactor 6 functions in llm-tool-test that exceed 100-line CI limit.\n\nWhat to change:\n1. test_note_link_tag_content_gates() - eval_tests_gates.rs:156 (242 lines)\n2. parse_token_usage_from_json() - adapter/opencode.rs:9 (141 lines)\n3. evaluate() - evaluation.rs:244 (139 lines)\n4. test_command_doctor_transcript_gates() - eval_tests_doctor.rs:52 (134 lines)\n5. write_report() - transcript/writer.rs:171 (109 lines)\n6. with_defaults() - config.rs:43 (108 lines)\n\nHow to change:\n- For test functions: split into multiple focused test functions\n- For parse_token_usage_from_json: extract JSON parsers per provider\n- For evaluate: split into evaluation phases (setup, execution, scoring)\n- For write_report: extract report section generators\n- For with_defaults: extract default configuration builders\n\nWhy it matters:\n- These 6 functions are NOT in ALLOWED_FUNCTIONS list\n- check_function_complexity.py will fail CI on these\n- Large functions are hard to understand and test\n\nVerification:\n- Run: scripts/check_function_complexity.py\n- Ensure no violations reported for these functions\n- Run: cargo test -p llm-tool-test\n- Verify all tests still pass after refactoring\n\nContext:\n- No dependencies\n- These are CI blockers in llm-tool-test crate\n- Keep test semantics identical when splitting\n","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:45.36608252-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:10:20.034465997-05:00","closed_at":"2026-01-29T20:10:20.034465997-05:00","close_reason":"Closed"}
{"id":"qipu-9pm","title":"Show --links: respect --no-semantic-inversion","description":"Default shows virtual inverted outbound links; flag shows raw inbound links.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.415987406-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.488414589-05:00","closed_at":"2026-01-25T14:19:21.488414589-05:00","close_reason":"Closed","labels":["history","semantic-graph"]}
{"id":"qipu-9sa9","title":"Split tests/cli/search.rs: move records format tests to records_format.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.237143658-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:41:36.348095424-05:00","closed_at":"2026-01-28T21:41:36.348095424-05:00","close_reason":"Closed"}
{"id":"qipu-9sdh","title":"Split remaining oversized test files (7 files \u003e500 lines)","description":"Split remaining oversized test files (7 files \u003e500 lines).\n\nWhat to change:\n1. tests/cli/value_sorting.rs (579 lines, +79) - Split by sort type\n2. tests/cli/link/add.rs (579 lines, +79) - Split by link operation\n3. tests/bench/indexing.rs (573 lines, +73) - Split by benchmark type\n4. tests/pack/selectors.rs (568 lines, +68) - Split selector tests\n5. tests/pack/strategy.rs (563 lines, +63) - Split strategy tests\n6. tests/cli/show.rs (540 lines, +40) - Split by display format\n7. tests/cli/export/pdf.rs (525 lines, +25) - Split PDF test cases\n\nHow to change:\n- Follow same pattern: mod.rs entry point, split by feature\n- Extract common setup to support.rs in each module\n- Preserve all test assertions and coverage\n\nWhy it matters:\n- All violate CI 500-line file limit\n- Consistent file organization across test suite\n- Easier to locate specific tests\n\nVerification:\n- Run: cargo test for affected modules\n- Verify all tests pass\n- Check each new file is \u003c500 lines\n\nContext:\n- Priority P2 (medium impact)\n- Can be done in parallel\n- No dependencies between these files\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:04.81430548-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:38:56.179791111-05:00","closed_at":"2026-01-29T22:38:56.179791111-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-9sdh","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:58.021357689-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-9twk","title":"Fix collapsible_if warning in load/deserialize.rs:95","description":"Fix collapsible_if clippy warning in load module:\n\nWhat to change:\n- src/commands/load/deserialize.rs:95\n- Nested if statement can be collapsed into single condition\n\nHow to change:\n- Identify nested if at line 95\n- Apply cargo clippy --fix for automatic fix, OR\n- Manually combine conditions with \u0026\u0026 operator\n- Preserve exact logic and side effects\n- Format with cargo fmt\n\nWhy it matters:\n- Fixes clippy warning (CI enforces -D warnings)\n- Auto-fix available, trivial change\n- Improves code readability\n\nVerification:\n- Run clippy after fix: cargo clippy --all-targets --all-features\n- Verify no collapsible_if warnings remain\n- Run tests: cargo test load\n- Ensure no behavioral changes\n\nContext:\n- Can use cargo clippy --fix --allow-dirty for automatic fix\n- Trivial 5-minute task","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:54.935415019-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:35:47.46378093-05:00","closed_at":"2026-01-30T00:35:47.46378093-05:00","close_reason":"Closed"}
{"id":"qipu-9zf4","title":"Fix too_many_arguments clippy warnings (2 occurrences)","description":"Fix too_many_arguments clippy warnings in compact/show.rs:\n\nWhat to change:\n- src/commands/compact/show.rs:75 (function has 8 arguments, limit is 7)\n- src/commands/compact/show.rs:144 (function has 8 arguments, limit is 7)\n\nHow to change:\n- Identify functions with 8 arguments at lines 75 and 144\n- Extract related arguments into config/context structs:\n  - Create CompactShowConfig or similar struct\n  - Group related parameters (e.g., display options, filter options)\n- Update function signatures to use struct\n- Update all call sites\n\nWhy it matters:\n- Fixes clippy warnings (CI enforces -D warnings)\n- Functions with many parameters are hard to use and maintain\n- Grouping related args improves code clarity\n\nVerification:\n- Run clippy after fix: cargo clippy --all-targets --all-features\n- Verify no too_many_arguments warnings remain\n- Run tests: cargo test compact\n- Ensure no behavioral changes\n\nContext:\n- Related to grandfathered exceptions in check_function_complexity.py\n- Low complexity functions, just parameter count issue","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:50.107017911-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:31:15.928092437-05:00","closed_at":"2026-01-30T00:31:15.928092437-05:00","close_reason":"Closed"}
{"id":"qipu-a1nb","title":"Update specs README - corruption detection is already implemented","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T01:12:57.535694599-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T01:13:01.843176335-05:00","closed_at":"2026-01-30T01:13:01.843176335-05:00","close_reason":"Closed"}
{"id":"qipu-a43r","title":"Add module-level documentation to test files","description":"Add missing module-level documentation to 192 test files lacking //! comments. Priority files over 400 lines: tests/pack/basic.rs (417 lines), tests/pack/attachments.rs (417 lines), tests/cli/init.rs (420 lines), tests/cli/progressive_disclosure.rs (394 lines), tests/cli/duplicates.rs (363 lines), tests/cli/index.rs (367 lines). Add brief //! doc comments explaining test module purpose. Verification: cargo doc builds without warnings, module docs appear in documentation.","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:23.161948442-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:23.161948442-05:00"}
{"id":"qipu-a6v","title":"Refactor: shrink src/lib/graph/bfs.rs by extracting helpers","description":"Extract neighbor processing helpers; move tests out.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.742314924-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.814625395-05:00","closed_at":"2026-01-25T14:19:23.814625395-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-aaf1","title":"Consolidate test setup boilerplate","description":"Replace 534 inline tempdir() initializations with shared helper in tests/cli/.\n\nWhat to change:\n- tests/cli/ files: Replace 534 occurrences of 'let dir = tempdir().unwrap(); qipu().current_dir(dir.path()).arg(init)...' pattern\n\nHow to change:\n- Use existing helper: tests/cli/support.rs:50 setup_test_dir() (currently underused)\n- Replace inline 4-line init sequences with single helper call\n- Update tests in: tests/cli/link/, tests/cli/context/, tests/cli/dump/, tests/cli/compact/, etc.\n\nWhy it matters:\n- 534 identical code blocks = massive duplication\n- Harder to change init behavior across all tests\n- Makes tests harder to read (boilerplate obscures intent)\n\nVerification:\n- Run cargo test --test cli_tests to verify all tests pass\n- Count tempdir() calls before and after (target: reduce by 80%+)\n- Ensure no functional changes to test behavior\n\nContext:\n- Must activate tests/cli/support.rs:50 setup_test_dir() helper\n- Helper already exists but has #[allow(dead_code)] indicating no usage\n- Coordinate with dead code removal task","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:40.614521922-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:40.614521922-05:00","dependencies":[{"issue_id":"qipu-aaf1","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:46:51.885655251-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-aay","title":"Add tests for custom link costs in traversal","description":"Missing integration tests for custom link costs affecting traversal\n\nSpec: semantic-graph.md\nIssue: Link costs feature exists but not integration tested\nLocation: tests/cli/\nAction: Test that custom link costs affect traversal results","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:18.138568412-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T05:46:40.740615255-05:00","closed_at":"2026-01-26T05:46:40.740615255-05:00","close_reason":"Closed"}
{"id":"qipu-abg","title":"Enable GitHub Actions for repository","description":"GitHub Actions not enabled for repository, blocking release workflow and SHA256SUMS fixes. Need to enable Actions in GitHub repository settings to allow workflows to run.","notes":"This issue duplicates qipu-5alo which was created with better tracking. Closing this duplicate.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:38:16.459074303-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:36:53.249834736-05:00","defer_until":"2026-01-26T21:36:53-05:00","labels":["blocked-human","closed","duplicate","human"]}
{"id":"qipu-ac2j","title":"Recreate 2 removed schema version tests","description":"2 schema validation tests removed in commit ea8feaf (feat: refactor NoteType to support custom types). Tests removed from src/lib/db/tests/schema.rs: test_schema_version_set_on_fresh_install, test_schema_version_matches_current. Current tests in consistency.rs only cover rebuilding on version mismatch, not basic validation that schema version is set correctly on init. Verify schema version field is tested in integration tests, else recreate.","notes":"After qipu-core extraction (qipu-gyg5), the path will change from src/lib/db/tests/schema.rs to crates/qipu-core/src/db/tests/schema.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T18:10:15.693624101-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:33:16.032070557-05:00","closed_at":"2026-01-29T02:33:16.032070557-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-ac2j","depends_on_id":"qipu-ebem","type":"blocks","created_at":"2026-01-28T21:16:14.965844825-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-agf","title":"Clarify: digest notes auto-value boost","description":"Open question: should digest notes automatically receive higher value?","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.459455247-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.010332985-05:00","labels":["clarify","value-model"]}
{"id":"qipu-ah7","title":"Add qipu quickstart command","description":"From docs/research/beads-llm-bootstrapping.md: add `qipu quickstart` interactive/static guide for common workflows (capture, link, search, context, session protocol). Add `--format` support if needed.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.618507907-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:32:23.03816779-05:00","labels":["cli","future"]}
{"id":"qipu-aj4a","title":"Split remaining llm-tool-test files over 500 lines","description":"4 llm-tool-test files still exceed 500 lines (split into submodules).\n\nWhat to change:\n- crates/llm-tool-test/src/results/types.rs: 616 lines (was reduced from 745 but still over limit)\n- crates/llm-tool-test/src/judge.rs: 548 lines\n- crates/llm-tool-test/src/adapter/mock.rs: 540 lines  \n- crates/llm-tool-test/src/run.rs: 525 lines\n\nHow to change:\n- results/types.rs: Split by record type (TestResult, BenchmarkResult, EvaluationMetricsRecord)\n- judge.rs: Extract tests to judge/tests.rs, keep core logic in judge/mod.rs\n- adapter/mock.rs: Extract mock helpers to adapter/mock/helpers.rs\n- run.rs: Extract run phases to run/phases.rs or run/execution.rs\n\nWhy it matters:\n- CI enforces 500-line file limit absolutely\n- Even though qipu-dfb2 attempted splits, 4 files still exceed limit\n- Need further subdivision to achieve compliance\n\nVerification:\n- Run: wc -l on each file after split (must all be \u003c500)\n- Run: cargo test -p llm-tool-test (all tests pass)\n- Verify: no breaking changes to public APIs\n- Check: each new file has clear, single responsibility\n\nContext:\n- Depends on: CI file size check fix qipu-avg3 (to detect violations)\n- Coordinate with: dead code removal qipu-dnyj (may reduce line counts)\n- Follow-up to: qipu-dfb2 (previous split attempt)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:57:21.692516639-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:57:56.187674978-05:00","closed_at":"2026-01-30T07:57:56.187674978-05:00","close_reason":"Superseded by individual split tasks","dependencies":[{"issue_id":"qipu-aj4a","depends_on_id":"qipu-avg3","type":"blocks","created_at":"2026-01-30T07:57:28.832214081-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-aj4a","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:57:29.398328053-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-akvg","title":"Test task","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:08:05.75367811-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:15:59.230350692-05:00","closed_at":"2026-01-28T21:15:59.230350692-05:00","close_reason":"Placeholder test task - not a real work item"}
{"id":"qipu-alt","title":"Not planned: date-partitioned note paths","description":"Out of scope: spec uses flat note structure.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.801228759-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:22:33.785475614-05:00","labels":["not-planned"],"comments":[{"id":1,"issue_id":"qipu-alt","author":"Micah J Waldstein","text":"Keep as deferred future option","created_at":"2026-01-25T19:22:33Z"}]}
{"id":"qipu-andu","title":"Split crates/qipu-core/src/store/mod.rs (505 lines)","description":"Split crates/qipu-core/src/store/mod.rs (505 lines) to comply with CI 500-line limit:\n\nWhat to change:\n- crates/qipu-core/src/store/mod.rs (currently 505 lines)\n\nHow to change:\n- Analyze mod.rs structure and identify logical groupings\n- Create submodules for distinct functionality:\n  * store/initialization.rs - store creation/opening\n  * store/queries.rs - query operations\n  * store/updates.rs - write/update operations\n  * store/migrations.rs - schema migrations\n- Keep mod.rs as thin facade (re-exports + module registration)\n- Move each logical grouping to appropriate submodule\n- Preserve all public APIs through re-exports\n\nWhy it matters:\n- Violates CI 500-line file limit (enforced, blocks builds)\n- Large files reduce navigability and maintainability\n\nVerification:\n- Run: cargo test\n- Verify all store tests pass\n- Check: cargo build compiles successfully\n- Ensure each new file is \u003c500 lines","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:30.356221075-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:57:36.938575576-05:00","closed_at":"2026-01-30T09:57:36.938575576-05:00","close_reason":"File is 297 lines, under 500 limit","dependencies":[{"issue_id":"qipu-andu","depends_on_id":"qipu-avg3","type":"blocks","created_at":"2026-01-30T07:58:22.176129231-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-aohu","title":"Split llm-tool-test/evaluation.rs (1353 lines)","description":"Separate into: evaluation_basic.rs, evaluation_scoring.rs, evaluation_metrics.rs, evaluation_reporting.rs. Extract evaluation test helpers and fixtures.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.131578303-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:33:26.388855434-05:00","closed_at":"2026-01-29T13:33:26.388855434-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-aohu","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.507920294-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-aors","title":"Change \u0026PathBuf to \u0026Path in index/builder.rs","description":"Change \u0026PathBuf to \u0026Path in index/builder.rs:\n\nWhat to change:\n- crates/qipu-core/src/index/builder.rs line 166: remove #[allow(clippy::ptr_arg)]\n- Change function parameter from \u0026PathBuf to \u0026Path\n- Update all call sites to pass \u0026Path instead of \u0026PathBuf\n\nHow to change:\n- Find function with #[allow(clippy::ptr_arg)] at line 166\n- Change signature from fn foo(path: \u0026PathBuf) to fn foo(path: \u0026Path)\n- Path is more flexible (accepts PathBuf, \u0026str, Path, etc.)\n- Remove the clippy allow annotation\n- Fix any compilation errors at call sites\n\nWhy it matters:\n- \u0026Path is more idiomatic than \u0026PathBuf for function parameters\n- Reduces unnecessary coupling to PathBuf type\n- Improves API flexibility\n- Removes clippy suppression\n\nVerification:\n- Ensure all tests pass: cargo test index\n- Verify no clippy warnings: cargo clippy -- -D warnings\n- Confirm no behavioral changes\n- All call sites compile successfully\n\nContext:\n- Small API improvement\n- Part of general code quality cleanup","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:45.353849149-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:45.353849149-05:00"}
{"id":"qipu-apc","title":"Add tests for TRACE level logging","description":"No tests for TRACE level behavior\n\nSpec: structured-logging.md\nIssue: TRACE level not tested\nLocation: tests/cli/\nAction: Test TRACE level log output","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:16.873344764-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T20:46:36.994164956-05:00","closed_at":"2026-01-26T20:46:36.994164956-05:00","close_reason":"Closed"}
{"id":"qipu-aulc","title":"Add --expand-compaction to link tree command","description":"Spec compaction.md lines 147-152 says traversal/context outputs should support --expand-compaction flag. Context command implements it (human/json/records), but link tree/path commands do not. Flag exists in CLI (src/cli/mod.rs:94-95) but not implemented in src/commands/link/tree.rs or src/commands/link/path.rs. Need to add expand support for compaction expansion in traversal outputs.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:40:43.997878591-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T02:05:24.430774129-05:00","closed_at":"2026-01-28T02:05:24.430774129-05:00","close_reason":"Closed","labels":["compaction"]}
{"id":"qipu-avg3","title":"Fix CI file size check: include crates/ directory","description":"CI file size check only scans src/ directory, missing 5 files in crates/ that exceed 500 lines.\n\nWhat to change:\n- .github/workflows/ci.yml: line with `find src -name \"*.rs\"` \n\nHow to change:\n- Change: `find src -name \"*.rs\" -print0`\n- To: `find src crates -name \"*.rs\" -print0 2\u003e/dev/null`\n- The 2\u003e/dev/null handles case where crates/ doesn't exist (optional)\n\nWhy it matters:\n- CI rule: 500-line file limit is ABSOLUTE\n- Currently 5 files in crates/ exceed limit but pass CI:\n  * crates/llm-tool-test/src/results/types.rs: 616 lines\n  * crates/llm-tool-test/src/judge.rs: 548 lines  \n  * crates/llm-tool-test/src/adapter/mock.rs: 540 lines\n  * crates/llm-tool-test/src/run.rs: 525 lines\n  * crates/qipu-core/src/store/mod.rs: 505 lines\n- This is a CI gap allowing violations to pass undetected\n\nVerification:\n- Check current CI passes (it will, since it doesn't scan crates/)\n- Run modified find command locally: `find src crates -name \"*.rs\" -print0 | xargs -0 wc -l | sort -n`\n- Verify it catches the 5 files above\n- Push change and verify CI still passes\n\nContext:\n- No dependencies\n- Critical CI fix - blocks proper enforcement\n- No functional code changes","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:56:57.66893721-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:47:09.350894411-05:00","closed_at":"2026-01-30T09:47:09.350894411-05:00","close_reason":"Closed"}
{"id":"qipu-avh","title":"Progressive indexing: Phase 0 two-level indexing (basic + full-text)","description":"Always basic index; conditional full-text; index_level column added.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.630766603-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.70577952-05:00","closed_at":"2026-01-25T14:19:22.70577952-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-aya","title":"Add TF-IDF weight tests with real notes","description":"Missing tests for TF-IDF weights with real notes\n\nSpec: similarity-ranking.md\nIssue: TF-IDF feature not explicitly tested\nLocation: tests/cli/ or src/lib/similarity/tests.rs\nAction: Test TF-IDF weighting with realistic note corpus","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:36.710155769-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T07:06:20.838148336-05:00","closed_at":"2026-01-26T07:06:20.838148336-05:00","close_reason":"Closed"}
{"id":"qipu-b1t3","title":"Add module-level documentation to CLI modules","description":"Add missing //! module documentation to 19 CLI/command modules:\n\nWhat to change:\nAdd //! doc comments to:\n- src/cli/link.rs\n- src/cli/tags.rs\n- src/cli/custom.rs\n- src/cli/ontology.rs\n- src/cli/value.rs\n- src/cli/args.rs\n- src/cli/store.rs\n- src/cli/output.rs\n- src/commands/export/plan.rs\n- src/commands/export/emit/records.rs\n- src/commands/export/emit/bibliography.rs\n- src/commands/export/emit/json.rs\n- src/commands/export/emit/mod.rs\n- src/commands/export/emit/bundle.rs\n- src/commands/export/emit/outline.rs\n- src/commands/export/emit/links.rs\n- src/commands/load/model.rs\n- src/commands/load/deserialize.rs\n- src/commands/load/loader.rs\n- src/commands/workspace/list.rs\n\nHow to change:\n- Add //! comment at top of each file explaining module purpose\n- Reference related modules where appropriate\n- Keep docs concise but informative (1-3 sentences)\n- Follow existing doc style in documented modules\n\nWhy it matters:\n- Documentation helps new contributors understand codebase\n- IDE shows module docs on hover\n- Improves overall code quality score\n\nVerification:\n- Run: cargo doc --no-deps\n- Verify no warnings about missing docs\n- Check generated documentation renders correctly","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:32.253528106-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:32.253528106-05:00"}
{"id":"qipu-b4qy","title":"Extract truncation state setter in graph algorithms","description":"Consolidate truncation state mutation pattern in graph traversal:\n\nWhat to change:\n- crates/qipu-core/src/graph/algos/bfs.rs (3 occurrences, lines vary)\n- crates/qipu-core/src/graph/algos/dijkstra.rs (3 occurrences, lines vary)\n\nDuplicated pattern:\nstate.truncated = true;\nstate.truncation_reason = Some(\"max_edges\".to_string());\n// or max_nodes\n\nHow to change:\n- Add method to TraversalState: fn set_truncated(\u0026mut self, reason: \u0026str)\n- Replace all 6 occurrences with: state.set_truncated(\"max_edges\")\n- Create enum for truncation reasons instead of strings\n- Update bfs.rs and dijkstra.rs to use shared method\n\nWhy it matters:\n- 6 identical code blocks violate DRY\n- String literals for reasons are error-prone\n- Centralizes truncation logic for future changes\n\nVerification:\n- Run: cargo test --lib qipu-core graph\n- Verify graph algorithm tests pass\n- Check: cargo clippy passes\n- Ensure truncation reasons display correctly","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:11.595408809-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:11.595408809-05:00"}
{"id":"qipu-b6ac","title":"Reduce String allocation with to_string() review","description":"Review 925 to_string() calls for borrowing opportunities:\n\nWhat to change:\n- Review files with highest to_string() counts:\n  * src/commands/doctor/ontology.rs (38)\n  * crates/qipu-core/src/graph/bfs/tests.rs (31)\n  * src/commands/load/deserialize.rs (28)\n  * crates/qipu-core/src/similarity/duplicates.rs (28)\n  * crates/qipu-core/src/similarity/tags.rs (27)\n- Compare to 180 borrowing patterns (as_str/as_ref)\n\nHow to change:\n- Identify String allocations that could be \u0026str\n- Use as_str(), as_ref() instead of to_string() where possible\n- Consider if functions can accept \u0026str instead of String\n- Use Cow\u003cstr\u003e for conditional ownership\n- Focus on hot paths and frequently called code\n\nWhy it matters:\n- 925 to_string() vs 180 borrowing patterns suggests waste\n- Reduces heap allocations (performance)\n- Low-hanging fruit for optimization\n\nVerification:\n- Run: cargo test\n- Verify all tests pass\n- Check: cargo clippy passes\n- Optional: run benchmarks to verify no regression","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:39.231892251-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:39.231892251-05:00","dependencies":[{"issue_id":"qipu-b6ac","depends_on_id":"qipu-3r85","type":"blocks","created_at":"2026-01-30T07:42:48.006120896-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-b9pc","title":"Remove list/format/records.rs tests - no output verification","description":"Remove 2 tests from src/commands/list/format/records.rs (test_output_records_empty, test_output_records_single_note). These tests only call functions without any assertions, not verifying the actual Records format output. Justification: Tests must verify output format matches specification, not just that code runs.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:12:58.858676765-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T03:20:56.515496422-05:00","closed_at":"2026-01-29T03:20:56.515496422-05:00","close_reason":"Closed"}
{"id":"qipu-ba2","title":"Progressive indexing: Phase 1 auto-indexing on store open/init","description":"Adaptive full vs quick indexing based on note count; init flags + config.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.785237265-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.858793823-05:00","closed_at":"2026-01-25T14:19:22.858793823-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-ba9q","title":"SHA256SUMS format incorrect","status":"deferred","priority":3,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.605431454-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:36:53.253654772-05:00","defer_until":"2026-01-26T21:36:53-05:00","labels":["blocked-human","broken","distribution"]}
{"id":"qipu-bb5","title":"Design: alternate size bases for compaction","description":"Future compaction budget bases beyond summary-sized estimates.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.633758923-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.073014278-05:00","labels":["compaction","design"]}
{"id":"qipu-bd4l","title":"Split tests/cli/misc.rs (606 lines)","description":"Split tests/cli/misc.rs (606 lines) - exceeds CI 500-line limit.\n\nWhat to change:\n- tests/cli/misc.rs (currently 606 lines, +106 over limit)\n\nHow to change:\n- Create tests/cli/misc/mod.rs as entry point\n- Extract by test topic:\n  - Error handling tests: tests/cli/misc/errors.rs\n  - Edge case tests: tests/cli/misc/edge_cases.rs\n  - Utility tests: tests/cli/misc/utils.rs\n- Group related tests together\n\nWhy it matters:\n- Violates CI 500-line file limit\n- \"misc\" is a catch-all; splitting reveals patterns\n- Easier to categorize new miscellaneous tests\n\nVerification:\n- Run: cargo test --test cli_tests misc\n- Verify all misc tests still pass\n- Check each new file is \u003c500 lines\n\nContext:\n- No dependencies\n- Review tests and group by actual topic\n- Some tests may move to other modules entirely\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:57.56443639-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:26:37.869414027-05:00","closed_at":"2026-01-29T22:26:37.869414027-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-bd4l","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:57.799748991-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-bd4l","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:57.892975967-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-bj1p","title":"Split src/commands/load/deserialize.rs (462 lines)","description":"Break src/commands/load/deserialize.rs (currently 462 lines) into modules:\n\nWhat to change:\n- src/commands/load/deserialize.rs (currently 462 lines, 38 lines from limit)\n\nHow to change:\n- Create src/commands/load/deserialize/json.rs for JSON parsing logic\n- Create src/commands/load/deserialize/validate.rs for validation logic\n- Create src/commands/load/deserialize/convert.rs for type conversion\n- Keep src/commands/load/deserialize.rs as entry point\n\nWhy it matters:\n- File is 38 lines from CI 500-line limit\n- Mixes JSON parsing, validation, and conversion logic\n- High risk of future CI failures\n- Complex deserialization hard to maintain\n\nVerification:\n- Ensure all tests pass: cargo test load\n- Verify each new file is \u003c400 lines\n- Confirm no functional changes\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- No functional changes, only reorganization","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:08.282362553-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:08.282362553-05:00"}
{"id":"qipu-bm0x","title":"Run full test suite and fix any issues","description":"Run the complete test suite after restructuring and fix any remaining issues.\n\n## Test Commands\ncargo fmt --all -- --check\ncargo clippy --all-targets --all-features -- -D warnings\ncargo test\ncargo test --test bench_tests --release -- --ignored\n\n## Expected Issues to Watch For\n1. Import path errors (crate::lib:: not found)\n2. Visibility errors (private type in public interface)\n3. Missing re-exports from qipu-core\n4. Circular dependency issues (should not occur with clean split)\n\n## Tasks\n1. Run cargo fmt --all to ensure formatting\n2. Run cargo clippy and fix all warnings\n3. Run cargo test and fix all failures\n4. Run benchmark tests to ensure no regressions\n\n## Acceptance Criteria\n- All 812 tests pass\n- No clippy warnings (warnings treated as errors)\n- Formatting is correct\n- Benchmarks run successfully","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.8111122-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:06:51.559304725-05:00","closed_at":"2026-01-29T02:06:51.559304725-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-bm0x","depends_on_id":"qipu-qxjs","type":"blocks","created_at":"2026-01-28T21:14:00.406035742-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-bmsz","title":"Reduce clone() usage in qipu-core (173 clones) and src (260 clones)","description":"Reduce clone() usage in qipu-core (173 clones) and src (260 clones).\n\nWhat to change:\n- crates/qipu-core: 173 clones (db, graph, index modules)\n- src/commands: 260 clones (context, workspace, dispatch)\n\nHow to change:\n- Use Arc\u003cstr\u003e for note IDs (shared, immutable)\n- Use Cow\u003cstr\u003e for potentially owned strings\n- Use \u0026Path instead of PathBuf where possible\n- Borrow in graph traversals instead of clone\n- Use Copy trait for small stack types\n\nKey files to target:\n- crates/qipu-core/src/graph/bfs.rs (BFS traversal)\n- crates/qipu-core/src/index/builder.rs\n- src/commands/context/select.rs (28 clones)\n- src/commands/workspace/merge.rs (12 clones)\n\nWhy it matters:\n- 433 total clones indicate ownership issues\n- Reduces memory allocations\n- Improves performance in hot paths\n- Makes code intent clearer (owned vs borrowed)\n\nVerification:\n- Run: cargo test (behavior unchanged)\n- Run benchmarks if available\n- Use rg \"\\.clone\\(\\)\" to count before/after\n- Target: reduce by 30-40%\n\nContext:\n- Priority P2 (performance/maintainability)\n- No dependencies\n- Can be done incrementally module by module\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:26.945567611-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T21:56:40.812415078-05:00","closed_at":"2026-01-29T21:56:40.812415078-05:00","close_reason":"Closed"}
{"id":"qipu-bmv8","title":"Include singular source field in export modes","description":"Spec export.md expects singular source field to be included in JSON/bundle/records modes. Current implementations (bundle: src/commands/export/emit/bundle.rs:107-123, records: src/commands/export/emit/records.rs:52-63, json: src/commands/export/emit/json.rs:40-69) only check note.frontmatter.sources. Bibliography correctly handles both fields (src/commands/export/emit/bibliography.rs:37-43). Add source field check to export modes.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:39:43.685091362-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:35:30.172961291-05:00","closed_at":"2026-01-27T15:35:30.172961291-05:00","close_reason":"Closed","labels":["export"]}
{"id":"qipu-bmxd","title":"[cleanup] Remove unused code definitions (structs, enums, functions)","description":"## Summary\nRun `cargo clippy` and remove unused structs, fields, enum variants, functions, and methods.\n\n## Scope\n- `src/commands/doctor/content.rs`: Unused structs `CheckRequiredFields`, `CheckValueRange`, etc.\n- `src/commands/doctor/database.rs`: Unused functions `check_orphaned_notes` and structs.\n- `src/commands/doctor/structure.rs`: Unused struct `CheckStoreStructure`.\n- `src/commands/doctor/types.rs`: Unused struct `CheckContext`, methods `new`, `with_store`, etc.\n- `src/commands/dump/serialize.rs`: Unused function `serde_yaml_to_json`.\n- `src/commands/link/mod.rs`: Unused functions `get_filtered_neighbors`, `filter_edge`.\n- `src/lib/config.rs`: Unused methods `set_link_cost`, `resolve_tag_alias`, etc.\n- `src/lib/db/indexing.rs`: Unused `IndexLevel::Full`, methods `insert_note_full`, `rebuild_basic`, etc.\n- `src/lib/db/schema.rs`: Unused `force_set_schema_version`.\n- `src/lib/db/traverse.rs`: Unused method `traverse`.\n- `src/lib/db/validate.rs`: Unused method `get_orphaned_notes`.\n- `src/lib/graph/bfs.rs`: Unused field `original_edge`.\n- `src/lib/graph/traversal.rs`: Unused method `contains`.\n- `src/lib/index/types.rs`: Unused constant `INDEX_VERSION`.\n- `src/lib/store/mod.rs`: Unused method `templates_dir`.\n- `src/lib/similarity/tests.rs`: Unused `create_test_index`.\n\n## Verification\nRun `cargo clippy --all-targets --all-features -- -D warnings` and ensure no dead code warnings remain.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:24:45.110307999-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T11:33:31.306542377-05:00","closed_at":"2026-01-27T11:33:31.306542377-05:00","close_reason":"Closed"}
{"id":"qipu-bn47","title":"Reduce clone() usage in commands (290+ occurrences)","description":"Replace","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:27.764757507-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:27.764757507-05:00"}
{"id":"qipu-bo6","title":"llm-tool-test: enforce budget (no warning-only)","description":"Historical: budget check is fatal when exceeded.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.511129671-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:29.577963496-05:00","closed_at":"2026-01-25T14:19:29.577963496-05:00","close_reason":"Closed","labels":["history","llm-tool-test"]}
{"id":"qipu-bskx","title":"Remove false positive dead_code annotations","description":"3 items have #[allow(dead_code)] but are actually used - remove the unnecessary annotations.\n\nWhat to change:\n- crates/llm-tool-test/src/results/test_helpers.rs:10 - temp_dir field\n- crates/llm-tool-test/src/results/utils.rs:88 - estimate_cost_from_tokens function  \n- crates/llm-tool-test/src/eval_helpers.rs:215 - create_note_with_stdin function\n\nHow to change:\n- Verify each item IS actually used (search codebase for references)\n- Remove #[allow(dead_code)] attribute while keeping the item\n- Do NOT remove the items themselves - just the false positive annotations\n\nWhy it matters:\n- #[allow(dead_code)] suppresses legitimate warnings\n- If code is used, annotation is misleading (suggests dead when it's not)\n- Causes confusion during maintenance (is this used or not?)\n\nVerification:\n- Run: cargo clippy with all targets and features (should pass)\n- Verify no dead_code warnings appear for these 3 items\n- Run: cargo test for llm-tool-test (all tests pass)\n- Confirm items are still accessible where needed\n\nContext:\n- Related to qipu-dnyj (dead code removal task) - coordinate\n- This task fixes FALSE positives, qipu-dnyj removes ACTUAL dead code\n- No functional changes","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:56:59.02750503-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:55:41.049564487-05:00","closed_at":"2026-01-30T09:55:41.049564487-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-bskx","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:57:33.859216142-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-btd","title":"Refactor: shrink src/commands/setup.rs","description":"Move tests to module directory; reduce file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.030850077-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.107604963-05:00","closed_at":"2026-01-25T14:19:24.107604963-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-btw","title":"Add tests for WAL mode concurrent read behavior","description":"No tests for WAL mode concurrent read behavior\n\nSpec: operational-database.md\nIssue: WAL mode behavior not tested\nLocation: src/lib/db/tests/\nAction: Test that concurrent reads work correctly in WAL mode","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:38.05829005-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T12:03:55.715059174-05:00","closed_at":"2026-01-27T12:03:55.715059174-05:00","close_reason":"Closed"}
{"id":"qipu-bxob","title":"Fix complex type error in notes/read.rs:330","description":"Fix type_complexity clippy error blocking CI with -D warnings.\n\nWhat to change:\n- crates/qipu-core/src/db/notes/read.rs:330\n- Complex 18-element tuple type in function parameter\n\nHow to change:\n- Extract ExtractedNoteRow struct with named fields\n- Replace tuple type with the struct\n- Update all call sites to use struct construction\n- Preserve exact behavior (no functional changes)\n\nWhy it matters:\n- CI enforces -D warnings (zero tolerance)\n- This error prevents compilation with clippy\n- Complex tuples hurt readability and maintainability\n\nVerification:\n- Run: cargo clippy --all-targets --all-features -- -D warnings\n- Ensure no errors remain\n- Run: cargo test to verify behavior unchanged\n- Check all tests pass: cargo test --test cli_tests\n\nContext:\n- No dependencies\n- This is an immediate blocker for CI\n- Related to grandfathered exceptions in check_function_complexity.py\n","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:45.034803231-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:04:34.571412492-05:00","closed_at":"2026-01-29T20:04:34.571412492-05:00","close_reason":"Closed"}
{"id":"qipu-c1h","title":"Add tests for S prefix semantic distinction","description":"Missing tests for S prefix semantic distinction (summary vs sources)\n\nSpec: records-output.md\nIssue: S prefix means different things in different contexts\nLocation: tests/cli/\nAction: Test that S prefix is correctly interpreted in pack format vs other formats","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:40.497826508-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T07:22:35.588540383-05:00","closed_at":"2026-01-26T07:22:35.588540383-05:00","close_reason":"Closed"}
{"id":"qipu-c1or","title":"Split lib/config.rs: extract config types","description":"lib/config.rs (628 lines): Extract into submodules: types.rs (~100 lines, NoteTypeConfig, LinkTypeConfig, AutoIndexConfig, SearchConfig), graph.rs (~60 lines, GraphConfig + defaults), ontology.rs (~40 lines, OntologyConfig + mode). Keep StoreConfig main logic in mod.rs (~300 lines).","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.406674432-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T19:09:39.362168219-05:00","closed_at":"2026-01-28T19:09:39.362168219-05:00","close_reason":"Closed"}
{"id":"qipu-c3bv","title":"Split tests/workspace_merge_test.rs: move strategy tests to merge_strategies.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:23.071239249-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:04:40.976797916-05:00","closed_at":"2026-01-28T23:04:40.976797916-05:00","close_reason":"Closed"}
{"id":"qipu-c6w","title":"Prime: adapt output based on store state (empty vs populated)","description":"From docs/research/beads-llm-bootstrapping.md: if store empty, prime focuses on getting started; if populated, focus on navigation + key MOCs/recent. Ensure bounded size across modes.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.771841642-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:35:26.27730765-05:00","closed_at":"2026-01-28T13:35:26.27730765-05:00","close_reason":"Closed","labels":["cli","prime"]}
{"id":"qipu-ca49","title":"Reduce clone usage in graph modules (93 clones)","description":"Replace unnecessary clones in graph traversal modules:\n\nWhat to change:\n- crates/qipu-core/src/graph/bfs.rs (32 clones)\n- crates/qipu-core/src/graph/algos/dijkstra.rs (21 clones)\n- crates/qipu-core/src/graph/algos/bfs.rs (20 clones)\n\nHow to change:\n- Identify string cloning patterns in graph traversal\n- Replace String clones with \u0026str borrowing where possible\n- Use Arc\u003cstr\u003e for shared string data that needs ownership\n- Consider using Cow\u003cstr\u003e for conditional ownership\n- Focus on note ID strings and link type strings\n- Target: reduce clone count by 30-40% (from 93 to ~60)\n\nWhy it matters:\n- Graph modules account for 58% of all clones in qipu-core\n- String cloning in hot paths affects performance\n- 93 clones in 4 files indicates opportunity for optimization\n\nVerification:\n- Run graph tests: cargo test -p qipu-core graph\n- Ensure no behavioral changes\n- Optional: benchmark to verify performance improvement\n- Target reduction: 30-40% fewer clones\n\nContext:\n- Depends on shared traversal infrastructure extraction\n- Coordinate with bfs_traverse/dijkstra_traverse refactors","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:08.85197231-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:59:09.368729184-05:00","closed_at":"2026-01-29T23:59:09.368729184-05:00","close_reason":"Closed"}
{"id":"qipu-cd0g","title":"Run CI checks to verify code quality","description":"Run cargo fmt --all -- --check, cargo clippy --all-targets --all-features -- -D warnings, and scripts/check_function_complexity.py to verify code quality standards. Document any failures to address before cleanup begins.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:55.575650648-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:24:37.223795578-05:00","closed_at":"2026-01-28T16:24:37.223795578-05:00","close_reason":"Closed"}
{"id":"qipu-cg3","title":"Tests: show --links --no-semantic-inversion behavior","description":"Integration tests for semantic inversion default vs disabled.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.796562123-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.861476031-05:00","closed_at":"2026-01-25T14:19:25.861476031-05:00","close_reason":"Closed","labels":["history","tests"]}
{"id":"qipu-cgw","title":"Git hooks integration for qipu (optional)","description":"From docs/research/beads-llm-bootstrapping.md: consider optional git hooks (pre-commit/post-merge/etc) to keep index/store state in sync. Requires design (what runs, performance, safety).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.851607856-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:32:23.04448193-05:00","labels":["cli","future"]}
{"id":"qipu-cr0t","title":"Quick index benchmark fails: 5k notes takes 16s, target \u003c3s","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-26T00:24:37.531543881-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T03:44:42.684931147-05:00","closed_at":"2026-01-26T03:44:42.684931147-05:00","close_reason":"Closed"}
{"id":"qipu-cr1","title":"Add via annotation tests for link list and path","description":"Missing via annotation tests for qipu link list and qipu link path\n\nSpec: compaction.md\nIssue: Via annotation in JSON output not tested for these commands\nLocation: tests/cli/link/\nAction: Test that via annotations appear correctly in link list/path JSON output","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:10.997956352-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T22:05:50.753938412-05:00","closed_at":"2026-01-27T22:05:50.753938412-05:00","close_reason":"Closed"}
{"id":"qipu-cyiu","title":"Split llm-tool-test/src/results.rs (745 lines)","description":"Break results.rs (745 lines) into modules by feature:\n\nWhat to change:\n- crates/llm-tool-test/src/results.rs (745 lines, +245 over limit)\n\nHow to change:\n- Create crates/llm-tool-test/src/results/mod.rs as entry point\n- Extract ResultsDB core to results/db.rs\n- Extract result serialization to results/serialize.rs\n- Extract result querying/filtering to results/query.rs\n- Extract result aggregation/stats to results/stats.rs\n- Keep shared types in results/types.rs\n\nWhy it matters:\n- Violates CI 500-line file limit (blocking)\n- 745 lines is difficult to navigate and maintain\n\nVerification:\n- Ensure all tests still pass: cargo test -p llm-tool-test\n- Verify each new file is \u003c500 lines\n- Check imports resolve correctly\n\nContext:\n- Part of llm-tool-test crate cleanup\n- No functional changes, only reorganization","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:59:53.060795364-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:39:42.970979681-05:00","closed_at":"2026-01-29T23:39:42.970979681-05:00","close_reason":"Closed"}
{"id":"qipu-d099","title":"Refactor dispatch/mod.rs:run (250 lines)","description":"## Problem\n`run` in `src/commands/dispatch/mod.rs` is 250 lines - mostly a giant match statement dispatching commands.\n\n## Analysis\nThe function is a command dispatcher with one arm per CLI command. Each arm calls into handler modules. The bulk of the code is parameter passing.\n\n## Refactoring Plan\n1. Note: This is already well-structured with handler modules (handlers.rs, io.rs, link.rs, maintenance.rs, notes.rs)\n2. The match arms themselves are simple - just parameter forwarding\n3. Options:\n   - Accept as inherent complexity of a command dispatcher (pattern is clear)\n   - Group similar commands into sub-match blocks\n   - Use command trait objects (see existing task qipu-nsv4)\n\n## Recommendation\nLink this to existing task qipu-nsv4 (Refactor command dispatch to use command objects). That task addresses this more comprehensively.\n\n## Verification\n- Run `cargo test`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/dispatch/mod.rs:run` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:31:55.782389336-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:46:20.471637777-05:00","closed_at":"2026-01-29T13:46:20.471637777-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-d099","depends_on_id":"qipu-nsv4","type":"blocks","created_at":"2026-01-29T07:31:55.783844303-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-d24v","title":"Link tree/path E lines missing via annotation","description":"Edge lines in link tree/path commands don't include via annotation when IDs are canonicalized. JSON output correctly includes via field. Locations: src/commands/link/tree.rs:431-434, src/commands/link/records.rs:325-328. Needs to check entry.via field and append to E line format.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.96281499-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T14:57:40.241725286-05:00","closed_at":"2026-01-27T14:57:40.241725286-05:00","close_reason":"Closed","labels":["records-output"]}
{"id":"qipu-d4t","title":"Add llm-tool-test event logging tests","description":"Missing tests for event logging (log_spawn, log_output, log_complete)\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test event logging functions","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:22.623697198-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:11:06.619626565-05:00","closed_at":"2026-01-27T23:11:06.619626565-05:00","close_reason":"Closed"}
{"id":"qipu-d7c","title":"Add inversion tests for context walk and dump","description":"Sparse inversion tests for context walk and dump commands\n\nSpec: semantic-graph.md\nIssue: Only show command has comprehensive inversion tests\nLocation: tests/cli/\nAction: Add tests for context walk and dump commands","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:14.317901708-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T05:25:11.378971267-05:00","closed_at":"2026-01-26T05:25:11.378971267-05:00","close_reason":"Closed"}
{"id":"qipu-d7sj","title":"Refactor index/builder.rs:build (110 lines)","description":"## Problem\n`build` in `crates/qipu-core/src/index/builder.rs` is 110 lines.\n\n## Analysis\nThe function builds a search index: tokenizes notes, builds TF-IDF statistics, extracts links, builds metadata. The logic is sequential but could be split.\n\n## Refactoring Plan\n1. Extract term frequency computation:\n   - `compute_term_frequencies(note, use_stemming) -\u003e HashMap\u003cString, f64\u003e`\n2. Extract metadata building:\n   - `build_note_metadata(note, path, term_freqs) -\u003e NoteMetadata`\n3. Extract link extraction (already delegated to `extract_links`)\n4. Main function orchestrates: iterate notes → compute TF → build metadata → extract links → finalize\n\n## Verification\n- Run `cargo test -p qipu-core`\n- Run `cargo test --test cli_tests search`\n\n## Cleanup\nRemove `lib/index/builder.rs:build` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:33:02.662427025-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:30:27.027152377-05:00","closed_at":"2026-01-29T14:30:27.027152377-05:00","close_reason":"Closed"}
{"id":"qipu-d7tm","title":"Refactor src/commands/dispatch/commands.rs","description":"Refactor src/commands/dispatch/commands.rs (377 lines, 14 clones):\n\nWhat to change:\n- src/commands/dispatch/commands.rs (currently 377 lines with 14 .clone() calls)\n\nHow to change:\n- Extract command argument handling into helper functions\n- Reduce clone() usage in args field access (lines 69, 71, 85, 114, 116-119, 134-135, 137, 148, 298, 357)\n- Use borrowing instead of cloning where possible\n- Extract common command dispatch patterns\n- Target: reduce file to \u003c300 lines\n\nWhy it matters:\n- File is approaching 400-line complexity threshold\n- High clone() density reduces performance\n- Command dispatch logic duplicated across handlers\n- Hard to maintain and test\n\nVerification:\n- Ensure all tests pass: cargo test dispatch\n- Verify reduced clone count (target: \u003c5 clones)\n- Confirm no behavioral changes\n- Run cargo clippy to verify no warnings\n\nContext:\n- Depends on: god function parameter struct refactor (bd tasks qipu-g0ro, qipu-gc6f)\n- Related to: clone reduction in commands (bd task qipu-bn47)","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:16.764043969-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:16.764043969-05:00","dependencies":[{"issue_id":"qipu-d7tm","depends_on_id":"qipu-g0ro","type":"blocks","created_at":"2026-01-30T08:13:20.659848599-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-d7tm","depends_on_id":"qipu-gc6f","type":"blocks","created_at":"2026-01-30T08:13:20.760413561-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-da4a","title":"Version mismatch between git tag v0.2.46 and Cargo.toml 0.2.43 in test_version_consistency","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T12:55:44.52697778-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:59:20.352115235-05:00","closed_at":"2026-01-28T12:59:20.352115235-05:00","close_reason":"Closed"}
{"id":"qipu-dab","title":"Design: traversal path JSON shape vs spec","description":"Spec mentions notes/links/path_length; impl adds from/to/direction/found. Decide canonical shape.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.695925896-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.125201578-05:00","labels":["design","graph-traversal"]}
{"id":"qipu-dbqx","title":"Split tests/cli/search/basic.rs (452 lines)","description":"Split tests/cli/search/basic.rs (452 lines) by search type. Create basic/mod.rs, extract title/tag/type/json/ranking tests. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:19.27014958-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:19.27014958-05:00","dependencies":[{"issue_id":"qipu-dbqx","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.888102854-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-dfb2","title":"Split oversized files - llm-tool-test crate (4 files)","description":"Split 4 files in llm-tool-test exceeding 500-line CI limit.\n\nWhat to change:\n1. crates/llm-tool-test/src/results.rs (745 lines, +245 over limit)\n2. crates/llm-tool-test/src/adapter/mock.rs (651 lines, +151 over limit)\n3. crates/llm-tool-test/src/scenario.rs (599 lines, +99 over limit)\n4. crates/llm-tool-test/src/run.rs (547 lines, +47 over limit)\n\nHow to change:\n- results.rs: Split by result type (TestResult, BenchmarkResult, etc.)\n- mock.rs: Extract adapter helpers to mock/helpers.rs\n- scenario.rs: Extract scenario types to scenario/types.rs\n- run.rs: Extract run phases to run/phases.rs\n- Create mod.rs as entry point for each split module\n- Preserve all public APIs\n\nWhy it matters:\n- CI enforces 500-line file limit absolutely\n- Large files violate policy and hurt maintainability\n- Splitting enables better code organization\n\nVerification:\n- Run: wc -l on each new file, verify all \u003c500 lines\n- Run: cargo test -p llm-tool-test\n- Verify all tests pass\n- Check no compilation errors\n\nContext:\n- No dependencies\n- Split strategy: by feature/responsibility\n- Ensure no functional changes, only reorganization\n","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:45.723996626-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:18:05.580067109-05:00","closed_at":"2026-01-29T20:18:05.580067109-05:00","close_reason":"Closed"}
{"id":"qipu-dfr0","title":"Fix clippy warnings: ptr_arg and dead_code issues (7 warnings)","description":"Fix clippy warnings: ptr_arg and dead_code issues (7 warnings).\n\nWhat to change:\n1. src/commands/dispatch/command.rs:11 - \u0026PathBuf -\u003e \u0026Path\n2. src/commands/dispatch/handlers.rs:26 - \u0026PathBuf -\u003e \u0026Path\n3. src/commands/dispatch/maintenance.rs:17 - \u0026PathBuf -\u003e \u0026Path\n4. src/commands/dispatch/handlers.rs:15 - handle_no_command dead_code\n5. src/commands/dispatch/notes.rs:328 - handle_context dead_code\n\nHow to change:\n- Run: cargo clippy --fix for auto-fixable warnings\n- Manually fix remaining issues\n- For PathBuf: change function signatures to accept \u0026Path\n- For dead_code: remove functions or add #[allow] with justification\n\nWhy it matters:\n- CI enforces -D warnings eventually\n- ptr_arg causes unnecessary allocations\n- dead_code warnings indicate maintenance issues\n- Clean warnings improve code quality\n\nVerification:\n- Run: cargo clippy --all-targets --all-features -- -D warnings\n- Ensure all 7 warnings resolved\n- Run: cargo test to verify behavior\n- Check no regressions\n\nContext:\n- Priority P2 (code quality)\n- Some already covered in dead code task\n- Quick wins for clean build\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:27.149668414-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:36:54.266683029-05:00","closed_at":"2026-01-29T23:36:54.266683029-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-dfr0","depends_on_id":"qipu-dhds","type":"blocks","created_at":"2026-01-29T19:55:12.397811762-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-dfr0","depends_on_id":"qipu-kik9","type":"blocks","created_at":"2026-01-29T19:55:12.618179404-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-dh6","title":"DB open: auto-repair on startup inconsistency","description":"Database::open triggers incremental repair when consistency check fails; doctor disables.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.884360189-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.964154153-05:00","closed_at":"2026-01-25T14:19:21.964154153-05:00","close_reason":"Closed","labels":["db","history"]}
{"id":"qipu-dhds","title":"Remove allow(dead_code) suppressions in qipu-core","description":"Clean up dead code suppressions in qipu-core crate:\n\nWhat to change:\nRemove or fix 9 dead code items marked with #[allow(dead_code)]:\n\n1. crates/qipu-core/src/config.rs:56 - StoreConfig::set_link_cost()\n2. crates/qipu-core/src/config.rs:67 - StoreConfig::resolve_tag_alias()\n3. crates/qipu-core/src/config.rs:98 - StoreConfig::add_tag_alias()\n4. crates/qipu-core/src/db/indexing.rs:28 - IndexLevel::Full variant\n5. crates/qipu-core/src/db/indexing.rs:33 - IndexLevel::from_i32()\n6. crates/qipu-core/src/db/indexing.rs:192 - Database::get_note_index_level()\n7. crates/qipu-core/src/db/indexing.rs:234 - Database::upgrade_to_full_text()\n8. crates/qipu-core/src/db/indexing.rs:440 - IndexingResult struct\n9. crates/qipu-core/src/db/traverse.rs:7 - Database::traverse()\n10. crates/qipu-core/src/db/schema.rs:197 - force_set_schema_version()\n\nHow to change:\n- For test-only code: move to #[cfg(test)] modules\n- For truly unused code: remove entirely\n- For future-use code: document with TODO and keep\n- Remove #[allow(dead_code)] attributes after fixing\n\nWhy it matters:\n- Dead code increases maintenance burden\n- Suppressors hide real issues\n- CI should catch unused code, not suppress it\n- ~200 lines can be removed or properly organized\n\nVerification:\n- Remove suppressions and run: cargo build -p qipu-core\n- Address any dead_code warnings that appear\n- Run tests: cargo test -p qipu-core\n- Verify no functional changes\n\nContext:\n- Many items are test helpers that should be in test modules\n- Indexing functionality may be partially implemented (future use)\n- Coordinate with task qipu-ecbx for handle_no_command/handle_context","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:58.855804659-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:07:28.402773192-05:00","closed_at":"2026-01-29T23:07:28.402773192-05:00","close_reason":"Closed"}
{"id":"qipu-dl03","title":"Split tests/cli/dump.rs: move link type tests to link_types.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.238076238-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:45:28.378286674-05:00","closed_at":"2026-01-28T21:45:28.378286674-05:00","close_reason":"Closed"}
{"id":"qipu-dnyj","title":"Remove dead code from test support and llm-tool-test","description":"Remove 9 dead code items marked with #[allow(dead_code)] in support files:\n\nWhat to change:\n- tests/cli/support.rs (5 items)\n  * Line 33: setup_test_store function\n  * Line 71: create_note_with_content function\n  * Line 83: create_note_with_type function\n  * Line 94: create_note_with_tags function\n  * Line 118: setup_custom_ontology function\n- crates/llm-tool-test/src/results/test_helpers.rs (1 item)\n  * Line 10: temp_dir field in TestDb struct\n- crates/llm-tool-test/src/results/utils.rs (1 item)\n  * Line 88: estimate_cost_from_tokens function\n- crates/llm-tool-test/src/eval_helpers.rs (1 item)\n  * Line 215: create_note_with_stdin function\n- tests/cli/support.rs Line 107: init_store function\n\nHow to change:\n- Verify each item is truly unused (not referenced anywhere)\n- Remove unused functions and fields\n- If function is needed but not used yet, document when it will be used\n- Remove #[allow(dead_code)] annotations after cleanup\n\nWhy it matters:\n- Dead code confuses maintainers (is this used?)\n- Reduces compilation time\n- Cleans up the codebase for other refactorings\n\nVerification:\n- Run: cargo test (all tests must pass)\n- Run: cargo clippy --all-targets --all-features -- -D warnings\n- Verify no new dead code warnings appear","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:47.051701753-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:45:56.738133275-05:00","closed_at":"2026-01-30T09:45:56.738133275-05:00","close_reason":"Closed"}
{"id":"qipu-dqgi","title":"Split tests/cli/traversal.rs (507 lines)","description":"Break tests/cli/traversal.rs (currently 507 lines, exceeds CI limit) into modules:\n\nWhat to change:\n- tests/cli/traversal.rs (currently 507 lines)\n\nHow to change:\n- Create tests/cli/traversal/mod.rs as entry point\n- Extract dump/load traversal tests to tests/cli/traversal/dump_load.rs\n- Extract max hops limiting tests to tests/cli/traversal/hops.rs\n- Extract depth-limited graph tests to tests/cli/traversal/depth.rs\n- Keep common traversal fixtures in traversal/mod.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Contains multiple distinct traversal feature tests\n\nVerification:\n- Ensure all tests still pass: cargo test --test cli_tests traversal\n- Verify each new file is \u003c500 lines\n\nContext:\n- No functional changes, only reorganization\n- Tests cover dump/load integration and hop limiting","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:26.895375697-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:11:44.600672392-05:00","closed_at":"2026-01-29T23:11:44.600672392-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-dqgi","depends_on_id":"qipu-dhds","type":"blocks","created_at":"2026-01-29T19:55:11.859353233-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-dsbq","title":"Implement or remove unreachable workspace merge patterns","description":"Handle","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:00:56.752071677-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:00:56.752071677-05:00"}
{"id":"qipu-dtui","title":"Consolidate duplicate format handling pattern (25+ occurrences)","description":"Consolidate duplicate format handling pattern (25+ occurrences).\n\nWhat to change:\n- 25+ files repeat the same match on OutputFormat\n- Example files:\n  - src/commands/setup.rs:120-170\n  - src/commands/search/mod.rs:95-120\n  - src/commands/dispatch/handlers.rs:97-144\n\nHow to change:\n- Create src/cli/format.rs with FormatRenderer trait\n- Implement trait for each format type (JsonRenderer, HumanRenderer, RecordsRenderer)\n- Create macro or helper to eliminate boilerplate\n- Replace all 25+ occurrences with single-line calls\n\nWhy it matters:\n- Massive duplication (same 3-way match everywhere)\n- Adding new format requires changes in 25 places\n- Centralizing makes format changes trivial\n\nVerification:\n- Run: cargo test\n- Verify all format outputs identical\n- Check code reduction in lines count\n- Test with --format json, human, records\n\nContext:\n- Priority P1 (high impact)\n- Depends on: dead code removal to understand current usage\n- Will enable easier format additions in future\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:16.406727141-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:26:49.307415483-05:00","closed_at":"2026-01-29T20:26:49.307415483-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-dtui","depends_on_id":"qipu-mh0o","type":"blocks","created_at":"2026-01-29T19:50:58.877472389-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-dtuq","title":"Refactor unused assignment in db/notes/read.rs","description":"Remove #[allow(unused_assignments)] from crates/qipu-core/src/db/notes/read.rs around line 149. The has_where variable is assigned but may not be used in all code paths. Review the SQL query building logic in note_exists function - either use the variable meaningfully or restructure to eliminate it. Remove the suppression annotation after fixing. Verification: Run cargo check and cargo test db::notes to ensure no warnings and correct behavior.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:34.78372192-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:34.78372192-05:00"}
{"id":"qipu-duv","title":"Add records format edge case tests","description":"Missing records format edge case tests\n\nSpec: graph-traversal.md, records-output.md\nIssue: Budget truncation, malformed output not tested\nLocation: tests/cli/\nAction: Test edge cases in records output format","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:24.793395956-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T06:26:57.578402275-05:00","closed_at":"2026-01-26T06:26:57.578402275-05:00","close_reason":"Closed"}
{"id":"qipu-dvb","title":"Add version consistency tests","description":"No version consistency tests (qipu --version matches git tag/Cargo.toml)\n\nSpec: distribution.md\nIssue: Version consistency not tested\nLocation: tests/cli/\nAction: Test that --version output matches Cargo.toml and git tags\nPriority: P3 - infrastructure","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:50.607034509-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:10:56.948390338-05:00","closed_at":"2026-01-28T00:10:56.948390338-05:00","close_reason":"Closed"}
{"id":"qipu-dxl","title":"Feature: duplicate detection + merge command surface","description":"Spec: similarity foundation exists; needs CLI surface for duplicate detection/merge.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.507692607-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.004684929-05:00","labels":["future","knowledge-model"]}
{"id":"qipu-dya4","title":"Extract actual token counts from adapter output","description":"Spec llm-user-validation.md lines 274-283 requires extracting actual token counts from tool output (not len() / 4). Current adapter (opencode) returns cost_estimate: None. Run uses character approximation: input_chars / 4.0, output_chars / 4.0 at src/commands/llm-tool-test/results.rs:443-455. TODOs at run.rs:465,480. Location: adapter/opencode.rs:72-69. Note: amp integration is de-prioritized.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:40:34.665138957-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:03:33.308291028-05:00","closed_at":"2026-01-28T01:03:33.308291028-05:00","close_reason":"Closed","labels":["llm-tool-test"]}
{"id":"qipu-dz6","title":"Add multi-level compaction tests","description":"Missing multi-level compaction tests (digest1 → digest2 chains)\n\nSpec: compaction.md\nIssue: Chained compaction not tested\nLocation: tests/cli/compact/\nAction: Test that compaction chains work correctly","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:14.48841766-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:02:55.206729104-05:00","closed_at":"2026-01-27T23:02:55.206729104-05:00","close_reason":"Closed"}
{"id":"qipu-e1q","title":"Refactor: shrink src/lib/db/notes/read.rs","description":"Extract shared read helpers; reduce file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.628423741-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.702211933-05:00","closed_at":"2026-01-25T14:19:24.702211933-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-e4nq","title":"Split commands/context/mod.rs: simplify entry point","description":"commands/context/mod.rs (546 lines): Already well-structured with 9 submodules. Entry point execute() is large (~400 lines). Extract selection logic into select.rs (~150 lines) to further reduce mod.rs to ~250 lines. Submodules remain unchanged.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.406285741-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T18:54:44.12698689-05:00","closed_at":"2026-01-28T18:54:44.12698689-05:00","close_reason":"Closed"}
{"id":"qipu-e4ol","title":"Split tests/cli/link/ignore_value.rs: split by ignore value scenario","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:48.136594097-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:02:38.557110824-05:00","closed_at":"2026-01-29T00:02:38.557110824-05:00","close_reason":"Closed"}
{"id":"qipu-eagz","title":"Split tests/cli/compact/suggest.rs (680 lines)","description":"Break into: suggestion_basic.rs, suggestion_filters.rs, suggestion_scoring.rs, suggestion_display.rs. Extract common suggestion test patterns to helpers.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.458873772-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:03:15.021888506-05:00","closed_at":"2026-01-29T10:03:15.021888506-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-eagz","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.503102155-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-ebem","title":"Update documentation and AGENTS.md","description":"Update project documentation to reflect the new crate structure.\n\n## Files to Update\n\n### AGENTS.md\nUpdate the Project Structure section:\n```\ncrates/\n  qipu-core/        # Core library (domain logic, persistence, indexing)\n  llm-tool-test/    # LLM tool testing utility\nsrc/\n  main.rs           # Entry point, CLI parsing, dispatch\n  cli/              # CLI argument definitions (Clap derive)\n  commands/         # Command implementations (depend on qipu-core)\n```\n\n### README.md\n- Add section on project structure if not present\n- Mention qipu-core as the reusable library component\n\n### Code Documentation\n- Ensure crates/qipu-core/src/lib.rs has proper module-level documentation\n- Add //! doc comments explaining the library's purpose\n\n## Acceptance Criteria\n- AGENTS.md reflects new structure\n- README.md is accurate\n- cargo doc builds successfully for all crates","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.952544804-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:11:41.673229383-05:00","closed_at":"2026-01-29T02:11:41.673229383-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-ebem","depends_on_id":"qipu-bm0x","type":"blocks","created_at":"2026-01-28T21:14:00.5363885-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-ecbx","title":"Remove dead code: handle_no_command() and handle_context() functions","description":"Remove dead code: handle_no_command() and handle_context() functions.\n\nWhat to change:\n1. src/commands/dispatch/handlers.rs:15 - handle_no_command()\n   - Never called, superseded by NoCommand struct in command.rs:55-67\n   \n2. src/commands/dispatch/notes.rs:328 - handle_context()\n   - 480+ line function never called\n   - Context command bypasses this handler directly\n\nHow to change:\n- Delete both functions entirely\n- Remove any associated imports if now unused\n- Check for any references in test code\n- Run clippy to verify no dead_code warnings remain\n\nWhy it matters:\n- Dead code adds maintenance burden\n- handle_context is 480+ lines of dead weight\n- Confuses developers reading codebase\n- CI clippy may flag these with dead_code warnings\n\nVerification:\n- Run: cargo build (no errors)\n- Run: cargo test (all tests pass)\n- Run: cargo clippy (no dead_code warnings)\n- Verify no references in codebase: rg \"handle_no_command|handle_context\"\n\nContext:\n- Priority P1 (high value, low effort)\n- No dependencies\n- Immediate cleanup before other refactorings\n","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:27.04804461-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:24:02.405859246-05:00","closed_at":"2026-01-29T20:24:02.405859246-05:00","close_reason":"Closed"}
{"id":"qipu-ecs","title":"Add tests for typed links in dump/load roundtrip","description":"Missing tests verifying typed links survive dump/load roundtrip\n\nSpec: pack.md\nIssue: Link type preservation not tested\nLocation: tests/pack/\nAction: Test that link types are preserved through dump/load cycle","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:06.022980429-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T19:44:17.077771657-05:00","closed_at":"2026-01-26T19:44:17.077771657-05:00","close_reason":"Closed"}
{"id":"qipu-ed2","title":"Add tests for max-fanout limit behavior","description":"Missing tests for max-fanout limit behavior\n\nSpec: graph-traversal.md\nIssue: Feature exists but not tested\nLocation: tests/cli/\nAction: Test max-fanout limit in traversal commands","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:21.36017285-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T06:00:08.370250097-05:00","closed_at":"2026-01-26T06:00:08.370250097-05:00","close_reason":"Closed"}
{"id":"qipu-eeds","title":"Split tests/cli/capture.rs (697 lines)","description":"Separate into: capture_basic.rs, capture_with_frontmatter.rs, capture_with_links.rs, capture_verification.rs. Extract capture test utilities to shared helper module.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.459482432-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:28:47.939755239-05:00","closed_at":"2026-01-29T10:28:47.939755239-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-eeds","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.500896986-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-egf","title":"Clarify: source vs sources[] semantics","description":"Spec clarification needed for source vs sources[] field semantics\n\nSpec: provenance.md:11-17\nIssue: Spec defines source as singular string; implementation also has sources[] array\nCurrent: Both fields supported, bibliography reads both\nAction: Clarify intended semantics in spec\nPriority: P3 - spec clarification","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:12.293779011-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T02:18:39.375569389-05:00","closed_at":"2026-01-28T02:18:39.375569389-05:00","close_reason":"Closed"}
{"id":"qipu-ehs","title":"Feature: DB query statistics","description":"Observability enhancement: record query statistics per operational-database.md.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.887086358-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.980182206-05:00","labels":["db","future"]}
{"id":"qipu-ejb","title":"Clarify: records output edge inclusion control defaults","description":"Open question: default edge inclusion vs flags.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.243431284-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.034298599-05:00","labels":["clarify","records-output"]}
{"id":"qipu-ejy","title":"Distribution: Publish to crates.io","description":"Publish qipu to crates.io\n\nSpec: distribution.md:92\nRequirements: Account setup and verification\nAction: Setup crates.io publishing workflow\nPriority: P3 - distribution enhancement","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:30.102060731-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:03:30.416437386-05:00","closed_at":"2026-01-28T13:03:30.416437386-05:00","close_reason":"Closed"}
{"id":"qipu-en7","title":"Distribution: Add release signatures","description":"Add GPG/sigstore signatures for releases\n\nSpec: distribution.md:116-118\nRequirements: GPG key setup or sigstore integration\nAction: Implement release signing\nPriority: P3 - security enhancement","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:33.467533177-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:09:59.098882974-05:00","closed_at":"2026-01-28T13:09:59.098882974-05:00","close_reason":"Closed"}
{"id":"qipu-eurq","title":"Split lib/ontology.rs: move tests to tests/ directory","description":"lib/ontology.rs (584 lines): 370 lines (63%) are tests. Move tests to tests/lib/ontology/. Keep core logic in src/lib/ontology/mod.rs (~215 lines). Standard ontology constants already in separate default.rs resolution function.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.395951736-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:37:31.815800455-05:00","closed_at":"2026-01-28T17:37:31.815800455-05:00","close_reason":"Closed"}
{"id":"qipu-f1w","title":"Validate BM25 weight values in search tests","description":"Tests don't validate actual weight values (2.0/1.5/1.0) in search ranking\n\nSpec: similarity-ranking.md\nIssue: Weights configured but not validated in tests\nLocation: tests/cli/search.rs or src/lib/db/tests/search.rs\nAction: Add tests that verify weight configuration","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:32.963763242-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T06:41:05.465161584-05:00","closed_at":"2026-01-26T06:41:05.465161584-05:00","close_reason":"Closed"}
{"id":"qipu-fcz","title":"Add tests for schema rollback on version mismatch","description":"No tests for schema rollback (forward version mismatch)\n\nSpec: operational-database.md\nIssue: Schema rollback not tested\nLocation: src/lib/db/tests/schema.rs\nAction: Test behavior when DB schema version is newer than code version","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:42.871512544-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T12:06:11.451138407-05:00","closed_at":"2026-01-27T12:06:11.451138407-05:00","close_reason":"Closed"}
{"id":"qipu-fk3n","title":"Add module-level docs to test files","description":"Add missing module-level documentation to ~50 test files. Add '//! Test module for feature' comments to tests/cli/link/, tests/cli/context/, tests/cli/compact/, tests/pack/, tests/workspace/. Keep docs under 10 lines per module. No blockers.","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:15.932879355-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:15.932879355-05:00"}
{"id":"qipu-fp6y","title":"Split crates/llm-tool-test/src/results/types.rs (615 lines)","description":"Break results/types.rs (615 lines, exceeds 500-line CI limit) into modules: Create types/mod.rs entry point, extract RunMetadata/RunReport to types/run.rs, extract ResultRecord/TestOutcome to types/records.rs, extract ScoreTier/ScoreBreakdown to types/scoring.rs, extract CacheKey/CacheEntry to types/cache.rs. Verification: cargo test -p llm-tool-test passes, each new file \u003c500 lines.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:09.39556988-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:09.39556988-05:00"}
{"id":"qipu-ft1t","title":"Clean up llm-tool-test dead code annotations","description":"Remove module-wide #![allow(dead_code)] from llm-tool-test and fix underlying issues.\n\nWhat to change:\n- crates/llm-tool-test/src/transcript/writer.rs:1\n- crates/llm-tool-test/src/transcript/analyzer.rs:1\n- crates/llm-tool-test/src/config.rs:1\n- crates/llm-tool-test/src/pricing.rs:1\n\nHow to change:\n- Remove module-wide suppressions\n- Either use dead code (add tests), remove unused code, or add targeted allow on specific items\n- Run cargo build to identify actual dead code\n\nWhy it matters:\n- Module-wide dead_code suppressions hide real issues\n- Mask unused code that should be removed or used\n\nVerification:\n- Remove suppression and run cargo build\n- Address each dead code warning individually\n- All tests pass: cargo test -p llm-tool-test","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:47.578244647-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:47.578244647-05:00","dependencies":[{"issue_id":"qipu-ft1t","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:46:52.367244682-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-fvvt","title":"Audit dead code using clippy","description":"Run cargo clippy with dead_code warnings enabled to identify unused functions, structs, enums, and modules. Document findings and create remediation tasks for each file with dead code.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:38.61615008-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:47:36.009647039-05:00","closed_at":"2026-01-28T16:47:36.009647039-05:00","close_reason":"Closed"}
{"id":"qipu-fzyd","title":"Split tests/cli/json_schema.rs (498 lines)","description":"Break tests/cli/json_schema.rs (498 lines, 2 lines under limit) into modules by feature: Create json_schema/mod.rs entry point, extract JSON schema validation tests to json_schema/validation.rs, extract schema generation tests to json_schema/generation.rs, extract edge case tests to json_schema/edge_cases.rs. Verification: cargo test --test cli_tests json_schema passes, each new file \u003c500 lines.","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:20.059879911-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:20.059879911-05:00"}
{"id":"qipu-g0ro","title":"Refactor god functions with parameter structs","description":"10 god functions with 6+ parameters need parameter structs for maintainability.\n\nWhat to change:\n- 10 functions with excessive parameter counts:\n  * emit_link_records (link/records.rs:54): 10 parameters\n  * emit_link_records_flat (link/records.rs:230): 10 parameters\n  * emit_link_records_tree (link/records.rs:271): 10 parameters\n  * emit_link_records_graph (link/records.rs:304): 9 parameters\n  * write_context_json (context/json.rs:61): 8 parameters\n  * write_context_json_impl (context/json.rs:223): 7 parameters\n  * emit_context_records (context/records.rs:14): 7 parameters\n  * emit_context_human (context/human.rs:68): 7 parameters\n  * build_walk_context (context/walk.rs:14): 7 parameters\n  * create_note_command (create.rs:69): 7 parameters\n\nHow to change:\n- Introduce context structs for each functional group:\n  * LinkOutputContext for emit_link_records* functions\n  * JsonContext for write_context_json* functions\n  * ContextOutputContext for emit_context_* functions\n- Group related parameters into structs\n- Update function signatures and call sites\n\nWhy it matters:\n- 10 parameters is hard to understand\n- Context structs document parameter relationships\n- Makes adding new options easier\n\nVerification:\n- Run: cargo test (all tests pass)\n- Run: cargo clippy (no warnings)\n- Verify: function behavior unchanged\n\nContext:\n- P2: improves maintainability but not CI violation\n- Refactor gradually: one functional group at a time\n","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:58:17.796396845-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:58:17.796396845-05:00"}
{"id":"qipu-g1a","title":"Clarify: Per-note attachment folders","description":"Spec clarification needed for per-note attachment folders\n\nSpec: storage-format.md:147\nOpen question: Use attachments/\u003cid\u003e/... structure?\nCurrent: Flat attachments/ directory\nAction: Decide on attachment folder structure\nPriority: P3 - spec clarification","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:16.729473073-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:36:11.404840118-05:00","closed_at":"2026-01-28T06:36:11.404840118-05:00","close_reason":"Closed"}
{"id":"qipu-g46b","title":"Split cli/commands.rs: group related commands","description":"cli/commands.rs (627 lines): Group related command definitions into submodules for organization: core.rs (Init, Create, Show, List, Edit, Update, Capture, Index, Search), data.rs (Dump, Load, Export, Context, Prime), meta.rs (Verify, Value, Tags, Link, Ontology, Doctor, Sync, Workspace, Setup, Onboard, Merge, Compact, Store). Mod.rs imports and re-exports.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.444969806-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:24:29.994691124-05:00","closed_at":"2026-01-28T20:24:29.994691124-05:00","close_reason":"Closed"}
{"id":"qipu-gaxf","title":"Remove obsolete entries from check_function_complexity.py ALLOWED_FUNCTIONS","description":"## Problem\nSeveral functions in ALLOWED_FUNCTIONS are now under 100 lines and can be removed.\n\n## Functions to remove\nThese are now under the 100-line limit:\n- `commands/context/mod.rs:execute` (99 lines)\n- `commands/doctor/database.rs:check_semantic_link_types` (98 lines)\n- `commands/load/mod.rs:execute` (~110 lines - recount)\n- `commands/export/emit/bibliography.rs:export_bibtex` (32 lines - only the function itself)\n- `lib/db/repair.rs:incremental_repair` (~160 lines in qipu-core, check path)\n- `lib/similarity/mod.rs:test_default_threshold_related_notes` (~22 lines in tests.rs)\n- `commands/load/deserialize.rs:looks_like_json` (3 lines - parser bug counted to next fn)\n\n## Steps\n1. Verify each function is under 100 lines\n2. Remove from ALLOWED_FUNCTIONS set in `scripts/check_function_complexity.py`\n3. Run `python3 scripts/check_function_complexity.py` to confirm no new violations\n\n## Note\nThe complexity checker has a bug where `looks_like_json` (3 lines) gets counted with the file length. This is a brace-counting issue when a function doesn't have braces on the same line.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:33:18.359847035-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:36:48.092491899-05:00","closed_at":"2026-01-29T14:36:48.092491899-05:00","close_reason":"Closed"}
{"id":"qipu-gbqk","title":"Split llm-tool-test/transcript.rs (1734 lines)","description":"Break massive file into: transcript_parse.rs, transcript_validate.rs, transcript_transform.rs, transcript_serialize.rs. Maintain transcript module interface.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.129186121-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T12:03:12.488112192-05:00","closed_at":"2026-01-29T12:03:12.488112192-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-gbqk","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.504370587-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-gc6f","title":"Refactor god functions with parameter structs","description":"10 god functions with 6+ parameters need parameter structs for maintainability.\n\nWhat to change:\n- 10 functions with excessive parameter counts:\n  * emit_link_records (link/records.rs:54): 10 parameters\n  * emit_link_records_flat (link/records.rs:230): 10 parameters\n  * emit_link_records_tree (link/records.rs:271): 10 parameters\n  * emit_link_records_graph (link/records.rs:304): 9 parameters\n  * write_context_json (context/json.rs:61): 8 parameters\n  * write_context_json_impl (context/json.rs:223): 7 parameters\n  * emit_context_records (context/records.rs:14): 7 parameters\n  * emit_context_human (context/human.rs:68): 7 parameters\n  * build_walk_context (context/walk.rs:14): 7 parameters\n  * create_note_command (create.rs:69): 7 parameters\n\nHow to change:\n- Introduce context structs for each functional group:\n  * LinkOutputContext for emit_link_records* functions\n  * JsonContext for write_context_json* functions\n  * ContextOutputContext for emit_context_* functions\n- Group related parameters into structs (e.g., format options, display settings)\n- Update function signatures to take context structs\n- Update all call sites to construct context structs\n\nWhy it matters:\n- 10 parameters is hard to understand (which param is which?)\n- Context structs document parameter relationships\n- Enables default values and builder patterns\n- Makes adding new options easier (add field to struct vs new parameter)\n\nVerification:\n- Run: cargo test (all tests pass)\n- Run: cargo clippy (no warnings)\n- Verify: function behavior unchanged (parameter values preserved)\n- Check: call sites are clearer with named struct fields\n\nContext:\n- Depends on: format dispatch consolidation (may share context types)\n- P2: improves maintainability but not a CI violation\n- Refactor gradually: one functional group at a time","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:57:21.057442861-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:57:21.057442861-05:00"}
{"id":"qipu-gdm","title":"Load attachment path traversal vulnerability","notes":"This issue duplicates an existing issue for load attachment path traversal vulnerability. Closing this duplicate.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:26.28899931-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T15:37:25.841528739-05:00","closed_at":"2026-01-25T15:36:15.178462603-05:00","close_reason":"Closed","labels":["closed","duplicate"]}
{"id":"qipu-gfcr","title":"Add graceful Ctrl+C interruption for progressive indexing","description":"Spec progressive-indexing.md lines 663-668 requires graceful Ctrl+C handling with partial save. Need to catch SIGINT, flush indexed notes to database, and print 'Index interrupted. Run qipu index to resume'. Location: src/commands/index.rs (index entry point), src/lib/db/indexing.rs (batched indexing).","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:40:20.670371807-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T16:06:31.465431689-05:00","closed_at":"2026-01-27T16:06:31.465431689-05:00","close_reason":"Closed","labels":["progressive-indexing"]}
{"id":"qipu-ggl","title":"Add checksum verification tests","description":"No checksum verification tests\n\nSpec: distribution.md\nIssue: SHA256 checksum verification not tested\nLocation: tests/\nAction: Test checksum verification in install process\nPriority: P3 - infrastructure","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:47.201469811-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:05:36.491555449-05:00","closed_at":"2026-01-28T00:05:36.491555449-05:00","close_reason":"Closed"}
{"id":"qipu-gj6h","title":"Centralize root path resolution in command dispatch","description":"Consolidate 8 identical root path resolution patterns:\n\nWhat to change:\n- src/commands/workspace/new.rs:31 - let root = resolve_root_path(cli.root.clone());\n- src/commands/workspace/delete.rs:9 - let root = resolve_root_path(cli.root.clone());\n- src/commands/workspace/list.rs:24 - let root = resolve_root_path(cli.root.clone());\n- src/commands/workspace/merge.rs:30 - let root = resolve_root_path(cli.root.clone());\n- src/commands/compact/utils.rs:11 - let root = resolve_root_path(cli.root.clone());\n- src/commands/compact/apply.rs:34 - let root = resolve_root_path(cli.root.clone());\n- src/commands/dispatch/mod.rs:22 - let root = resolve_root_path(cli.root.clone());\n\nHow to change:\n- Resolve root once in dispatch layer (commands/dispatch/mod.rs)\n- Pass resolved \u0026Path to command handlers instead of cli.root\n- Remove clone() calls (performance improvement)\n- Update all command handler signatures to accept root: \u0026Path\n\nWhy it matters:\n- 8 identical lines violate DRY\n- Reduces unnecessary cloning\n- Centralizes path resolution logic\n\nVerification:\n- Run: cargo test --test cli_tests\n- Verify all workspace, compact, dispatch tests pass\n- Check: cargo clippy passes\n- Ensure no functional changes","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:36.535135312-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:36.535135312-05:00"}
{"id":"qipu-gkb","title":"Add llm-tool-test human review workflow tests","description":"Missing tests for human review workflow (update_human_review, load_pending_review)\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test human review functions","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:26.146138365-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:16:36.777082206-05:00","closed_at":"2026-01-27T23:16:36.777082206-05:00","close_reason":"Closed"}
{"id":"qipu-gmsm","title":"Extract shared graph traversal infrastructure","description":"Consolidate duplicate traversal logic between BFS and Dijkstra:\n\nWhat to change:\n- crates/qipu-core/src/graph/algos/bfs.rs (bfs_traverse, ~250 lines duplicate)\n- crates/qipu-core/src/graph/algos/dijkstra.rs (dijkstra_traverse, ~250 lines duplicate)\n\nHow to change:\n- Analyze both functions to identify identical initialization patterns\n- Create graph/algos/traversal.rs with shared infrastructure:\n  - TraversalState struct (visited set, options, truncation tracking)\n  - initialize_traversal() helper\n  - should_visit_node() predicate\n  - check_truncation_limits() helper\n  - build_result() helper for common result construction\n- Refactor bfs_traverse to use shared infrastructure (~100 lines remaining)\n- Refactor dijkstra_traverse to use shared infrastructure (~100 lines remaining)\n- Remove ~200 lines of duplication per function\n\nWhy it matters:\n- ~250 lines of nearly identical code in each function\n- Changes to traversal logic need to be made in two places\n- Increases maintenance burden and error risk\n\nVerification:\n- Run all graph tests: cargo test -p qipu-core graph\n- Verify behavior unchanged for both BFS and Dijkstra\n- Measure line reduction: should save ~400-500 lines total\n\nContext:\n- Depends on bfs_traverse and dijkstra_traverse being refactored first\n- P2 priority because it is cleanup after the function splits","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:59:59.81495804-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:53:19.541478117-05:00","closed_at":"2026-01-29T23:53:19.541478117-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-gmsm","depends_on_id":"qipu-8l4p","type":"blocks","created_at":"2026-01-29T20:00:06.273108796-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-gmsm","depends_on_id":"qipu-46ag","type":"blocks","created_at":"2026-01-29T20:00:06.355615104-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-gqt","title":"Add performance tests for --help/--version","description":"Missing performance tests per cli-tool.md spec\n\nTarget: \u003c100ms for --help and --version commands\nLocation: tests/cli/ or tests/bench/\nStatus: Not implemented","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:37.354953127-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T23:39:08.185759821-05:00","closed_at":"2026-01-25T23:39:08.185759821-05:00","close_reason":"Closed"}
{"id":"qipu-gsfr","title":"Extract provenance field handling helper","description":"Consolidate","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:08.7449776-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:08.7449776-05:00","dependencies":[{"issue_id":"qipu-gsfr","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:01:43.669991496-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-gyg5","title":"Extract qipu-core library crate","description":"Create a new library crate 'qipu-core' to house the core domain logic currently in src/lib/. This is an architectural refactor to improve modularity, compile times, and enable future alternative frontends (TUI, GUI, language server).\n\n## Goals\n- Clean separation between core domain logic and CLI presentation\n- Explicit crate boundary instead of internal module hack\n- Faster incremental compilation (CLI changes won't rebuild core)\n- Better unit test isolation for core logic\n- Foundation for potential future frontends\n\n## Scope\n- src/lib/ (14.6K lines) becomes crates/qipu-core/src/\n- Core modules: db, store, note, graph, search, index, query, similarity, compaction, text, config, error, format, git, id, logging, ontology, records\n- Binary crate (qipu) retains: main.rs, cli/, commands/\n\n## Out of Scope\n- Further crate splitting (db, index as separate crates) - not warranted at current scale\n- API stability guarantees for qipu-core (internal use only for now)","status":"closed","priority":2,"issue_type":"feature","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:12:46.237382874-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:24:08.826792053-05:00","closed_at":"2026-01-29T00:24:08.826792053-05:00","close_reason":"Closed"}
{"id":"qipu-h836","title":"Create shared format output module","description":"Create","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:07.949159568-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:07.949159568-05:00"}
{"id":"qipu-h8x","title":"Add llm-tool-test LLM judge tests","description":"Missing tests for LLM judge (run_judge)\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test run_judge function","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:32.707788514-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:34:10.801094441-05:00","closed_at":"2026-01-27T23:34:10.801094441-05:00","close_reason":"Closed"}
{"id":"qipu-hapq","title":"Split crates/llm-tool-test/src/judge.rs (547 lines)","description":"Split crates/llm-tool-test/src/judge.rs (547 lines) to comply with CI 500-line limit:\n\nWhat to change:\n- crates/llm-tool-test/src/judge.rs (currently 547 lines, 47 over limit)\n\nHow to change:\n- Analyze judge.rs functionality and split by concern:\n  * Judge orchestration logic\n  * Criterion evaluation\n  * Scoring/comparison logic\n- Create judge/ subdirectory:\n  * judge/mod.rs - main judge orchestration\n  * judge/criteria.rs - individual criterion evaluation\n  * judge/scoring.rs - score calculation and aggregation\n\nWhy it matters:\n- Violates CI 500-line file limit (enforced, blocks builds)\n- Judge contains multiple responsibilities\n\nVerification:\n- Run: cargo test -p llm-tool-test\n- Verify all judge tests pass\n- Ensure each new file is \u003c500 lines","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:35.061686182-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:41:35.061686182-05:00","dependencies":[{"issue_id":"qipu-hapq","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:58:22.3248367-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-hccm","title":"Reduce clone() usage in test files","description":"Optimize 127 clone() calls in tests/ directory. High-density files: tests/cli/custom/set.rs (18 clones), tests/cli/compact/annotations.rs (17 clones), tests/cli/value.rs (15 clones), tests/cli/json_schema.rs (14 clones). Pattern: .get_output().clone() on assert_cmd outputs. Use borrowing with \u0026 where possible to avoid clones. Verification: Run cargo test and verify all tests pass.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:37.965568117-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:37.965568117-05:00","dependencies":[{"issue_id":"qipu-hccm","depends_on_id":"qipu-aaf1","type":"blocks","created_at":"2026-01-30T08:01:43.847987236-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-hjs","title":"Add BibTeX/CSL-JSON edge case tests","description":"Missing BibTeX/CSL-JSON edge case tests\n\nSpec: export.md\nIssues: Non-standard URLs, missing fields not tested\nLocation: tests/cli/export.rs\nAction: Test bibliography exports with edge cases","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:06.976101126-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T13:18:53.59568573-05:00","closed_at":"2026-01-27T13:18:53.59568573-05:00","close_reason":"Closed"}
{"id":"qipu-hrg6","title":"Remove duplicate functions in llm-tool-test","description":"Consolidate duplicate helper functions:\n\nWhat to change:\n- crates/llm-tool-test/src/fixture.rs:53 - copy_dir_recursive\n- crates/llm-tool-test/src/run.rs:128 - copy_dir_recursive (duplicate)\n- crates/llm-tool-test/src/eval_tests_gates.rs:24 - create_note_with_stdin\n- crates/llm-tool-test/src/eval_tests_doctor.rs:24 - create_note_with_stdin (duplicate)\n\nHow to change:\n- Extract copy_dir_recursive to shared module (src/utils.rs or src/fs.rs)\n- Extract create_note_with_stdin to src/test_helpers.rs\n- Update all call sites to use shared versions\n- Delete duplicate implementations\n\nWhy it matters:\n- Exact duplicates indicate poor code organization\n- Changes need to be made in multiple places\n- Increases maintenance burden\n\nVerification:\n- Run llm-tool-test tests: cargo test -p llm-tool-test\n- Ensure both duplicates are removed\n- Verify no regression in functionality\n\nContext:\n- P2 priority: cleanup after file splits\n- Part of llm-tool-test maintainability improvements","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:36.499332463-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:11:14.612029579-05:00","closed_at":"2026-01-30T00:11:14.612029579-05:00","close_reason":"Closed"}
{"id":"qipu-hscz","title":"Split src/commands/list/tests.rs (514 lines)","description":"Break src/commands/list/tests.rs (currently 514 lines, exceeds CI 500-line limit) into modules:\n\nWhat to change:\n- src/commands/list/tests.rs (currently 514 lines)\n\nHow to change:\n- Create src/commands/list/tests/mod.rs as entry point\n- Extract filter tests to src/commands/list/tests/filter.rs\n- Extract sort tests to src/commands/list/tests/sort.rs  \n- Extract format/output tests to src/commands/list/tests/format.rs\n- Keep common test fixtures in src/commands/list/tests/mod.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Large test files are hard to navigate and maintain\n- Tests are currently monolithic and mixed by feature\n\nVerification:\n- Ensure all tests still pass: cargo test --lib list\n- Verify each new file is \u003c500 lines\n- Check that test coverage is unchanged\n\nContext:\n- No functional changes, only test reorganization\n- Tests use shared fixtures that need careful extraction","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:22.21324642-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:09:31.850924355-05:00","closed_at":"2026-01-29T23:09:31.850924355-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-hscz","depends_on_id":"qipu-dhds","type":"blocks","created_at":"2026-01-29T19:55:10.477854783-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-hw4","title":"Refactor: split src/lib/db/tests.rs into modules","description":"Split oversized db test file into multiple focused modules.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.583601824-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.66505645-05:00","closed_at":"2026-01-25T14:19:23.66505645-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-hxg","title":"Add integration tests for get index then fetch bodies workflow","description":"Missing integration tests for 'get index, then fetch bodies' workflow\n\nSpec: records-output.md\nIssue: Two-phase workflow not integration tested\nLocation: tests/cli/\nAction: Test workflow of getting index first, then fetching full bodies","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:48.165474498-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T09:41:46.042158338-05:00","closed_at":"2026-01-26T09:41:46.042158338-05:00","close_reason":"Closed"}
{"id":"qipu-hztl","title":"Refactor prime.rs execute - extract output formatting","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:08:15.675884828-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:12:16.775925468-05:00","closed_at":"2026-01-29T00:12:16.775925468-05:00","close_reason":"Closed"}
{"id":"qipu-i20a","title":"Write detailed usage documentation for custom ontology","description":"Document the custom ontology feature for end users in docs/. Include examples for legal research, medical, and software architecture domains. Cover configuration syntax, extension vs replacement modes, migration workflows, and LLM guidance best practices.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:56:19.215414518-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:47:08.102322654-05:00","closed_at":"2026-01-28T12:47:08.102322654-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-i20a","depends_on_id":"qipu-stwx","type":"depends-on","created_at":"2026-01-25T20:56:22.357742967-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-i3fi","title":"Refactor handle_capture function in src/commands/dispatch/notes.rs","description":"Refactor handle_capture (12 parameters) to use struct-based parameter passing:\n\nWhat to change:\n- src/commands/dispatch/notes.rs:236-249\n\nCurrent signature:\npub(super) fn handle_capture(\n    cli: \u0026Cli,\n    root: \u0026Path,\n    title: Option\u003c\u0026str\u003e,\n    note_type: Option\u003cqipu_core::note::NoteType\u003e,\n    tags: \u0026[String],\n    source: Option\u003cString\u003e,\n    author: Option\u003cString\u003e,\n    generated_by: Option\u003cString\u003e,\n    prompt_hash: Option\u003cString\u003e,\n    verified: Option\u003cbool\u003e,\n    id: Option\u003c\u0026str\u003e,\n    start: Instant,\n) -\u003e Result\u003c()\u003e\n\nHow to change:\n- Create CaptureOptions struct containing all note creation parameters\n- Replace 12 parameters with 3: (cli: \u0026Cli, root: \u0026Path, opts: CaptureOptions)\n- CaptureOptions fields: all current Option\u003c...\u003e and Vec parameters\n- Update all call sites to construct CaptureOptions\n- Remove #[allow(clippy::too_many_arguments)] annotation\n\nWhy it matters:\n- 12 parameters is extreme code smell\n- Struct enables named parameters pattern (clearer at call sites)\n- Makes function signature maintainable\n\nVerification:\n- Run: cargo test --test cli_tests capture\n- Verify all capture tests pass\n- Check: cargo clippy passes without warnings\n- Ensure no functional changes","status":"open","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:55.694187265-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:41:55.694187265-05:00","dependencies":[{"issue_id":"qipu-i3fi","depends_on_id":"qipu-vely","type":"blocks","created_at":"2026-01-30T07:42:47.544408902-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-i48p","title":"Add --include-ontology to qipu context","description":"Add flag to include domain guidance and type descriptions in context output. File: src/commands/context/mod.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:50.12576808-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:20:11.486985415-05:00","closed_at":"2026-01-28T12:20:11.486985415-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-i48p","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:50.127065665-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-ia4k","title":"Split tests/cli/doctor.rs: move duplicate detection tests to duplicates.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.031346858-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:44:18.523220802-05:00","closed_at":"2026-01-28T22:44:18.523220802-05:00","close_reason":"Closed"}
{"id":"qipu-idip","title":"Analyze long test files for consolidation opportunities","description":"Analyze test files exceeding 700 lines: compact/commands.rs (1929), search.rs (1587), dump.rs (1555), context/basic.rs (1417), workspace_merge_test.rs (1422), context/formats.rs (1240), doctor.rs (1003). Create consolidation tasks where tests can be split or merged logically.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:42.460840332-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:06:57.240702005-05:00","closed_at":"2026-01-28T17:06:57.240702005-05:00","close_reason":"Closed"}
{"id":"qipu-ig3z","title":"Add TUI progress bar for progressive indexing","description":"Spec progressive-indexing.md lines 217-219 requires TUI progress bar with ETA calculation and notes/sec rate. Current implementation has basic progress callback (src/lib/db/mod.rs:229-237) but no TUI visualization. Need to add progress bar with estimated time remaining and throughput metrics.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:40:20.666822897-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:57:01.274632331-05:00","closed_at":"2026-01-27T15:57:01.274632331-05:00","close_reason":"Closed","labels":["progressive-indexing"]}
{"id":"qipu-ihjo","title":"Split query/filter.rs: move tests to tests/ directory","description":"query/filter.rs (682 lines): 398 lines (58%) are tests. Move tests to tests/lib/query/filter.rs, keeping only core logic in src/lib/query/filter.rs (~284 lines). Tests should test public API through src module path.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.42320217-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T19:34:36.794391972-05:00","closed_at":"2026-01-28T19:34:36.794391972-05:00","close_reason":"Closed"}
{"id":"qipu-iqtj","title":"Remove stale grandfathered exceptions from check_function_complexity.py","description":"Remove","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:06.44579726-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:06.44579726-05:00"}
{"id":"qipu-ixyy","title":"Refactor oversized test functions \u003e100 lines","description":"Refactor","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:46:10.164275176-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:46:10.164275176-05:00","dependencies":[{"issue_id":"qipu-ixyy","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:46:51.228872913-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-iy8u","title":"Split tests/cli/context/walk_advanced.rs (484 lines)","description":"Split tests/cli/context/walk_advanced.rs (484 lines) by feature. Create walk_advanced/mod.rs, extract semantic_inversion/min_value/ignore_value/edge_cases to separate files. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:12.952115399-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:12.952115399-05:00","dependencies":[{"issue_id":"qipu-iy8u","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.392418407-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-j46","title":"Add determinism test coverage","description":"Missing determinism test coverage for all commands\n\nIssue: Ensure all commands produce deterministic output\nScope: All commands should be tested for deterministic behavior\nLocation: tests/cli/","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:49.884177042-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T04:26:58.073726048-05:00","closed_at":"2026-01-26T04:26:58.073726048-05:00","close_reason":"Closed"}
{"id":"qipu-jaa","title":"Export bibliography: support singular source field","description":"Bibliography export reads both source (singular) and sources[] array.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:21.721717379-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:21.80561792-05:00","closed_at":"2026-01-25T14:19:21.80561792-05:00","close_reason":"Closed","labels":["history","provenance"]}
{"id":"qipu-jaqn","title":"Split crates/qipu-core/src/db/notes/read.rs (502 lines)","description":"Break crates/qipu-core/src/db/notes/read.rs (currently 502 lines) into modules:\n\nWhat to change:\n- crates/qipu-core/src/db/notes/read.rs (currently 502 lines)\n\nHow to change:\n- Create crates/qipu-core/src/db/notes/read/mod.rs as entry point\n- Extract Note struct extraction to crates/qipu-core/src/db/notes/read/extract.rs\n- Extract metadata parsing to crates/qipu-core/src/db/notes/read/metadata.rs\n- Extract SQLite row mapping to crates/qipu-core/src/db/notes/read/mapping.rs\n- Keep public API in read/mod.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Contains complex note reading logic with full metadata parsing\n- Type complexity issue at line 330 (separate task qipu-bxob exists for that)\n\nVerification:\n- Ensure all tests still pass: cargo test -p qipu-core\n- Verify each new file is \u003c500 lines\n- Check that Note reading behavior is unchanged\n\nContext:\n- Note: separate task qipu-bxob exists for type complexity fix at line 330\n- Coordinate with that task to avoid conflicts\n- No functional changes, only code organization","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:29.63567407-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:12:50.608640714-05:00","closed_at":"2026-01-29T23:12:50.608640714-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-jaqn","depends_on_id":"qipu-dhds","type":"blocks","created_at":"2026-01-29T19:55:12.110969659-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-jgoa","title":"Split tests/cli/context/walk.rs (825 lines)","description":"Break into separate test files by feature: tests/cli/context/walk.rs -\u003e tests/cli/context/walk/mod.rs, traversal.rs, truncation.rs, filtering.rs. Extract shared test helpers to reduce boilerplate.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.459754699-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:36:51.990256516-05:00","closed_at":"2026-01-29T10:36:51.990256516-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-jgoa","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.488978308-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-joq","title":"Add tests for qipu prime JSON and records formats","description":"Missing tests for qipu prime --format json and --format records\n\nSpec: llm-context.md\nIssue: Only human format tested\nLocation: tests/cli/\nAction: Add tests for JSON and records output formats","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:51.780665365-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T09:56:57.631123502-05:00","closed_at":"2026-01-26T09:56:57.631123502-05:00","close_reason":"Closed"}
{"id":"qipu-jqzv","title":"Fix version mismatch: Cargo.toml has 0.2.77 but git tag is v0.2.80","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T10:18:52.957174556-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:23:21.179288678-05:00","closed_at":"2026-01-29T10:23:21.179288678-05:00","close_reason":"Closed"}
{"id":"qipu-jrtr","title":"Fix version consistency test: Cargo.toml has 0.2.9 but git tag is v0.2.36","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T00:24:48.127238516-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:28:33.380878837-05:00","closed_at":"2026-01-28T00:28:33.380878837-05:00","close_reason":"Closed"}
{"id":"qipu-jsnf","title":"Partition dependencies between qipu and qipu-core","description":"Analyze and partition Cargo dependencies between the binary crate (qipu) and library crate (qipu-core).\n\n## Analysis Required\nReview each dependency in root Cargo.toml and determine:\n- Which are needed ONLY by core domain logic (move to qipu-core)\n- Which are needed ONLY by CLI/commands (keep in qipu)\n- Which are needed by both (add to both, or re-export from qipu-core)\n\n## Expected Partitioning\n\n### qipu-core dependencies (domain/persistence):\n- serde, serde_json, serde_yaml, toml (serialization)\n- chrono (date/time)\n- thiserror (error types)\n- sha2, hex, ulid (ID generation)\n- walkdir (file system)\n- slug (slug generation)\n- regex, base64, mime_guess (content processing)\n- rusqlite (database)\n- tracing, tracing-subscriber, tracing-attributes (logging)\n- rust-stemmers (text processing)\n\n### qipu (binary) dependencies:\n- clap (CLI parsing)\n- ctrlc (signal handling)\n- qipu-core = { path = \"crates/qipu-core\" }\n\n## Tasks\n1. Add dependency on qipu-core to root Cargo.toml\n2. Create qipu-core Cargo.toml with partitioned dependencies\n3. Keep dev-dependencies in root (tempfile, assert_cmd, predicates for CLI tests)\n\n## Acceptance Criteria\n- cargo check succeeds for workspace\n- No duplicate version specifications\n- qipu-core is self-contained (doesn't depend on clap)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:09.573119827-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:24:42.058420728-05:00","closed_at":"2026-01-29T01:24:42.058420728-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-jsnf","depends_on_id":"qipu-7ojk","type":"blocks","created_at":"2026-01-28T21:13:52.95132221-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-jt8","title":"Add tests for workspace rename strategy link rewriting","description":"Missing tests for rename strategy link rewriting\n\nSpec: workspaces.md\nIssue: Link rewriting not tested\nLocation: tests/workspace/\nAction: Test that links are correctly rewritten during workspace merge with rename strategy","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:09.530484304-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T20:03:04.801834129-05:00","closed_at":"2026-01-26T20:03:04.801834129-05:00","close_reason":"Closed"}
{"id":"qipu-jw6","title":"Add llm-tool-test link parsing edge case tests","description":"Missing link parsing edge case tests in store_analysis\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test edge cases in link parsing during store analysis","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:36.114784287-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:38:38.372866896-05:00","closed_at":"2026-01-27T23:38:38.372866896-05:00","close_reason":"Closed"}
{"id":"qipu-jx7x","title":"Refactor handle_list function in src/commands/dispatch/notes.rs","description":"Refactor handle_list (9 parameters) to use struct-based parameter passing:\n\nWhat to change:\n- src/commands/dispatch/notes.rs:48-58\n\nCurrent signature:\npub(super) fn handle_list(\n    cli: \u0026Cli,\n    root: \u0026Path,\n    tag: Option\u003c\u0026str\u003e,\n    note_type: Option\u003cqipu_core::note::NoteType\u003e,\n    since: Option\u003c\u0026str\u003e,\n    min_value: Option\u003cu8\u003e,\n    custom: Option\u003c\u0026str\u003e,\n    show_custom: bool,\n    start: Instant,\n) -\u003e Result\u003c()\u003e\n\nHow to change:\n- Create ListOptions struct containing all filter parameters\n- Replace 9 parameters with 3: (cli: \u0026Cli, root: \u0026Path, opts: ListOptions)\n- ListOptions fields: tag, note_type, since, min_value, custom, show_custom, start\n- Update all call sites to construct ListOptions\n- Remove #[allow(clippy::too_many_arguments)] annotation\n\nWhy it matters:\n- 9 parameters is code smell (hard to call, easy to swap)\n- Struct makes parameter passing clearer and self-documenting\n- Enables adding new options without signature changes\n\nVerification:\n- Run: cargo test --test cli_tests list\n- Verify all list tests pass\n- Check: cargo clippy passes without warnings\n- Ensure no functional changes","status":"open","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:53.192014037-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:41:53.192014037-05:00","dependencies":[{"issue_id":"qipu-jx7x","depends_on_id":"qipu-vely","type":"blocks","created_at":"2026-01-30T07:42:47.34522979-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-jzlg","title":"Fix version mismatch: git tag v0.2.81 vs Cargo.toml 0.2.80","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T10:28:18.565392216-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:32:24.187117714-05:00","closed_at":"2026-01-29T10:32:24.187117714-05:00","close_reason":"Closed"}
{"id":"qipu-k23b","title":"Promote tests/cli/support.rs to tests/support/mod.rs","description":"Centralize test helpers by promoting support module:\n\nWhat to change:\n- tests/cli/support.rs (123 lines) -\u003e tests/support/mod.rs\n- Update all imports from crate::cli::support to tests::support\n\nHow to change:\n- Move support.rs to tests/support/mod.rs\n- Create tests/support/ directory structure\n- Split helpers into logical files if needed:\n  * support/store.rs - store setup helpers\n  * support/note.rs - note creation helpers\n  * support/assert.rs - assertion helpers\n- Update all test files using support helpers\n- Remove #[allow(dead_code)] after confirming wide usage\n\nWhy it matters:\n- support.rs currently in cli/ but used across all tests\n- Many helpers marked dead_code indicating underuse\n- Better organization enables test helper discovery\n\nVerification:\n- Run: cargo test --test cli_tests\n- Verify all tests compile and pass\n- Check: cargo clippy passes\n- Ensure no import path regressions","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:23.230097725-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:23.230097725-05:00","dependencies":[{"issue_id":"qipu-k23b","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:42:46.663211271-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-k446","title":"Fix version consistency: git tag v0.2.61 vs Cargo.toml 0.2.60 mismatch","description":"test_version_consistency failing: At release tag v0.2.61, but Cargo.toml has version 0.2.60. Update Cargo.toml to match git tag.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:58:35.523787363-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:03:42.597803604-05:00","closed_at":"2026-01-28T22:03:42.597803604-05:00","close_reason":"Closed"}
{"id":"qipu-k8eq","title":"Refactor god function: collect_selected_notes() 457 lines","description":"Refactor god function: collect_selected_notes() 457 lines, 10 parameters.\n\nWhat to change:\n- src/commands/context/select.rs:72-369\n- 457 lines with 10 parameters\n- 13 levels of nesting at deepest point\n- 28 clone() calls within function\n\nHow to change:\n- Extract sub-functions:\n  - resolve_walk_notes() - handle walk-based selection\n  - resolve_tag_notes() - handle tag-based selection\n  - resolve_moc_notes() - handle MOC expansion\n  - apply_backlinks() - handle backlink collection\n  - apply_similarity() - handle similarity search\n  - apply_filters() - handle custom filtering\n- Each extracted function \u003c100 lines\n- Use builder pattern for options\n\nWhy it matters:\n- 457 lines is nearly 5x the 100-line limit\n- 13 nesting levels make logic hard to follow\n- Cannot be tested in isolation\n- Blocks understanding of context feature\n\nVerification:\n- Run: cargo test context\n- Verify all context tests pass\n- Check each extracted function \u003c100 lines\n- Ensure no behavioral changes\n\nContext:\n- Priority P1 (critical maintainability issue)\n- Depends on: understanding dead code paths first\n- This is the most complex function in codebase\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:16.604366675-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T21:43:49.800027474-05:00","closed_at":"2026-01-29T21:43:49.800027474-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-k8eq","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:58.495921536-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-kab2","title":"Extract deep nesting in update.rs file operations","description":"Extract 5-level nested file operation logic in src/commands/update.rs. Create maybe_rename_note_file() helper for title changes. Create maybe_move_note_directory() helper for type changes. Reduces nesting and enables unit testing. Blocked by qipu-g0ro.","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:14.543841235-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:14.543841235-05:00","dependencies":[{"issue_id":"qipu-kab2","depends_on_id":"qipu-qtql","type":"blocks","created_at":"2026-01-30T08:17:26.222199816-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-kdr7","title":"Refactor dispatch handlers to reduce parameter counts (7-20 params)","description":"Refactor dispatch handlers to reduce parameter counts (7-20 params each).\n\nWhat to change:\n- src/commands/dispatch/commands.rs:\n  - execute_context(): ContextOptions with 20 fields\n  - handle_index(): 13 parameters\n  - handle_capture(): 12 parameters\n  - handle_update(): 13 parameters\n  - handle_compact_show(): 8 parameters\n  - handle_compact_records(): 8 parameters\n\nHow to change:\n- Create config structs to group related parameters:\n  - IndexOptions, CaptureOptions, UpdateOptions\n  - Use builder pattern for complex options\n  - Pass single struct instead of 10+ individual params\n  - Validate in separate methods\n\nWhy it matters:\n- 20+ parameters violate clean code principles\n- Hard to call correctly, easy to swap order\n- Adding new parameter requires changes in 3 places\n- Structs document parameter purpose\n\nVerification:\n- Run: cargo build\n- Run: cargo test dispatch\n- Verify no behavioral changes\n- Check parameter counts reduced\n\nContext:\n- Priority P2 (maintainability)\n- Can be done incrementally per handler\n- No functional changes\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:39.556711675-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:02:29.505078542-05:00","closed_at":"2026-01-29T22:02:29.505078542-05:00","close_reason":"Closed"}
{"id":"qipu-kgp8","title":"Add deprecation warning for [graph.types.*]","description":"Emit deprecation warning when graph.types config is used. Suggest migration to [ontology] syntax. File: src/lib/config.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:19.377795409-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:42:53.735086253-05:00","closed_at":"2026-01-28T13:42:53.735086253-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-kgp8","depends_on_id":"qipu-kmlj","type":"blocks","created_at":"2026-01-25T20:52:19.379312516-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-kgq5","title":"Split tests/cli/link/compaction.rs: split by compaction scenario","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:48.131715634-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:58:15.328709875-05:00","closed_at":"2026-01-28T23:58:15.328709875-05:00","close_reason":"Closed"}
{"id":"qipu-kik9","title":"Remove allow(dead_code) suppressions in llm-tool-test","description":"Clean up dead code suppressions in llm-tool-test crate:\n\nWhat to change:\nRemove or fix 8 dead code items marked with #[allow(dead_code)]:\n\n1. crates/llm-tool-test/src/transcript/writer.rs:8 - TranscriptWriter struct\n2. crates/llm-tool-test/src/transcript/writer.rs:92 - TranscriptWriter::read_events()\n3. crates/llm-tool-test/src/transcript/analyzer.rs:7 - TranscriptAnalyzer::analyze()\n4. crates/llm-tool-test/src/judge.rs:50 - run_judge()\n5. crates/llm-tool-test/src/judge.rs:117 - build_judge_prompt()\n6. crates/llm-tool-test/src/judge.rs:450 - run_judge_with_client()\n7. crates/llm-tool-test/src/adapter/mock.rs:11 - MockAdapter::run_with_events()\n\nHow to change:\n- For test-only code: move to #[cfg(test)] modules or test/ directory\n- For truly unused code: remove entirely\n- For partially implemented features: document with TODO\n- Remove #[allow(dead_code)] attributes after fixing\n\nWhy it matters:\n- Dead code increases maintenance burden\n- Suppressors hide real issues\n- Test crate should not have production dead code\n- ~150 lines can be removed or reorganized\n\nVerification:\n- Remove suppressions and run: cargo build -p llm-tool-test\n- Address any dead_code warnings that appear\n- Run tests: cargo test -p llm-tool-test\n- Verify no functional changes\n\nContext:\n- This crate appears to be partially implemented testing framework\n- Some items may be future features that need documentation\n- Coordinate with task qipu-9pgu for llm-tool-test function refactoring","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:55:02.726339466-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:32:24.826102219-05:00","closed_at":"2026-01-29T23:32:24.826102219-05:00","close_reason":"Closed"}
{"id":"qipu-kjx2","title":"Extract note JSON construction helper","description":"Create","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:17.542503178-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:17.542503178-05:00","dependencies":[{"issue_id":"qipu-kjx2","depends_on_id":"qipu-vely","type":"blocks","created_at":"2026-01-30T08:01:43.756999088-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-kmlj","title":"Add OntologyConfig structs to StoreConfig","description":"Add OntologyConfig, NoteTypeConfig structs to src/lib/config.rs. Add usage field to LinkTypeConfig. Add ontology field to StoreConfig. File: src/lib/config.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:12.845780917-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:44:30.7591729-05:00","closed_at":"2026-01-28T06:44:30.7591729-05:00","close_reason":"Closed","labels":["custom-ontology"]}
{"id":"qipu-kpq8","title":"Add Python cache files to .gitignore","description":"Python cache files (__pycache__/*.pyc) are committed to git but should be ignored.\n\nWhat to change:\n- .gitignore: add Python ignore patterns\n\nHow to change:\n- Add to .gitignore:\n  ```\n  # Python\n  __pycache__/\n  *.py[cod]\n  *$py.class\n  .pytest_cache/\n  ```\n- Remove committed cache: `git rm -r scripts/__pycache__/`\n\nWhy it matters:\n- Cache files are build artifacts, not source code\n- Cause unnecessary git noise and merge conflicts\n- scripts/__pycache__/check_function_complexity.cpython-312.pyc is currently tracked\n\nVerification:\n- After .gitignore update: `git status` should not show __pycache__/\n- After removal: `git ls-files | grep __pycache__` should return nothing\n- scripts/check_function_complexity.py should still work\n\nContext:\n- No dependencies\n- Cleanup task, no functional changes\n- Standard practice for Python projects","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:56:58.0261855-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T09:48:05.17553498-05:00","closed_at":"2026-01-30T09:48:05.17553498-05:00","close_reason":"Closed"}
{"id":"qipu-kryh","title":"Refactor export/mod.rs:execute (137 lines)","description":"## Problem\n`execute` in `src/commands/export/mod.rs` is 137 lines.\n\n## Analysis\nThe function handles note collection, compaction resolution, sorting, and output generation for 3 modes (Bundle, Outline, Bibliography) × 3 formats (Human, JSON, Records). Some helpers already exist in emit/ submodule.\n\n## Refactoring Plan\n1. Extract output generation into unified function:\n   - `generate_output(cli, store, notes, mode, options, compaction_ctx) -\u003e Result\u003cString\u003e`\n2. Main function becomes:\n   - Collect notes\n   - Resolve compaction\n   - Sort\n   - Generate output\n   - Handle attachments\n   - Write to file/stdout\n\n## Verification\n- Run `cargo test --test cli_tests export`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/export/mod.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:17.06396041-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:55:32.912783583-05:00","closed_at":"2026-01-29T13:55:32.912783583-05:00","close_reason":"Closed"}
{"id":"qipu-kvl9","title":"Add missing documentation to 60+ public items","description":"Add missing documentation to 60+ public items.\n\nWhat to change:\n- crates/qipu-core/src/db/notes/helpers.rs: 10 public helpers\n- crates/qipu-core/src/error.rs: 8+ error variants\n- crates/qipu-core/src/compaction/suggestion.rs: CompactionCandidate struct\n- src/commands/compact/show.rs: 2 functions with 8 args\n- 4 public modules without module docs\n\nHow to change:\n- Add /// doc comments for all pub functions\n- Add //! module-level docs for pub mod declarations\n- Document error variants with examples\n- Document complex types and parameters\n- Follow Rust doc conventions\n\nWhy it matters:\n- Public API should be documented\n- Helps users and contributors understand code\n- Enables cargo doc to generate useful docs\n- Missing docs indicate incomplete design\n\nVerification:\n- Run: cargo doc --no-deps\n- Verify no warnings about missing docs\n- Check generated documentation looks good\n- Ensure all pub items have descriptions\n\nContext:\n- Priority P3 (low impact but good practice)\n- No dependencies\n- Can be done incrementally\n- Focus on most-used APIs first\n","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:39.459366368-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:29:29.984165858-05:00","closed_at":"2026-01-30T00:29:29.984165858-05:00","close_reason":"Closed"}
{"id":"qipu-kvr4","title":"Split tests/pack/features.rs: split by feature area","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:48.142011412-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:06:01.374117162-05:00","closed_at":"2026-01-29T00:06:01.374117162-05:00","close_reason":"Closed"}
{"id":"qipu-kz1j","title":"Add ontology checks to qipu doctor","description":"Add checks: validate note/link types against ontology, warn on missing usage guidance, warn on deprecated [graph.types.*]. Add --check ontology filter. File: src/commands/doctor/ontology.rs (new)","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:40.494142284-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T10:52:46.12134435-05:00","closed_at":"2026-01-28T10:52:46.12134435-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-kz1j","depends_on_id":"qipu-2wrt","type":"blocks","created_at":"2026-01-25T20:52:40.49576547-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-kz1j","depends_on_id":"qipu-63hk","type":"blocks","created_at":"2026-01-25T20:52:40.497530782-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-l2gb","title":"Refactor db/notes/read.rs:get_note (105 lines)","description":"## Problem\n`get_note` in `crates/qipu-core/src/db/notes/read.rs` is 105 lines.\n\n## Analysis\nSame pattern as `list_notes_full` - row field extraction and Note construction. Should share extraction logic.\n\n## Refactoring Plan\n1. Depends on qipu-6lue (list_notes_full refactor)\n2. Use the same `parse_note_row` and `build_note_from_row_data` helpers\n3. The main difference is single-row vs multi-row iteration\n\n## Verification\n- Run `cargo test -p qipu-core`\n- Run `cargo test --test cli_tests show`\n\n## Cleanup\nRemove `lib/db/notes/read.rs:get_note` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:55.450953716-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:26:09.977145989-05:00","closed_at":"2026-01-29T14:26:09.977145989-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-l2gb","depends_on_id":"qipu-6lue","type":"blocks","created_at":"2026-01-29T07:32:55.460284309-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-l6m","title":"Design: traversal hop limit semantics (max-hops int vs cost budget)","description":"Spec suggests integer hop limit; impl uses cost budget. Decide semantics.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.559360851-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.133136061-05:00","labels":["design","graph-traversal"]}
{"id":"qipu-l72","title":"Refactor: shrink src/commands/show.rs into module","description":"Convert to module dir; move tests out; reduce file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.916761581-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.991610034-05:00","closed_at":"2026-01-25T14:19:24.991610034-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-lc2n","title":"Split tests/cli/compact/commands.rs: move report tests to report.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:02.103137858-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:00:12.681159202-05:00","closed_at":"2026-01-28T21:00:12.681159202-05:00","close_reason":"Closed"}
{"id":"qipu-lf2f","title":"test_list_filter_by_since fails - --since filter shows both old and recent notes instead of only recent notes. Expected to filter out 'Old Note' but it appears in output.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T16:44:30.857725121-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:59:18.390866782-05:00","closed_at":"2026-01-28T16:59:18.390866782-05:00","close_reason":"Closed"}
{"id":"qipu-ll6g","title":"Split tests/cli/link/expand_compaction.rs (470 lines)","description":"Split tests/cli/link/expand_compaction.rs (470 lines) by scenario. Create expand_compaction/mod.rs, extract basic/resolution tests. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:18.648068364-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:18.648068364-05:00","dependencies":[{"issue_id":"qipu-ll6g","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.778763639-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-lmpy","title":"Progressive index flag mismatch","notes":"Spec: progressive-indexing.md line 398\n\nSpec requires: qipu index --force\nCode has: --rebuild flag at src/cli/commands.rs:134\n\nImpact: Users following spec docs will get unknown flag error\n\nEither change CLI flag to --force OR update spec to --rebuild","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.608970771-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:30:47.373160076-05:00","closed_at":"2026-01-25T21:30:47.373160076-05:00","close_reason":"Closed","labels":["bug","progressive-indexing"]}
{"id":"qipu-lnc8","title":"Reduce clones in compaction/validation.rs","description":"Reduce clone() usage in compaction/validation.rs:\n\nWhat to change:\n- crates/qipu-core/src/compaction/validation.rs line 14\n\nHow to change:\n- Change: notes.iter().map(|n| n.frontmatter.id.clone())\n- To: notes.iter().map(|n| \u0026n.frontmatter.id).collect::\u003cHashSet\u003c_\u003e\u003e()\n- Update downstream code to use \u0026str references instead of owned Strings\n- Evaluate other clone() calls in the same file\n\nWhy it matters:\n- Unnecessary cloning of note IDs for validation\n- HashSet of references is more efficient than HashSet of owned Strings\n- Reduces memory allocation during compaction validation\n- Improves performance for large note sets\n\nVerification:\n- Ensure all tests pass: cargo test compaction\n- Verify no behavioral changes\n- Confirm performance improvement (optional: benchmark)\n- Run cargo clippy to verify no warnings\n\nContext:\n- Related to clone reduction in qipu-core (bd task qipu-0vlq)\n- Small targeted optimization\n- Safe change with reference-based HashSet","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:32.406977119-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:32.406977119-05:00"}
{"id":"qipu-loou","title":"Test failures: test_version_consistency and test_list_filter_by_since","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T00:23:49.031360664-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T00:41:57.763056978-05:00","closed_at":"2026-01-29T00:41:57.763056978-05:00","close_reason":"Closed"}
{"id":"qipu-lups","title":"Fix via annotations for link path","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T14:24:13.306282125-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T14:24:37.514428287-05:00","closed_at":"2026-01-27T14:24:37.514428287-05:00","close_reason":"Closed","comments":[{"id":3,"issue_id":"qipu-lups","author":"Micah J Waldstein","text":"Implementing via annotations for link path is complex. The via should point from digest to compacted note ID. Current reconstruction logic in src/lib/graph/bfs.rs:348-362 sets via based on predecessor.original_id, but this gets shifted. Need to ensure via is set on digest node pointing to middle note ID. This requires careful tracking of node relationships during BFS search and path reconstruction. Both link list and path commands need via in JSON output.","created_at":"2026-01-27T19:24:30Z"}]}
{"id":"qipu-lvj6","title":"Split tests/cli/context/formats.rs: move ontology tests to ontology.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.020187667-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:08:32.026549207-05:00","closed_at":"2026-01-28T22:08:32.026549207-05:00","close_reason":"Closed"}
{"id":"qipu-lyty","title":"Split llm-tool-test/src/scenario.rs (599 lines)","description":"Break scenario.rs (599 lines) into modules:\n\nWhat to change:\n- crates/llm-tool-test/src/scenario.rs (599 lines, +99 over limit)\n\nHow to change:\n- Create crates/llm-tool-test/src/scenario/mod.rs as entry point\n- Extract Scenario struct and loading to scenario/definition.rs\n- Extract Setup/ToolConfig to scenario/config.rs\n- Extract Task definition to scenario/task.rs\n- Extract Evaluation/JudgeConfig to scenario/evaluation.rs\n- Add doc comments to all public items (currently 0 docs for 9 pub items)\n\nWhy it matters:\n- Violates CI 500-line file limit\n- 599 lines with no documentation is unmaintainable\n\nVerification:\n- Ensure all tests pass: cargo test -p llm-tool-test\n- Verify each new file is \u003c500 lines\n- Confirm scenario loading still works\n\nContext:\n- Depends on dead code removal first\n- Add documentation as part of split","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:59:54.763409592-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:41:05.714089233-05:00","closed_at":"2026-01-29T23:41:05.714089233-05:00","close_reason":"Closed"}
{"id":"qipu-m12y","title":"Add S prefix tests for records output","description":"All commands generate S (summary) lines in records format but no tests verify this output. Need assertions for S prefix in tests for: qipu prime, qipu context, qipu link list/tree/path, qipu list, qipu search.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.965146227-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:10:39.739838968-05:00","closed_at":"2026-01-27T15:10:39.739838968-05:00","close_reason":"Closed","labels":["records-output"]}
{"id":"qipu-m17j","title":"Add provenance modification flags to qipu update command","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:52:51.297394513-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T02:14:42.370172414-05:00","closed_at":"2026-01-28T02:14:42.370172414-05:00","close_reason":"Closed"}
{"id":"qipu-m3o","title":"Design: llm-tool-test results.db SQLite (optional)","description":"Spec mentions optional SQLite results.db for queries; needs design.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.76750318-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.120467467-05:00","labels":["design","llm-tool-test"]}
{"id":"qipu-m5j4","title":"Remove duplicate status.rs header tests - covered by integration tests","description":"Remove 2 tests from src/commands/format/status.rs (test_print_records_header_basic, test_print_records_header_with_fields). These tests duplicate coverage in 15+ integration tests that verify Records header format. KEEP: test_print_json_status_basic, test_print_json_status_with_fields, test_wrap_records_body - these have NO integration test coverage.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:12:50.722174392-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:42:20.437856457-05:00","closed_at":"2026-01-29T02:42:20.437856457-05:00","close_reason":"Closed"}
{"id":"qipu-m9ut","title":"Refactor compact/status.rs:execute (112 lines)","description":"## Problem\n`execute` in `src/commands/compact/status.rs` is 112 lines.\n\n## Analysis\nSame pattern as other compact commands - setup, get status, output in 3 formats. Output formatting is the bulk.\n\n## Refactoring Plan\n1. Extract output formatters:\n   - `output_status_human(store, note_id, canonical, compactor, compacted_notes) -\u003e Result\u003c()\u003e`\n   - `output_status_json(...) -\u003e Result\u003c()\u003e`\n   - `output_status_records(...)`\n2. Main function: setup → get status → format\n\nThis is marginally over 100 lines. Consider whether refactor is worthwhile.\n\n## Verification\n- Run `cargo test --test cli_tests compact`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/compact/status.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:41.55493127-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:55:54.830350127-05:00","closed_at":"2026-01-29T14:55:54.830350127-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-m9ut","depends_on_id":"qipu-6fgp","type":"blocks","created_at":"2026-01-29T07:33:47.139996087-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-mbl","title":"Refactor: remove unjustified #[allow(dead_code)] in src/","description":"Audit dead/unused code; remove unjustified allows and delete truly dead items.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.216760419-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.293576637-05:00","closed_at":"2026-01-25T14:19:25.293576637-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-mcq","title":"DB open: detect corruption and auto-rebuild","description":"Detect corruption errors, delete db+wal+shm, rebuild automatically.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.037327102-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.103538171-05:00","closed_at":"2026-01-25T14:19:22.103538171-05:00","close_reason":"Closed","labels":["db","history"]}
{"id":"qipu-mdgw","title":"Update imports in src/cli/ to use qipu_core","description":"Update all import statements in src/cli/ to reference qipu_core instead of crate::lib.\n\n## Scope\nAll files in src/cli/ that import from crate::lib::*\n\n## Known Import Locations (from analysis)\n- src/cli/parse.rs: use crate::lib::note::{LinkType, NoteType};\n- src/cli/link.rs: use crate::lib::note::LinkType;\n- src/cli/commands/core.rs: use crate::lib::note::NoteType;\n- src/cli/args.rs: use crate::lib::note::NoteType;\n- src/cli/output.rs: pub use crate::lib::format::OutputFormat;\n- src/cli/mod.rs: use crate::lib::note::NoteType;\n\n## Import Pattern Changes\nReplace:\n  use crate::lib::note::{LinkType, NoteType};\n  pub use crate::lib::format::OutputFormat;\n\nWith:\n  use qipu_core::note::{LinkType, NoteType};\n  pub use qipu_core::format::OutputFormat;\n\n## Tasks\n1. Update all 6 identified import locations\n2. Verify no remaining references to crate::lib in cli/\n\n## Acceptance Criteria\n- No 'crate::lib' references remain in src/cli/\n- cargo check succeeds","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.239252533-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:49:05.833684303-05:00","closed_at":"2026-01-29T01:49:05.833684303-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-mdgw","depends_on_id":"qipu-vov7","type":"blocks","created_at":"2026-01-28T21:13:53.332112632-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-mem5","title":"Add performance benchmarks to CI pipeline","description":"Revert decision: keep benchmarks local-only. This bead tracks the decision NOT to enforce benchmarks in CI.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:52:56.839656182-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T18:53:08.773434929-05:00","closed_at":"2026-01-25T18:53:08.773434929-05:00","close_reason":"Decision: keep benchmarks local-only, not enforced in CI. Users run manually before release."}
{"id":"qipu-mfcr","title":"Run function complexity checker and create refactoring plan","description":"Run scripts/check_function_complexity.py to identify functions exceeding 100 lines. Document findings and create refactoring tasks to break down complex functions into smaller, focused units without changing behavior.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:42.462567963-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:09:04.686930827-05:00","closed_at":"2026-01-28T17:09:04.686930827-05:00","close_reason":"Closed"}
{"id":"qipu-mfw","title":"Fix store discovery to stop at project root","description":"Discovery stops at .git/Cargo.toml or fs root per spec.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:20.689794457-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:20.765497446-05:00","closed_at":"2026-01-25T14:19:20.765497446-05:00","close_reason":"Closed","labels":["history","store"]}
{"id":"qipu-mh0o","title":"Extract error message helper to reduce duplication (178 occurrences)","description":"Extract error message helper to reduce duplication (178 occurrences).\n\nWhat to change:\n- crates/qipu-core/src/db/notes/read.rs:36-81\n- Pattern repeated 178 times: .map_err(|e| QipuError::Other(format!(\"failed to get {field}: {}\", e)))?\n\nHow to change:\n- Create helper macro: extract!(row, index, field_name)\n- Macro generates error with context automatically\n- Replace all 178 occurrences with macro call\n- Add similar helpers for other common patterns\n\nWhy it matters:\n- 178 identical error patterns across codebase\n- Error messages can diverge accidentally\n- Reduces code by ~500 lines\n- Makes adding context to errors trivial\n\nVerification:\n- Run: cargo test\n- Verify error messages identical\n- Check no compilation errors after macro usage\n- Ensure error context preserved\n\nContext:\n- Priority P1 (quick win, high impact)\n- No dependencies\n- Can be done incrementally file-by-file\n","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:16.506437644-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T20:21:20.52164705-05:00","closed_at":"2026-01-29T20:21:20.52164705-05:00","close_reason":"Closed"}
{"id":"qipu-mhxh","title":"Dump command ignores global --no-semantic-inversion flag","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:05.733032202-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T22:56:57.925027748-05:00","closed_at":"2026-01-25T22:56:57.925027748-05:00","close_reason":"Closed","labels":["bug","semantic-graph"]}
{"id":"qipu-mik","title":"Telemetry (DRAFT): anonymous metrics design (do not implement)","description":"Spec telemetry.md marked DRAFT/DO NOT IMPLEMENT; await finalization.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.403374009-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.145805419-05:00","labels":["draft","telemetry"]}
{"id":"qipu-mnky","title":"Remove list/format/json.rs tests - no output verification","description":"Remove 2 tests from src/commands/list/format/json.rs (test_output_json_empty, test_output_json_single_note). These tests only check that functions return Ok(), without verifying the actual JSON structure/content. Justification: Tests must verify output format matches specification, not just that code doesn't crash.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:12:54.753448879-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:45:26.152622615-05:00","closed_at":"2026-01-29T02:45:26.152622615-05:00","close_reason":"Closed"}
{"id":"qipu-mp1n","title":"Refactor 74 test functions exceeding 100-line limit","description":"74 test functions exceed 100-line complexity limit (not covered by existing qipu-9pgu which only handled 6).\n\nWhat to change:\n- 74 test functions across test files that exceed 100 lines\n\nHow to change:\n- For each test function \u003e100 lines:\n  * Identify logical test phases/scenarios within the function\n  * Split into multiple focused test functions (each \u003c100 lines)\n  * Extract common setup code to test helpers\n  * Preserve test coverage and semantics exactly\n- Examples of large test functions:\n  * test_workspace_from_note_performs_graph_slice: 148 lines\n  * test_pack_attachments_roundtrip: 150 lines\n  * test_typed_links_preserved_through_dump_load_roundtrip: 212 lines\n  * test_compaction_annotations: 482 lines (largest)\n\nWhy it matters:\n- Test functions are NOT exempt from 100-line limit\n- check_function_complexity.py will catch these once CI is fixed\n- Large tests are hard to understand and debug when they fail\n- Splitting enables parallel test execution and focused failure reporting\n\nVerification:\n- Run: scripts/check_function_complexity.py (should pass for all test functions)\n- Run: cargo test (all tests must pass, coverage unchanged)\n- Verify: each new test function has clear, focused purpose\n- Check: no test logic lost during splitting\n\nContext:\n- Depends on: CI file size check fix qipu-avg3\n- Split strategy: by test scenario/phase\n- Coordinate with qipu-dnyj for dead code removal first","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:57:20.108504233-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:57:20.108504233-05:00","dependencies":[{"issue_id":"qipu-mp1n","depends_on_id":"qipu-avg3","type":"blocks","created_at":"2026-01-30T07:57:29.882727199-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-mp1n","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:57:30.256983705-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-mwc","title":"Clarify: attachment content search (PDF etc)","description":"Spec open question: include attachment content (PDF, etc) in search.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.009246557-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.049777918-05:00","labels":["clarify","indexing-search"]}
{"id":"qipu-my8q","title":"Split commands/link/tree.rs: extract output formatters","description":"commands/link/tree.rs (676 lines): Extract 3 output format functions into separate modules: json.rs (~105 lines for JSON output), human.rs (~200 lines for human tree formatting), records.rs (~220 lines for records format). Keep execute() and traversal setup in mod.rs (~150 lines).","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.391677613-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T17:23:51.08732487-05:00","closed_at":"2026-01-28T17:23:51.08732487-05:00","close_reason":"Closed"}
{"id":"qipu-n06","title":"Progressive indexing: Phase 5 performance benchmarks (ignored)","description":"Bench tests for indexing scenarios (ignored by default; run --release -- --ignored).","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.404169779-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.494196666-05:00","closed_at":"2026-01-25T14:19:23.494196666-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-n1zj","title":"Split store/mod.rs (506 lines) into submodules","description":"store/mod.rs exceeds 500-line CI limit by 6 lines (506 total, 209 are tests).\n\nWhat to change:\n- crates/qipu-core/src/store/mod.rs (currently 506 lines)\n\nHow to change:\n- Create crates/qipu-core/src/store/operations.rs for core store operations\n- Create crates/qipu-core/src/store/tests.rs for test module (209 lines)\n- Keep mod.rs as entry point with re-exports (~250 lines)\n- Move Store impl blocks and public methods to operations.rs\n- Move #[cfg(test)] module to tests.rs\n\nWhy it matters:\n- Violates CI 500-line file limit (absolute rule)\n- Separates tests from implementation (better organization)\n- Enables parallel editing of store components\n\nVerification:\n- Run: wc -l crates/qipu-core/src/store/*.rs (all should be \u003c500)\n- Run: cargo test for qipu-core (verify all tests pass)\n- Run: cargo build for qipu-core (verify compiles)\n- Check: public API unchanged (no breaking changes)\n\nContext:\n- Depends on: CI file size check fix (to catch violations)\n- Split by responsibility: operations vs tests\n- qipu-core crate must remain stable","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:56:58.623278411-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:57:56.109957453-05:00","closed_at":"2026-01-30T07:57:56.109957453-05:00","close_reason":"Duplicate of qipu-andu - use existing task instead","dependencies":[{"issue_id":"qipu-n1zj","depends_on_id":"qipu-avg3","type":"blocks","created_at":"2026-01-30T07:57:28.350486239-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-n42c","title":"Reduce clone() usage in llm-tool-test crate","description":"Replace unnecessary clones in llm-tool-test crate (~41 total clones): run.rs has 21 clones (struct initialization lines 159-177, 257-282, 364-368), commands.rs has 4 clones, main.rs has 4 clones, store_analysis.rs has 3 clones. Use \u0026str borrowing instead of String clones, Arc\u003cstr\u003e for scenario IDs, Copy trait for TokenUsage struct. Target 30-40% reduction. Verification: cargo test -p llm-tool-test passes, clone count reduced.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:12.255747397-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:12.255747397-05:00","dependencies":[{"issue_id":"qipu-n42c","depends_on_id":"qipu-8jvu","type":"blocks","created_at":"2026-01-30T08:06:18.614771534-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-n42c","depends_on_id":"qipu-bn47","type":"blocks","created_at":"2026-01-30T08:06:27.646131313-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-n6ej","title":"Split src/commands/search/mod.rs (486 lines)","description":"Break src/commands/search/mod.rs (currently 486 lines, near CI limit) into modules:\n\nWhat to change:\n- src/commands/search/mod.rs (currently 486 lines, 14 lines from limit)\n\nHow to change:\n- Create src/commands/search/execute.rs for main search execution logic\n- Create src/commands/search/output.rs for human/records output formatting  \n- Keep src/commands/search/mod.rs as thin module coordinator\n- Extract shared search utilities to src/commands/search/util.rs\n- Preserve all existing imports and module structure\n\nWhy it matters:\n- File is 14 lines from CI 500-line limit\n- High risk of future CI failures\n- Large file mixes execution logic with output formatting\n- Hard to navigate and maintain\n\nVerification:\n- Ensure all tests pass: cargo test search\n- Verify each new file is \u003c400 lines\n- Confirm no functional changes (only reorganization)\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- No functional changes, only code reorganization\n- Must preserve existing behavior exactly","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:03.697244905-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:03.697244905-05:00"}
{"id":"qipu-n94s","title":"Verbose progress test fails: stderr missing 'Indexed' string","description":"test_index_with_verbose_progress expects 'Indexed' in stderr but only appears in stdout","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-26T00:24:43.335928157-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T03:55:44.272582195-05:00","closed_at":"2026-01-26T03:55:44.272582195-05:00","close_reason":"Closed"}
{"id":"qipu-nc8o","title":"Split tests/golden_tests.rs: split by feature area","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:40.248626256-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:25:47.660887405-05:00","closed_at":"2026-01-28T23:25:47.660887405-05:00","close_reason":"Closed"}
{"id":"qipu-nj7h","title":"Consolidate format handling pattern in src/commands","description":"Extract duplicate format match pattern to shared module:\n\nWhat to change:\n- 29+ files in src/commands/ with identical format match blocks\n- Each has: match format { OutputFormat::Json =\u003e ..., OutputFormat::Human =\u003e ..., OutputFormat::Records =\u003e ... }\n\nHow to change:\n- Create src/commands/format/dispatch.rs with:\n  - dispatch_by_format\u003cT\u003e(format: OutputFormat, json_fn: Fn, human_fn: Fn, records_fn: Fn) -\u003e T\n  - Or use trait-based approach: Outputter trait with implementations\n  - Or use macro: output_by_format!(format, json_expr, human_expr, records_expr)\n- Replace all 29 occurrences with call to shared implementation\n- Target files: search/mod.rs, custom.rs, export/mod.rs, ontology.rs, etc.\n\nWhy it matters:\n- 223 occurrences of format match arms across codebase\n- Every command repeats the same pattern\n- Changes to format handling require 29 edits\n- Reduces code by ~200-300 lines\n\nVerification:\n- Run cargo test to verify all commands still work\n- Check that all 3 format outputs work correctly\n- Ensure no functional changes\n\nContext:\n- P2 priority: reduces duplication significantly\n- Related to error message helper consolidation","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:12.283307152-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:04:20.102305128-05:00","closed_at":"2026-01-30T00:04:20.102305128-05:00","close_reason":"Closed"}
{"id":"qipu-nmnx","title":"Run full test suite baseline to verify all 1024 tests pass","description":"Run cargo test --all to establish baseline that all 1024 tests pass. Document any failing tests. This baseline will be used to verify that cleanup work doesn't break functionality.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T15:41:55.574108966-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T16:23:34.032463979-05:00","closed_at":"2026-01-28T16:23:34.032463979-05:00","close_reason":"Closed"}
{"id":"qipu-nsv4","title":"Refactor command dispatch to use command objects","description":"Replace 20+ command arms in src/commands/dispatch/mod.rs with command objects having execute(\u0026self) method. Reduce 10+ parameter passing via context objects. Simplify command handling flow.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.130314768-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T12:49:34.880097122-05:00","closed_at":"2026-01-29T12:49:34.880097122-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-nsv4","depends_on_id":"qipu-oges","type":"blocks","created_at":"2026-01-29T07:13:39.522463322-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-ntb5","title":"Refactor unnecessary_unwrap in db/notes/read.rs","description":"Refactor unnecessary_unwrap in db/notes/read.rs:\n\nWhat to change:\n- crates/qipu-core/src/db/notes/read.rs lines 110-175 function list_notes()\n- Remove #[allow(clippy::unnecessary_unwrap)] at line 110\n\nHow to change:\n- Current pattern: if x.is_some() { x.unwrap() ... }\n- Refactor to: if let Some(val) = x { val ... }\n- Or use match statement for clearer flow\n- Remove the clippy allow annotation after fix\n- Verify no behavioral changes\n\nWhy it matters:\n- is_some() followed by unwrap() is an anti-pattern\n- if let is more idiomatic and safer\n- Removes clippy suppression\n- Makes code more maintainable\n\nVerification:\n- Ensure all tests pass: cargo test db::notes\n- Verify no clippy warnings: cargo clippy -- -D warnings\n- Confirm no behavioral changes\n- Test edge cases (None values)\n\nContext:\n- Related to unused assignment cleanup (bd task qipu-dtuq for line 149)\n- This is for the unnecessary_unwrap at line 110\n- Both cleanups can be done together or separately","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:48.492902859-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:48.492902859-05:00"}
{"id":"qipu-nwg4","title":"Load config.toml from pack","description":"Update qipu load to extract embedded config. Add --apply-config flag. Files: src/commands/load/mod.rs, src/commands/load/deserialize.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:56.179119614-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T11:57:05.792119117-05:00","closed_at":"2026-01-28T11:57:05.792119117-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-nwg4","depends_on_id":"qipu-yqke","type":"blocks","created_at":"2026-01-25T20:52:56.180467341-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-o2sb","title":"Unit tests for ontology resolution","description":"Test default ontology, extension mode, replacement mode, partial customization, invalid extend values. File: src/lib/ontology.rs tests","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:59.270288496-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:05:39.74912428-05:00","closed_at":"2026-01-28T12:05:39.74912428-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-o2sb","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:52:59.271629631-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-o2sw","title":"Clean up unused underscore-prefixed variables","description":"Remove or use 15 unused underscore-prefixed variables. In src/: commands/link/add.rs:28 (_to_note), doctor/fix.rs:70 (_index), export/emit/bibliography.rs:48 (_temp_start). In tests/: workspace/merge/delete_source.rs:173 (_ws_id), pack/security.rs:185-186 (_dir2, _store2_path). In qipu-core: store/typed_paths.rs:277 (_pb), store/mod.rs:322 (_store), db/tests/repair.rs:28 (_before_sync), db/tests/benchmarks.rs:288,320,352,384,416 (_results). In llm-tool-test: main.rs:148 (_s). Remove dead assignments or use the variables. Verification: Run cargo check and cargo test.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:01:40.069954737-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:01:40.069954737-05:00"}
{"id":"qipu-o8x","title":"Tests: discovery stops at project boundary (parent store)","description":"Security test: project markers stop store discovery even if parent has store.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.509213879-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.578099434-05:00","closed_at":"2026-01-25T14:19:25.578099434-05:00","close_reason":"Closed","labels":["history","security","tests"]}
{"id":"qipu-oc0","title":"Context: remove --max-tokens flag and token counting","description":"Standardize on character-based budgets; remove tiktoken + flag.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.485541583-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:22.555438012-05:00","closed_at":"2026-01-25T14:19:22.555438012-05:00","close_reason":"Closed","labels":["history","llm-context"]}
{"id":"qipu-of0u","title":"Update integration tests to use qipu_core","description":"Update any integration tests that reference the lib module to use qipu_core.\n\n## Scope\nCheck tests/ directory for any direct imports from the lib module.\n\n## Tasks\n1. Search tests/ for any 'use qipu::lib::' or similar patterns\n2. Update to 'use qipu_core::' if needed\n3. Verify test helpers in tests/cli/support.rs don't need updates\n\n## Note\nMost integration tests use the CLI binary via assert_cmd and don't directly import library code. This task may require minimal or no changes.\n\n## Acceptance Criteria\n- cargo test succeeds (all 812 tests pass)\n- No references to old lib module path in tests/","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.537534078-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:53:35.137883206-05:00","closed_at":"2026-01-29T01:53:35.137883206-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-of0u","depends_on_id":"qipu-3u2r","type":"blocks","created_at":"2026-01-28T21:13:59.918155619-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-of0u","depends_on_id":"qipu-mdgw","type":"blocks","created_at":"2026-01-28T21:14:00.046099655-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-of0u","depends_on_id":"qipu-2pig","type":"blocks","created_at":"2026-01-28T21:14:00.163353256-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-oges","title":"Consolidate OutputFormat handling into shared module","description":"Extract duplicate format handling (48 occurrences of match cli.format) into src/commands/format.rs. Create trait-based formatters or strategy pattern for output rendering. Replace all match blocks with shared functions.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.459110252-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:18:56.336543124-05:00","closed_at":"2026-01-29T10:18:56.336543124-05:00","close_reason":"Closed"}
{"id":"qipu-omp","title":"Not planned: ripgrep-based search","description":"Out of scope: replaced by SQLite FTS5.","status":"deferred","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:29.653357184-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:22:33.790074469-05:00","labels":["not-planned"],"comments":[{"id":2,"issue_id":"qipu-omp","author":"Micah J Waldstein","text":"Keep as deferred future option","created_at":"2026-01-25T19:22:33Z"}]}
{"id":"qipu-opty","title":"Split tests/cli/doctor.rs: move ontology validation tests to ontology_validation.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.035803035-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:49:39.245834857-05:00","closed_at":"2026-01-28T22:49:39.245834857-05:00","close_reason":"Closed"}
{"id":"qipu-ot6p","title":"Split tests/cli/link/list.rs: move via traversal tests to via_traversal.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:40.251693123-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:33:12.94886178-05:00","closed_at":"2026-01-28T23:33:12.94886178-05:00","close_reason":"Closed"}
{"id":"qipu-p4h","title":"Progressive indexing: Phase 2 incremental indexing (mtime-based)","description":"Skip unchanged notes using per-note mtime comparisons.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:22.930925844-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.011346451-05:00","closed_at":"2026-01-25T14:19:23.011346451-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-p6c0","title":"Split tests/cli/context/formats.rs: move metadata tests to metadata.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.026381341-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:38:33.754858343-05:00","closed_at":"2026-01-28T22:38:33.754858343-05:00","close_reason":"Closed"}
{"id":"qipu-p73h","title":"Split tests/cli/records_edge_cases.rs (612 lines)","description":"Split tests/cli/records_edge_cases.rs (612 lines) - exceeds CI 500-line limit.\n\nWhat to change:\n- tests/cli/records_edge_cases.rs (currently 612 lines, +112 over limit)\n\nHow to change:\n- Create tests/cli/records/mod.rs as entry point\n- Extract edge cases by category:\n  - Special characters: tests/cli/records/special_chars.rs\n  - Large content: tests/cli/records/large_content.rs\n  - Format edge cases: tests/cli/records/format_edge_cases.rs\n  - Encoding issues: tests/cli/records/encoding.rs\n- Extract common test setup to tests/cli/records/support.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Categorizing edge cases improves clarity\n- Easier to add new edge case categories\n\nVerification:\n- Run: cargo test --test cli_tests records\n- Verify all records tests still pass\n- Check each new file is \u003c500 lines\n\nContext:\n- No dependencies\n- Group tests by edge case category\n- No functional changes\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:57.380102991-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:20:06.673848055-05:00","closed_at":"2026-01-29T22:20:06.673848055-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-p73h","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:57.283827223-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-p73h","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:57.368071813-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pba0","title":"Progressive index missing user feedback","notes":"Spec: progressive-indexing.md lines 124-130\n\nSpec requires: Warning message when full-text deferred on large repos, e.g. 'Basic index only: search limited to metadata. Full-text indexing deferred to improve startup performance.'\n\nCurrent: adaptive_index() in src/lib/db/indexing.rs:376-449 doesn't print user-facing warnings\n\nImpact: Users don't know search is limited to metadata on large repos\n\nFix: Add eprintln!() messages when strategy chooses quick index","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.609339411-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T21:48:44.023326627-05:00","closed_at":"2026-01-25T21:48:44.023326627-05:00","close_reason":"Closed","labels":["bug","progressive-indexing"]}
{"id":"qipu-pcd","title":"Clarify: records output S prefix semantic overlap","description":"In pack format S=Sources; elsewhere S=Summary. Decide stable semantics.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.081532552-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.045273039-05:00","labels":["clarify","records-output"]}
{"id":"qipu-pg3r","title":"Extract load_note_by_id_or_path helper","description":"Extract duplicated note loading pattern into a shared helper function.\n\nWhat to change:\n- Create new helper function in qipu-core Store or src/commands/ module\n- 10 occurrences across 6 files of this identical pattern:\n\nCurrent duplicated code pattern:\n```rust\nlet note = if Path::new(id_or_path).exists() {\n    let content = fs::read_to_string(id_or_path)?;\n    parse_note(\u0026content)?\n} else {\n    store.get_note(id_or_path)?\n};\n```\n\nFiles with duplication:\n- src/commands/show/mod.rs:31\n- src/commands/edit.rs:58  \n- src/commands/update.rs:37\n- src/commands/verify.rs:15\n- src/commands/custom.rs:37, 106, 159, 244 (4x in this file!)\n- src/commands/dispatch/handlers.rs:82, 116\n\nHow to change:\n1. Add to qipu-core Store: fn load_note_by_id_or_path(\u0026self, id_or_path: \u0026str) -\u003e Result\u003cNote\u003e\n2. Or add to src/commands/util.rs as standalone helper\n3. Replace all 10 occurrences with single helper call\n\nWhy it matters:\n- Eliminates 10x code duplication (~60 lines reduced)\n- Centralizes path vs ID resolution logic\n- Makes future changes easier (one place to modify)\n\nVerification:\n- cargo test must pass all tests\n- All 10 call sites must use new helper\n- No behavioral changes\n\nContext:\n- This pattern appears in almost every note-related command\n- Existing resolve_root_path() shows similar consolidation success\n","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:52:41.023417664-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:52:41.023417664-05:00"}
{"id":"qipu-pk43","title":"Validate --type in capture/create commands","description":"Validate --type flag against active ontology before creating note. Show helpful error with valid types. Files: src/commands/capture.rs, src/commands/create.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:43.724640463-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T11:01:24.260969611-05:00","closed_at":"2026-01-28T11:01:24.260969611-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-pk43","depends_on_id":"qipu-2wrt","type":"blocks","created_at":"2026-01-25T20:52:43.726569683-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-pk43","depends_on_id":"qipu-yexo","type":"blocks","created_at":"2026-01-25T20:52:43.729384342-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-plqy","title":"Fix method signature mismatches - incremental_repair and rebuild need 3 arguments","description":"Compilation errors in qipu-core:\n- crates/qipu-core/src/db/mod.rs:121 - incremental_repair called with 2 args, expects 3\n- crates/qipu-core/src/store/mod.rs:72 - rebuild called with 2 args, expects 3  \n- crates/qipu-core/src/store/mod.rs:110 - rebuild called with 2 args, expects 3\nAll calls missing Optional\u003c\u0026Arc\u003cAtomicBool\u003e\u003e interrupted parameter.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T01:24:02.942581131-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:32:27.400110993-05:00","closed_at":"2026-01-29T01:32:27.400110993-05:00","close_reason":"Closed"}
{"id":"qipu-pu56","title":"Create tracing helper macro for command timing","description":"Consolidate","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:52:07.803422678-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:52:07.803422678-05:00"}
{"id":"qipu-pvyd","title":"llm-tool-test: align to llm-user-validation","description":"Implement llm-user-validation.md: scenarios+templates separation; manual qual eval w/ opencode judge; results in llm-tool-test-results/; remove budget+trend+DB.","acceptance_criteria":"Scenarios run from fixtures/*.yaml using templates; artifacts+evaluation.md written to llm-tool-test-results/; judge default on via opencode; no budget limits; no results DB/trend compare.","status":"closed","priority":2,"issue_type":"epic","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.17097761-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:25:57.449226562-05:00","closed_at":"2026-01-28T13:25:57.449226562-05:00","close_reason":"Closed"}
{"id":"qipu-pvyd.1","title":"llm-tool-test: scenario schema v2","description":"Update scenario YAML schema: replace fixture-\u003etemplate_folder; add setup.commands (pre-run qipu commands); drop docs/cost/budget fields; update loader+validation+CLI docs accordingly.","acceptance_criteria":"Scenario::deserialize supports template_folder+setup.commands; old fields rejected or ignored w/ clear error; existing scenarios migrated.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.253733357-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T03:13:20.78165452-05:00","closed_at":"2026-01-28T03:13:20.78165452-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.1","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.256012632-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.2","title":"llm-tool-test: fixtures/templates layout","description":"Restructure fixtures: move scenario YAMLs to crates/llm-tool-test/fixtures/*.yaml; create crates/llm-tool-test/fixtures/templates/\u003cname\u003e/ for AGENTS.md/README/.qipu; ensure scenarios not copied into runtime dir.","acceptance_criteria":"No scenario YAML exists under templates; TestEnv copies only templates; llm-tool-test scenarios command lists fixtures/*.yaml only.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.338694724-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T04:03:26.280921026-05:00","closed_at":"2026-01-28T04:03:26.280921026-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.2","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.340171319-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.3","title":"llm-tool-test: TestEnv setup + pre-run commands","description":"Implement template folder copy into run dir; execute scenario.setup.commands in order (cwd=run dir), record output/errors; keep run dir for judge/human review.","acceptance_criteria":"setup.commands executed before tool run; failures recorded in artifacts + report; template content available to LLM tool.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.414821632-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T04:31:19.575178098-05:00","closed_at":"2026-01-28T04:31:19.575178098-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.3","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.416151856-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.4","title":"llm-tool-test: results dir + artifact bundle","description":"Write artifacts to repo-root llm-tool-test-results/\u003cts\u003e-\u003ctool\u003e-\u003cmodel\u003e-\u003cscenario\u003e/; include transcript.raw.txt, run.json, fixture/ copy (post-run), store_dump.json/pack, metrics.json.","acceptance_criteria":"Artifacts persisted under llm-tool-test-results/; path logged; .gitignore updated; fixture copy includes .qipu.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.489946779-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T05:23:34.808499063-05:00","closed_at":"2026-01-28T05:23:34.808499063-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.4","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.491513457-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.5","title":"llm-tool-test: markdown evaluation report","description":"Generate evaluation.md per run: summary, judge score 1-5, metrics, judge feedback; include commented-out Human Score + Further Human Notes; link to transcript + fixture.","acceptance_criteria":"evaluation.md created for each run; human section commented; paths relative and clickable.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.572143662-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T05:50:07.807029782-05:00","closed_at":"2026-01-28T05:50:07.807029782-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.5","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.573695028-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.6","title":"llm-tool-test: opencode-only judge (default on)","description":"Implement judge stage using opencode CLI only; add --no-judge to disable; judge prompt uses @ mentions of transcript + scenario + store dump + metrics; parse judge output into evaluation.md.","acceptance_criteria":"Judge runs by default; --no-judge skips; prompt references files; judge score/feedback populated when enabled.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.656495832-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:04:01.164177324-05:00","closed_at":"2026-01-28T06:04:01.164177324-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.6","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.65792405-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.7","title":"llm-tool-test: remove budget+trend+results DB","description":"Remove budget flags/env vars, results DB/compare/report/baseline/review features; keep minimal commands: run, scenarios (list), help.","acceptance_criteria":"No budget options in CLI; no ResultsDB artifacts; commands removed compile clean; existing tests updated/removed.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.736692661-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:32:43.12979421-05:00","closed_at":"2026-01-28T06:32:43.12979421-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.7","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.738083089-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pvyd.8","title":"llm-tool-test: migrate existing scenarios/templates","description":"Update current fixtures/qipu/*.yaml to new schema + new locations; create templates/qipu from existing fixture contents; ensure scenarios still runnable via mock+opencode.","acceptance_criteria":"All existing scenarios run w/ mock adapter; opencode run produces artifacts in llm-tool-test-results/.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:08:21.82389526-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:23:12.465588822-05:00","closed_at":"2026-01-28T13:23:12.465588822-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-pvyd.8","depends_on_id":"qipu-pvyd","type":"parent-child","created_at":"2026-01-25T20:08:21.825045131-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-pyz","title":"Add test for outline mode with markdown links","description":"Missing test for outline mode with markdown links\n\nSpec: export.md\nIssue: Markdown link handling in outline not tested\nLocation: tests/cli/export.rs\nAction: Test outline export with markdown inline links","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:00.093961502-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T13:10:00.566859306-05:00","closed_at":"2026-01-27T13:10:00.566859306-05:00","close_reason":"Closed"}
{"id":"qipu-q05s","title":"Version mismatch: git tag v0.2.37 but Cargo.toml has 0.2.36","description":"Test cli::misc::test_version_consistency fails because git tag is v0.2.37 but Cargo.toml has version 0.2.36. This is a pre-existing issue not related to session protocol implementation. Action: Update Cargo.toml version to 0.2.37 to match the git tag.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T00:36:59.529508627-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:39:46.125195545-05:00","closed_at":"2026-01-28T00:39:46.125195545-05:00","close_reason":"Closed"}
{"id":"qipu-qbh1","title":"test_link_list_via_compacted is failing - via annotation not showing in link list output","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T14:40:35.27019893-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T14:47:56.063891419-05:00","closed_at":"2026-01-27T14:47:56.063891419-05:00","close_reason":"Closed"}
{"id":"qipu-qihg","title":"Split tests/cli/search.rs: move MoC exclusion tests to moc_exclusion.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.241163021-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:54:26.058815194-05:00","closed_at":"2026-01-28T21:54:26.058815194-05:00","close_reason":"Closed"}
{"id":"qipu-qlvq","title":"Split tests/cli/link/tree/truncation.rs (733 lines)","description":"Break into modular test files: max_nodes_truncation.rs, max_edges_truncation.rs, max_fanout_truncation.rs, max_chars_truncation.rs. Extract common truncation test helpers.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.453661517-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T09:56:18.42234906-05:00","closed_at":"2026-01-29T09:56:18.42234906-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-qlvq","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.494745959-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-qqc5","title":"Golden test test_golden_help_output failing - help output does not match expected","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T20:29:47.183422453-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:32:49.895776503-05:00","closed_at":"2026-01-28T20:32:49.895776503-05:00","close_reason":"Closed"}
{"id":"qipu-qsjx","title":"Split remaining test files over 500 lines","description":"Break remaining oversized test files:\n\nWhat to change:\n- tests/pack/selectors.rs (568 lines, +68 over limit)\n- tests/pack/strategy.rs (563 lines, +63 over limit)\n- tests/bench/indexing.rs (573 lines, +73 over limit)\n- tests/cli/link/add.rs (579 lines, +79 over limit)\n- tests/cli/value_sorting.rs (579 lines, +79 over limit)\n- tests/cli/show.rs (540 lines, +40 over limit)\n- tests/cli/export/pdf.rs (525 lines, +25 over limit)\n\nHow to change:\n- For each file, create mod.rs entry point\n- Split by feature/test category (not arbitrary chunks)\n- Extract reusable test helpers to tests/pack/support.rs or tests/bench/support.rs\n- Follow existing pattern: tests/cli/link/tree/ as reference\n\nWhy it matters:\n- 7 additional files exceed 500-line CI limit\n- Large test files are hard to navigate and maintain\n\nVerification:\n- Ensure all tests pass: cargo test pack, cargo test bench\n- Verify each new file is \u003c500 lines\n- Check test count remains the same\n\nContext:\n- Depends on test setup helper extraction (reduces file sizes)\n- No functional changes, only reorganization","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:01.782137592-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:55:11.017842904-05:00","closed_at":"2026-01-29T23:55:11.017842904-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-qsjx","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T20:00:16.164040187-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-qsyj","title":"Refactor compact/show.rs:execute (188 lines)","description":"## Problem\n`execute` in `src/commands/compact/show.rs` is 188 lines.\n\n## Analysis\nSimilar to report.rs - computes compaction data, builds a tree, then outputs in 3 formats. Helper functions `build_compaction_tree` and `show_nested_compaction` already exist.\n\n## Refactoring Plan\n1. Extract store discovery (shared pattern with report.rs, suggest.rs, status.rs):\n   - Consider adding `discover_or_open_store` as a shared utility\n2. Extract output formatters:\n   - `output_show_human(store, ctx, digest_id, direct_compacts, depth_tree, ...)`\n   - `output_show_json(...) -\u003e Result\u003c()\u003e`\n   - `output_show_records(...)`\n3. Main function becomes: setup → compute → format\n\n## Verification\n- Run `cargo test --test cli_tests compact`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/compact/show.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:10.987478048-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:48:19.349689116-05:00","closed_at":"2026-01-29T14:48:19.349689116-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-qsyj","depends_on_id":"qipu-6fgp","type":"blocks","created_at":"2026-01-29T07:33:46.974363636-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-qtql","title":"Refactor god functions with parameter structs","description":"Refactor","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:16:50.730905456-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:16:50.730905456-05:00"}
{"id":"qipu-qx1","title":"Design: MOC treatment in compaction","description":"Decide whether to exclude MOCs by default or treat specially in compaction.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.489027143-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.081763262-05:00","labels":["compaction","design"]}
{"id":"qipu-qxjs","title":"Verify qipu-core public API surface","description":"Review and refine the public API surface of qipu-core to ensure appropriate visibility.\n\n## Goals\n- Only expose what the binary crate actually needs\n- Use pub(crate) for internal implementation details\n- Ensure error types are properly exported\n- Document the intended public interface\n\n## Tasks\n1. Review crates/qipu-core/src/lib.rs exports\n2. Check each module's pub declarations\n3. Consider adding a prelude module for common imports (optional)\n4. Ensure re-exports are intentional, not accidental\n\n## Key Types That Must Be Public\n- error::{Result, QipuError}\n- store::Store\n- note::{Note, NoteType, LinkType, Source}\n- format::OutputFormat\n- config::*\n- graph::* (used by export, context commands)\n- db::* (used by various commands)\n- index::Index\n- query::* (used by list, search commands)\n- search::* (used by search command)\n\n## Acceptance Criteria\n- cargo doc --package qipu-core builds without warnings\n- Public API is intentional and minimal\n- No internal implementation details accidentally exposed","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:47.680031618-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T02:03:31.143001256-05:00","closed_at":"2026-01-29T02:03:31.143001256-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-qxjs","depends_on_id":"qipu-of0u","type":"blocks","created_at":"2026-01-28T21:14:00.28607695-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-r05e","title":"Clippy errors: 20 pre-existing clippy warnings need fixing","description":"cargo clippy reports 20 errors across the codebase, including needless return statements in src/lib/query/filter.rs:238 and other style issues. Action: Fix all clippy errors by following the suggested fixes.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T00:37:37.71413436-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:45:46.57363886-05:00","closed_at":"2026-01-28T00:45:46.57363886-05:00","close_reason":"Closed"}
{"id":"qipu-r1u","title":"Add tests for search sort-by-value edge cases","description":"Missing tests for search sort-by-value edge cases (default value 50)\n\nSpec: value-model.md\nIssue: Edge cases like default value not tested\nLocation: tests/cli/search.rs\nAction: Test search sorting with various value scenarios including defaults","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:53.657430245-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T12:48:50.005076489-05:00","closed_at":"2026-01-27T12:48:50.005076489-05:00","close_reason":"Closed"}
{"id":"qipu-rea","title":"Prime: add session close protocol checklist","description":"From docs/research/beads-llm-bootstrapping.md: add explicit end-of-session checklist to `qipu prime` output (capture/link/commit/push as appropriate) and explain why (avoid lost knowledge). Likely touch: src/commands/prime.rs; add CLI tests for presence/shape.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.233327234-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:37:41.866589867-05:00","closed_at":"2026-01-28T00:37:41.866589867-05:00","close_reason":"Closed","labels":["cli","prime"]}
{"id":"qipu-rfg1","title":"Split tests/cli/workspace.rs (642 lines)","description":"Split tests/cli/workspace.rs (642 lines) - exceeds CI 500-line limit.\n\nWhat to change:\n- tests/cli/workspace.rs (currently 642 lines, +142 over limit)\n\nHow to change:\n- Create tests/cli/workspace/mod.rs as entry point\n- Extract workspace init tests to tests/cli/workspace/init.rs\n- Extract workspace rename tests to tests/cli/workspace/rename.rs\n- Extract workspace merge tests to tests/cli/workspace/merge.rs\n- Extract workspace sync tests to tests/cli/workspace/sync.rs\n- Extract common test helpers to tests/cli/workspace/support.rs\n- Preserve all existing test assertions\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Large files are hard to navigate and maintain\n- Tests are easier to understand when grouped by feature\n\nVerification:\n- Run: cargo test --test cli_tests workspace\n- Verify all workspace tests still pass\n- Check each new file is \u003c500 lines with wc -l\n\nContext:\n- Depends on: removal of any dead test helpers first\n- Split by feature area (init, rename, merge, sync)\n- No functional changes, only reorganization\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:57.206295717-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:11:43.69454922-05:00","closed_at":"2026-01-29T22:11:43.69454922-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-rfg1","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:56.64962945-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-rfg1","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:56.754529958-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-rh20","title":"Split tests/cli/custom.rs (653 lines)","description":"Separate into: custom_metadata_basic.rs, custom_filters.rs, custom_display.rs, custom_integration.rs. Extract custom metadata test helpers.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.129928894-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T12:09:37.567598549-05:00","closed_at":"2026-01-29T12:09:37.567598549-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-rh20","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.511277911-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-rmg","title":"Make ranking parameters configurable","description":"Configurable ranking parameters\n\nIssue: Hardcoded boost values: +3.0 tag, 0.1/7.0 recency decay\nLocation: src/lib/db/search.rs (check current impl after BM25 fix)\nAction: Make configurable via config or flags\nPriority: P3 - nice to have","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:10.414227008-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:48:02.015837958-05:00","closed_at":"2026-01-27T23:48:02.015837958-05:00","close_reason":"Closed"}
{"id":"qipu-royk","title":"Split tests/cli/compact/apply.rs (611 lines)","description":"Split tests/cli/compact/apply.rs (611 lines) - exceeds CI 500-line limit.\n\nWhat to change:\n- tests/cli/compact/apply.rs (currently 611 lines, +111 over limit)\n\nHow to change:\n- Refactor within tests/cli/compact/ directory\n- Extract basic apply tests to tests/cli/compact/apply_basic.rs\n- Extract apply with options tests to tests/cli/compact/apply_options.rs\n- Extract error handling tests to tests/cli/compact/apply_errors.rs\n- Keep mod.rs for re-exports if needed\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Compact apply tests cover multiple scenarios\n- Splitting makes test intent clearer\n\nVerification:\n- Run: cargo test --test cli_tests compact::apply\n- Verify all compact apply tests still pass\n- Check each new file is \u003c500 lines\n\nContext:\n- Already in subdirectory, keep existing structure\n- Split by test scenario type\n- No functional changes\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:57.46553303-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:23:06.051545641-05:00","closed_at":"2026-01-29T22:23:06.051545641-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-royk","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:57.569077055-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-royk","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:57.661890353-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-rpa","title":"Tests: detect duplicate --format usage","description":"Add CLI tests for duplicate --format detection variants.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:25.361283788-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:25.439048533-05:00","closed_at":"2026-01-25T14:19:25.439048533-05:00","close_reason":"Closed","labels":["history","tests"]}
{"id":"qipu-rqz8","title":"Split tests/cli/compact/suggest_value.rs (471 lines)","description":"Split tests/cli/compact/suggest_value.rs (471 lines) into feature modules. Create suggest_value/mod.rs, extract filtering/basic/threshold tests. Move common setup to support.rs. Blocked by qipu-dnyj.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:17:11.800918877-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:17:11.800918877-05:00","dependencies":[{"issue_id":"qipu-rqz8","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T08:17:25.300610038-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-rrue","title":"docs: Update llm-context spec status - prime uses char budgeting not count","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T00:49:30.401143557-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:49:32.928917129-05:00","closed_at":"2026-01-30T00:49:32.928917129-05:00","close_reason":"Closed"}
{"id":"qipu-rtj","title":"Design: transcript redaction for secrets (llm-tool-test)","description":"Design transcript redaction to avoid leaking secrets in logs/artifacts.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.840979326-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.1164435-05:00","labels":["design","llm-tool-test","security"]}
{"id":"qipu-rzbp","title":"Update building-on-qipu.md for custom ontology","description":"Add section to docs/building-on-qipu.md covering custom ontology integration for applications building on qipu. Include: teaching LLMs about domain-specific types, using ontology show/prime output, validating types programmatically, and extension vs replacement mode considerations for integrators.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:56:57.979848636-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T12:55:47.687720659-05:00","closed_at":"2026-01-28T12:55:47.687720659-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-rzbp","depends_on_id":"qipu-stwx","type":"depends-on","created_at":"2026-01-25T20:56:57.9820894-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-rzj","title":"Clarify: backlinks embedded in notes vs derived only","description":"Spec open question: embed backlinks into notes (opt-in) vs keep derived.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.928677024-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.05442221-05:00","labels":["clarify","indexing-search"]}
{"id":"qipu-rzv","title":"Prime: support store-local override file (.qipu/PRIME.md)","description":"From docs/research/beads-llm-bootstrapping.md: if `.qipu/PRIME.md` exists, output it (optionally behind flag) instead of default prime output. Define precedence with `--format` (human/json/records). Likely touch: src/commands/prime.rs; add tests.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.379158534-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T01:06:31.266987632-05:00","closed_at":"2026-01-30T01:06:31.266987632-05:00","close_reason":"Closed","labels":["cli","prime"]}
{"id":"qipu-s1o0","title":"llm-tool-test: user documentation","description":"Add README/GUIDE for users to run llm-tool-test scenarios; include: safety env var, basic commands, interpreting results, typical workflow, troubleshooting. Note: Do not include 'amp' in the documentation as a supported tool, or mark it as experimental/de-prioritized.","acceptance_criteria":"User-facing docs exist in crates/llm-tool-test/README.md; covers LLM_TOOL_TEST_ENABLED=1, run/scenarios commands; explains evaluation.md interpretation; includes troubleshooting examples.","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:20:05.832527476-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:38:49.650773952-05:00","closed_at":"2026-01-28T13:38:49.650773952-05:00","close_reason":"Closed"}
{"id":"qipu-s5cm","title":"Update Cargo.toml version to match git tag v0.2.85","description":"test_version_consistency failing: git tag is v0.2.85 but Cargo.toml has 0.2.84. Update Cargo.toml version to match git tag.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T13:55:30.148445558-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:57:34.93571388-05:00","closed_at":"2026-01-29T13:57:34.93571388-05:00","close_reason":"Closed"}
{"id":"qipu-s91","title":"Fix incremental indexing mtime granularity flakiness","description":"Was flaky due to second-granularity mtimes; switched to nanos for mtime comparisons.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:20.547643532-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:20.618270284-05:00","closed_at":"2026-01-25T14:19:20.618270284-05:00","close_reason":"Closed","labels":["history","indexing"]}
{"id":"qipu-s9g0","title":"Split lib/db/mod.rs: extract rebuild logic","description":"lib/db/mod.rs (517 lines): Extract rebuild/resume logic into separate module: rebuild.rs (~350 lines, rebuild and rebuild_resume functions). Keep core DB operations (open, counts, Drop) in mod.rs (~160 lines). Simplifies main module.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.414802634-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T19:24:05.255245288-05:00","closed_at":"2026-01-28T19:24:05.255245288-05:00","close_reason":"Closed"}
{"id":"qipu-siz","title":"Strategy for 10k note search performance test","description":"Find viable strategy for 10k note search performance test\n\nIssue: Current test ignored - indexing 10k notes takes minutes\nNote: progressive-indexing.md defines strategies for large KBs\nOptions:\n- Use incremental indexing\n- Selective indexing (--quick)\n- Pre-generated fixture store\n- Direct DB population bypassing file creation\n- Reduced note count with extrapolation","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:46.45966413-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T00:24:48.740697715-05:00","closed_at":"2026-01-26T00:24:48.740697715-05:00","close_reason":"Closed"}
{"id":"qipu-st1y","title":"Broken db tests calling non-existent traverse() method","description":"Pre-existing test failures in qipu-core:\n\nAffected files:\n- crates/qipu-core/src/db/tests/traversal.rs (5 tests)\n- crates/qipu-core/src/db/tests/benchmarks.rs (5 tests)\n\nError: no method named  found for reference \n\nThese tests call db.traverse() which doesn't exist on the Database struct. Either:\n1. The traverse() method was removed and tests weren't updated\n2. The tests are testing legacy functionality\n\nNeed to either:\n- Remove these orphaned tests\n- Update them to use current graph traversal API (bfs_traverse/dijkstra_traverse)\n- Implement traverse() method on Database if it's needed\n\nThis is blocking compilation of qipu-core tests.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T23:42:35.354622474-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T23:50:29.103555502-05:00","closed_at":"2026-01-29T23:50:29.103555502-05:00","close_reason":"Closed"}
{"id":"qipu-stwx","title":"Custom Ontology: Domain-specific note and link types","description":"Implement specs/custom-ontology.md - allow repositories to define custom note types and link types that replace or extend the default ontology. Includes LLM guidance, strict validation, pack embedding, and deprecation of [graph.types.*] syntax.","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"epic","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:51:37.286992139-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:52:40.098841058-05:00","closed_at":"2026-01-28T13:52:40.098841058-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-stwx","depends_on_id":"qipu-kmlj","type":"blocks","created_at":"2026-01-25T20:53:34.950459184-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-y7um","type":"blocks","created_at":"2026-01-25T20:53:40.25985899-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-kgp8","type":"blocks","created_at":"2026-01-25T20:53:40.438176973-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-2wrt","type":"blocks","created_at":"2026-01-25T20:53:40.619543229-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-63hk","type":"blocks","created_at":"2026-01-25T20:53:40.791606745-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-yexo","type":"blocks","created_at":"2026-01-25T20:53:40.968778275-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-8tjm","type":"blocks","created_at":"2026-01-25T20:53:41.136030018-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-2x9u","type":"blocks","created_at":"2026-01-25T20:53:41.327360153-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-kz1j","type":"blocks","created_at":"2026-01-25T20:53:41.503618266-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-pk43","type":"blocks","created_at":"2026-01-25T20:53:41.65357341-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-y1sm","type":"blocks","created_at":"2026-01-25T20:53:41.815746811-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-i48p","type":"blocks","created_at":"2026-01-25T20:53:41.983585473-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-yqke","type":"blocks","created_at":"2026-01-25T20:53:42.176284533-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-nwg4","type":"blocks","created_at":"2026-01-25T20:53:42.41855791-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-o2sb","type":"blocks","created_at":"2026-01-25T20:53:42.675555242-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-7bot","type":"blocks","created_at":"2026-01-25T20:53:42.911403142-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-stwx","depends_on_id":"qipu-wg94","type":"blocks","created_at":"2026-01-25T20:53:43.167190937-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-swvg","title":"Refactor link/tree.rs:execute (112 lines)","description":"## Problem\n`execute` in `src/commands/link/tree.rs` is 112 lines.\n\n## Analysis\nThe function performs graph traversal with compaction context, then outputs in 3 formats. Output formatters already exist in submodules (human.rs, json.rs, records.rs).\n\n## Refactoring Plan\n1. Extract setup logic:\n   - `build_traversal_context(cli, store, note_id) -\u003e TraversalContext`\n   - This handles index building, compaction context, equivalence map\n2. Main function: setup → traverse → format (format already delegated)\n\nThis is close to 100 lines - consider if cleanup is worthwhile vs. accepting marginal excess.\n\n## Verification\n- Run `cargo test --test cli_tests link`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/link/tree.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:35.221510709-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:18:55.993444746-05:00","closed_at":"2026-01-29T14:18:55.993444746-05:00","close_reason":"Closed"}
{"id":"qipu-sx1","title":"Distribution: Setup Homebrew tap","description":"Setup Homebrew tap for macOS/Linux distribution\n\nSpec: distribution.md:62-69\nRequirements: Separate repository setup\nAction: Create homebrew-qipu tap repository\nPriority: P3 - distribution enhancement","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:26.556194516-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T11:36:37.92185518-05:00","closed_at":"2026-01-28T11:36:37.92185518-05:00","close_reason":"Closed"}
{"id":"qipu-sx1t","title":"Golden test test_golden_prime_empty_store failing - Session Protocol section not in golden file","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T01:34:22.214555439-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:37:06.091195629-05:00","closed_at":"2026-01-28T01:37:06.091195629-05:00","close_reason":"Closed"}
{"id":"qipu-t1ru","title":"Add --resume flag to qipu index for checkpointed recovery","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:52:56.838495137-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T02:29:46.102499188-05:00","closed_at":"2026-01-28T02:29:46.102499188-05:00","close_reason":"Closed"}
{"id":"qipu-t79","title":"Refactor: shrink src/commands/doctor/content.rs","description":"Move tests to module directory; reduce file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:23.885164767-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:23.957391108-05:00","closed_at":"2026-01-25T14:19:23.957391108-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-t8v2","title":"Refactor compact/suggest.rs:execute (136 lines)","description":"## Problem\n`execute` in `src/commands/compact/suggest.rs` is 136 lines.\n\n## Analysis\nSimilar pattern to other compact commands - setup, compute, output in 3 formats. Output formatting is the largest section.\n\n## Refactoring Plan\n1. Extract output formatters (same pattern):\n   - `output_suggest_human(candidates: \u0026[CompactionCandidate])`\n   - `output_suggest_json(candidates: \u0026[CompactionCandidate]) -\u003e Result\u003c()\u003e`\n   - `output_suggest_records(candidates: \u0026[CompactionCandidate])`\n2. Main function becomes: setup → find candidates → format\n\n## Verification\n- Run `cargo test --test cli_tests compact`\n- Run `python3 scripts/check_function_complexity.py`\n\n## Cleanup\nRemove `commands/compact/suggest.rs:execute` from ALLOWED_FUNCTIONS when complete.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:32:22.058592855-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T14:51:16.563762967-05:00","closed_at":"2026-01-29T14:51:16.563762967-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-t8v2","depends_on_id":"qipu-6fgp","type":"blocks","created_at":"2026-01-29T07:33:47.059504596-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-tbuo","title":"Fix version inconsistency: git tag v0.2.84 but Cargo.toml has 0.2.83","description":"test_version_consistency fails: At release tag v0.2.84, but Cargo.toml has version 0.2.83. Update Cargo.toml to match git tag.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T13:45:53.41314537-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T13:48:52.118745714-05:00","closed_at":"2026-01-29T13:48:52.118745714-05:00","close_reason":"Closed"}
{"id":"qipu-tc03","title":"Create shared test setup helper for tempdir pattern","description":"Extract shared test setup to replace 555+ tempdir duplications:\n\nWhat to change:\n- 555+ instances of: let dir = tempdir().unwrap(); qipu().current_dir(dir.path()).arg(\"init\").assert().success();\n- Found across all tests/cli/ files\n\nHow to change:\n- Create setup_test_dir() helper in tests/support/mod.rs\n- Helper returns (TempDir, TestStore) with store initialized\n- Helper accepts optional parameters (custom config, etc.)\n- Replace all inline tempdir+init sequences with helper call\n- Files with highest duplication (value_sorting/sort.rs: 6, show/semantic_inversion.rs: 4)\n\nWhy it matters:\n- 555+ duplications is massive waste\n- Changing setup logic requires 555 edits\n- Inconsistent setup may cause test flakiness\n- Simplifies writing new tests\n\nVerification:\n- Run: cargo test --test cli_tests\n- Verify all tests pass\n- Count remaining inline setups (target: \u003c50)\n- Check: cargo clippy passes","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:27.025481388-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:27.025481388-05:00","dependencies":[{"issue_id":"qipu-tc03","depends_on_id":"qipu-k23b","type":"blocks","created_at":"2026-01-30T07:42:46.871543076-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-tny8","title":"Split crates/llm-tool-test/src/adapter/mock.rs (539 lines)","description":"Split crates/llm-tool-test/src/adapter/mock.rs (539 lines) to comply with CI 500-line limit:\n\nWhat to change:\n- crates/llm-tool-test/src/adapter/mock.rs (currently 539 lines, 39 over limit)\n\nHow to change:\n- Analyze mock adapter structure:\n  * Mock setup/configuration\n  * Request/response handling\n  * State management\n- Create adapter/mock/ subdirectory:\n  * mock/mod.rs - main MockAdapter impl\n  * mock/setup.rs - configuration and builder\n  * mock/handlers.rs - request processing logic\n\nWhy it matters:\n- Violates CI 500-line file limit (enforced, blocks builds)\n- Mock adapter combines multiple concerns\n\nVerification:\n- Run: cargo test -p llm-tool-test\n- Verify mock adapter tests pass\n- Ensure each new file is \u003c500 lines","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:36.671701338-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:41:36.671701338-05:00","dependencies":[{"issue_id":"qipu-tny8","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:58:22.406174247-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-tsb","title":"Test relative .md links cross-directory","description":"Missing test for relative .md links cross-directory edge case\n\nSpec: indexing-search.md\nIssue: Edge case not covered in current tests\nLocation: tests/cli/","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:57.28497476-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T00:14:44.662000124-05:00","closed_at":"2026-01-26T00:14:44.662000124-05:00","close_reason":"Closed"}
{"id":"qipu-ttc","title":"Distribution: package for AUR (Arch Linux)","description":"Add/maintain AUR packaging workflow per distribution spec (future).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.996000068-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.10713034-05:00","labels":["distribution"]}
{"id":"qipu-ttfq","title":"Progressive index missing graceful degradation","notes":"Spec: progressive-indexing.md lines 74-77\n\nSpec requires: 'Search works with Level 1 (basic index)... Results limited to metadata-only'\n\nCurrent: Search in src/lib/db/search.rs:32-107 always uses FTS5, doesn't check index_level\n\nImpact: Search fails silently or returns no results when only basic index exists\n\nFix: Add check in search to use metadata-only queries when index_level = 1","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:41.611124733-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T22:46:28.557482232-05:00","closed_at":"2026-01-25T22:46:28.557482232-05:00","close_reason":"Closed","labels":["bug","progressive-indexing"]}
{"id":"qipu-u0g","title":"Distribution: package for Nix (NixOS/macOS)","description":"Add/maintain Nix packaging per distribution spec (future).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.0823595-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.102790871-05:00","labels":["distribution"]}
{"id":"qipu-u1bv","title":"Split tests/cli/dump.rs: move traversal tests to traversal.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.216856281-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:22:24.656782555-05:00","closed_at":"2026-01-28T21:22:24.656782555-05:00","close_reason":"Closed"}
{"id":"qipu-u2cj","title":"Fix version consistency: Cargo.toml 0.2.46 vs git tag v0.2.48","description":"Failing test cli::misc::test_version_consistency: git tag is v0.2.48 but Cargo.toml has version 0.2.46. Plan: Update Cargo.toml version to 0.2.48 to match git tag.","status":"closed","priority":1,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T13:38:42.747217188-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:40:19.119455247-05:00","closed_at":"2026-01-28T13:40:19.119455247-05:00","close_reason":"Closed"}
{"id":"qipu-u77","title":"Design: depth-aware compaction metrics","description":"Spec marks optional; decide if/how to implement depth-aware metrics.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.327058069-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.090129711-05:00","labels":["compaction","design"]}
{"id":"qipu-uaq2","title":"Consolidate format dispatch patterns (12+ occurrences)","description":"Format dispatch pattern repeated 12+ times across command modules - consolidate using existing macros.\n\nWhat to change:\n- 12+ locations with duplicate format matching code:\n  * src/commands/export/mod.rs\n  * src/commands/show/mod.rs\n  * src/commands/workspace/list.rs\n  * src/commands/load/mod.rs\n  * src/commands/link/remove.rs\n  * And others with pattern: `match cli.format { OutputFormat::Json =\u003e ... OutputFormat::Human =\u003e ... OutputFormat::Records =\u003e ... }`\n\nHow to change:\n- Use existing macro in src/cli/format.rs: `output_format!` macro\n- Replace all 12+ manual match blocks with macro invocation\n- If macro insufficient, enhance it to handle common cases\n- Pattern to replace:\n  ```rust\n  match cli.format {\n      OutputFormat::Json =\u003e println!(\"{}\", serde_json::to_string_pretty(\u0026output)?),\n      OutputFormat::Human =\u003e print_human_output(\u0026output),\n      OutputFormat::Records =\u003e print_records_output(\u0026output),\n  }\n  ```\n\nWhy it matters:\n- 12+ duplicates = maintenance burden (change in one place, forget others)\n- Format handling should be consistent across all commands\n- Reduces code by ~60-80 lines\n- Makes adding new output formats easier (change in one place)\n\nVerification:\n- Run: cargo test (all tests pass)\n- Run: cargo clippy (no warnings)\n- Verify: all commands still support --format json|human|records\n- Test: manual verification of format output for affected commands\n\nContext:\n- No dependencies\n- Macro already exists, just needs wider adoption\n- P2 because functional but suboptimal","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:57:20.640193934-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:57:53.583239694-05:00","closed_at":"2026-01-30T07:57:53.583239694-05:00","close_reason":"Duplicate of qipu-vely - consolidate with existing format consolidation task"}
{"id":"qipu-uc6","title":"Design: semantic inversion + type filtering semantics","description":"When filtering by type with inversion, decide if filter matches virtual inverted edges or stored edges.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.627811891-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.129249956-05:00","labels":["design","graph-traversal"]}
{"id":"qipu-un1t","title":"Fix --since filter: old notes incorrectly shown","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T02:47:35.857396764-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T03:12:00.716525613-05:00","closed_at":"2026-01-29T03:12:00.716525613-05:00","close_reason":"Closed"}
{"id":"qipu-v2n","title":"Add tests for dump selectors","description":"Missing tests for --tag/--moc/--query selectors in dump\n\nSpec: pack.md\nIssue: Selector flags not tested\nLocation: tests/pack/\nAction: Test dump command with various selector flags","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:59.096855151-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T11:11:12.164848222-05:00","closed_at":"2026-01-26T11:11:12.164848222-05:00","close_reason":"Closed"}
{"id":"qipu-v46f","title":"Split tests/cli/ontology.rs (614 lines)","description":"Split tests/cli/ontology.rs (614 lines) - exceeds CI 500-line limit.\n\nWhat to change:\n- tests/cli/ontology.rs (currently 614 lines, +114 over limit)\n\nHow to change:\n- Create tests/cli/ontology/mod.rs as entry point\n- Extract ontology list tests to tests/cli/ontology/list.rs\n- Extract ontology add/remove tests to tests/cli/ontology/manage.rs\n- Extract ontology validation tests to tests/cli/ontology/validate.rs\n- Extract common test helpers to tests/cli/ontology/support.rs\n\nWhy it matters:\n- Violates CI 500-line file limit\n- Separates concerns by ontology operation type\n- Improves test maintainability\n\nVerification:\n- Run: cargo test --test cli_tests ontology\n- Verify all ontology tests still pass\n- Check each new file is \u003c500 lines\n\nContext:\n- No dependencies\n- Split by operation type (list, manage, validate)\n- Preserve all existing test coverage\n","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:49:57.294546091-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:15:14.22072113-05:00","closed_at":"2026-01-29T22:15:14.22072113-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-v46f","depends_on_id":"qipu-ecbx","type":"blocks","created_at":"2026-01-29T19:50:56.995341914-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-v46f","depends_on_id":"qipu-7lt4","type":"blocks","created_at":"2026-01-29T19:50:57.086141194-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-v8q9","title":"Split tests/cli/search.rs: move field weighting tests to field_weighting.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.246435633-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:00:30.21671516-05:00","closed_at":"2026-01-28T22:00:30.21671516-05:00","close_reason":"Closed"}
{"id":"qipu-vdu","title":"Design: structured logging instrumentation scope","description":"Decide which functions warrant spans/timing; define instrumentation plan.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.701360538-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.068819834-05:00","labels":["design","structured-logging"]}
{"id":"qipu-vely","title":"Consolidate format handling duplication across commands","description":"Enforce output_by_format! macro usage across ~40 files with 151 match arms:\n\nWhat to change:\n- Identify files using verbose format match blocks:\n  * src/commands/setup.rs (20+ match arms)\n  * src/commands/custom.rs (12+ match arms)\n  * src/commands/dispatch/handlers.rs (6+ match arms)\n  * src/commands/update.rs (6+ match arms)\n  * src/commands/sync.rs (3+ match arms)\n- Replace with output_by_format! macro from src/cli/format.rs\n\nHow to change:\n- Audit all command handlers for format match blocks\n- Replace verbose match with macro call\n- Ensure macro handles all three formats (Json, Human, Records)\n- Update macro if needed to support edge cases\n\nWhy it matters:\n- 151 match arms is massive duplication\n- Inconsistent format handling across commands\n- Macro already exists but not consistently used\n\nVerification:\n- Run: cargo test --test cli_tests\n- Test each command with --format json, --format human, --format records\n- Verify no behavioral changes\n- Check: cargo clippy passes","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:42:07.874096697-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:42:07.874096697-05:00"}
{"id":"qipu-vhis","title":"Split tests/cli/export/bibliography_format.rs: split by format type (html/markdown/etc)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:40.250242331-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:30:24.447358799-05:00","closed_at":"2026-01-28T23:30:24.447358799-05:00","close_reason":"Closed"}
{"id":"qipu-vhm4","title":"Split sync.rs into separate concerns","description":"Split","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:16:55.218633967-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:16:55.218633967-05:00","dependencies":[{"issue_id":"qipu-vhm4","depends_on_id":"qipu-qtql","type":"blocks","created_at":"2026-01-30T08:17:26.313649269-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-vl2","title":"Design: compaction versioning/history","description":"Decide how to retain compaction history (inactive edges, versions, etc).","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.403777621-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.085817097-05:00","labels":["compaction","design"]}
{"id":"qipu-vl4s","title":"Review test suite for trivial or low-value tests","description":"## Objective\nReview the existing test suite to ensure all tests provide meaningful coverage and value. Identify and refactor/remove tests that are:\n- Trivial (e.g., asserting true, testing language features)\n- Redundant (testing the same thing multiple times without added value)\n- Testing implementation details rather than behavior\n- \"Happy path only\" where edge cases are more critical\n\n## Scope\n- `tests/cli/` (Integration tests)\n- `src/lib/*/tests/` (Unit tests)\n\n## Action Items\n1. Audit `tests/cli/*.rs` for low-value tests.\n2. Audit unit tests in `src/lib/` modules.\n3. Flag or fix identified low-value tests.\n4. Ensure assertions are strict enough to catch regressions.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:29:04.994566629-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T21:12:21.433259691-05:00","closed_at":"2026-01-27T21:12:21.433259691-05:00","close_reason":"Closed"}
{"id":"qipu-vnr","title":"Add JSON schema compliance tests","description":"Missing tests asserting JSON schema compliance\n\nIssue: All JSON outputs should be tested for required fields\nScope: All commands with --format json\nLocation: tests/cli/\nSpec: cli-interface.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:04:53.583920685-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T04:48:13.543845479-05:00","closed_at":"2026-01-26T04:48:13.543845479-05:00","close_reason":"Closed"}
{"id":"qipu-vov7","title":"Move src/lib/ modules to qipu-core","description":"Physically move the core library modules from src/lib/ to crates/qipu-core/src/.\n\n## Modules to Move\nAll modules currently under src/lib/:\n- compaction/\n- config/ and config.rs\n- db/\n- graph/\n- index/\n- note/\n- query/\n- search/\n- similarity/\n- store/\n- text/\n- error.rs\n- format.rs\n- git.rs\n- id.rs\n- logging.rs\n- ontology.rs\n- records.rs\n\n## Tasks\n1. Move src/lib/mod.rs content to crates/qipu-core/src/lib.rs\n2. Move all subdirectories and files to crates/qipu-core/src/\n3. Update module visibility - ensure pub exports are appropriate\n4. Delete src/lib/ directory after move\n5. Remove the path hack from main.rs: #[path = \"lib/mod.rs\"] mod lib;\n\n## File Structure After Move\ncrates/qipu-core/src/\n├── lib.rs (contains pub mod declarations)\n├── compaction/\n├── config/\n├── config.rs\n├── db/\n├── error.rs\n├── format.rs\n├── git.rs\n├── graph/\n├── id.rs\n├── index/\n├── logging.rs\n├── note/\n├── ontology.rs\n├── query/\n├── records.rs\n├── search/\n├── similarity/\n├── store/\n└── text/\n\n## Acceptance Criteria\n- All 14.6K lines of lib code moved to qipu-core\n- src/lib/ no longer exists\n- cargo check on qipu-core succeeds (in isolation)","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:13:09.702468885-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T01:35:46.01147181-05:00","closed_at":"2026-01-29T01:35:46.01147181-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-vov7","depends_on_id":"qipu-jsnf","type":"blocks","created_at":"2026-01-28T21:13:53.073341238-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-vtmv","title":"Refactor build_base_* functions in src/commands/prime/output.rs","description":"Refactor build_base_human and build_base_records in src/commands/prime/output.rs:\n\nWhat to change:\n- src/commands/prime/output.rs functions: build_base_human (287 lines), build_base_records (279 lines)\n\nHow to change:\n- Extract build_base_human into src/commands/prime/output/human.rs\n- Extract build_base_records into src/commands/prime/output/records.rs\n- Identify common patterns between both functions\n- Create shared helper for type_config.and_then() patterns (24 occurrences)\n- Extract OntologyConfig helper methods\n- Each extracted function must be \u003c100 lines\n\nWhy it matters:\n- Functions are 287 and 279 lines, exceeding 100-line limit\n- Massive duplication of type_config access patterns\n- Hard to test and maintain\n- Violates single responsibility principle\n\nVerification:\n- Ensure all tests pass: cargo test prime\n- Verify each new function is \u003c100 lines\n- Confirm no behavioral changes\n- Run cargo clippy to verify no warnings\n\nContext:\n- No dependencies\n- Related to format handling consolidation (bd task qipu-vely)\n- Extract shared patterns to reduce duplication","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:13.680561072-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:13.680561072-05:00","dependencies":[{"issue_id":"qipu-vtmv","depends_on_id":"qipu-vely","type":"blocks","created_at":"2026-01-30T08:13:20.860450386-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-vum","title":"Refactor: shrink src/lib/similarity/mod.rs","description":"Move tests to separate module; reduce main file size.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.478808671-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.546302344-05:00","closed_at":"2026-01-25T14:19:24.546302344-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-vx22","title":"Split crates/llm-tool-test/src/run.rs (524 lines)","description":"Split crates/llm-tool-test/src/run.rs (524 lines) to comply with CI 500-line limit:\n\nWhat to change:\n- crates/llm-tool-test/src/run.rs (currently 524 lines, 24 over limit)\n- Move tests at lines 413-524 to separate test file\n\nHow to change:\n- Split run.rs into logical modules:\n  * run/execution.rs - main test execution logic\n  * run/orchestration.rs - test flow management\n- Move inline tests to run/tests.rs (extract all #[test] functions)\n\nWhy it matters:\n- Violates CI 500-line file limit (enforced, blocks builds)\n- Mixes production code with tests\n\nVerification:\n- Run: cargo test -p llm-tool-test\n- Verify all run tests pass in new location\n- Ensure each new file is \u003c500 lines","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T07:41:37.968996648-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T07:41:37.968996648-05:00","dependencies":[{"issue_id":"qipu-vx22","depends_on_id":"qipu-dnyj","type":"blocks","created_at":"2026-01-30T07:58:22.507319698-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-w1fe","title":"Expand list custom filter beyond equality","description":"Spec custom-metadata.md line 290-298 requires list command to support full custom filter expressions (equality, existence, numeric comparisons). Current NoteFilter::matches_custom in src/lib/query/filter.rs:178-193 only supports equality. Impact: qipu list --custom active=true works, but qipu list --custom priority\u003e5 fails. Context command has full filter support in src/commands/context/filter.rs:1-134.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T18:39:43.680626979-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:27:53.399706352-05:00","closed_at":"2026-01-27T15:27:53.399706352-05:00","close_reason":"Closed","labels":["custom-metadata"]}
{"id":"qipu-w3i","title":"Value model: audit ignore_value default (no P1 bug)","description":"Audit note: ignore_value default is false (weighted traversal enabled).","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:26.185158813-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:26.26096125-05:00","closed_at":"2026-01-25T14:19:26.26096125-05:00","close_reason":"Closed","labels":["history","value-model"]}
{"id":"qipu-was","title":"Design: leaf source vs intermediate digest concept","description":"Decide if leaf source should be first-class vs intermediate digests.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:27.561284325-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.077396885-05:00","labels":["compaction","design"]}
{"id":"qipu-wd5y","title":"Link list E lines missing via annotation","description":"Edge lines in link list command don't include via annotation when IDs are canonicalized. JSON output correctly includes via field. Location: src/commands/link/records.rs:168-171. Needs to check entry.via field and append to E line format.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.961812699-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T14:52:58.085685161-05:00","closed_at":"2026-01-27T14:52:58.085685161-05:00","close_reason":"Closed","labels":["records-output"]}
{"id":"qipu-wdrj","title":"Split remaining source/test files near limit (5 files)","description":"Split src/commands/list/tests.rs (514 lines) and other source files \u003e500 lines.\n\nWhat to change:\n1. src/commands/list/tests.rs (514 lines, +14) - Split by list feature\n2. crates/llm-tool-test/src/judge.rs (514 lines, +14) - Split judgment types\n3. tests/cli/context/ontology.rs (509 lines, +9) - Split context ontology tests\n4. tests/cli/traversal.rs (507 lines, +7) - Split traversal tests\n5. crates/qipu-core/src/db/notes/read.rs (502 lines, +2) - Extract query types\n\nHow to change:\n- For list/tests.rs: Extract by filter type, format tests\n- For judge.rs: Split evaluation, scoring, reporting\n- For context/ontology.rs: Split by ontology operation\n- For traversal.rs: Split BFS, DFS, cycle detection\n- For read.rs: Extract helper functions, query builders\n\nWhy it matters:\n- All at or over 500-line CI limit\n- Source file splits need careful API preservation\n- Test file splits improve organization\n\nVerification:\n- Run: cargo test affected modules\n- Ensure compilation succeeds\n- Check file sizes with wc -l\n\nContext:\n- These are closer to limit, lower priority\n- Some may be grandfathered or have exceptions\n- Verify against check_function_complexity.py exceptions list\n","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:50:05.327808616-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:25:24.944172309-05:00","closed_at":"2026-01-30T00:25:24.944172309-05:00","close_reason":"Closed"}
{"id":"qipu-wfm","title":"Feature: traversal queries neighbors/subgraph/cycles","description":"Future traversal queries beyond current commands.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.8067606-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.985290459-05:00","labels":["future","graph-traversal"]}
{"id":"qipu-wg94","title":"Update existing tests for ontology context","description":"Update tests that assume hardcoded note/link types to work with ontology context.","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:53:06.352378077-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T13:50:23.576127631-05:00","closed_at":"2026-01-28T13:50:23.576127631-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-wg94","depends_on_id":"qipu-2wrt","type":"blocks","created_at":"2026-01-25T20:53:06.354130874-05:00","created_by":"Micah J Waldstein"},{"issue_id":"qipu-wg94","depends_on_id":"qipu-63hk","type":"blocks","created_at":"2026-01-25T20:53:06.356377854-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-wkb","title":"Add llm-tool-test transcript write_report tests","description":"Missing tests for transcript write_report()\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test that write_report correctly generates transcripts","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:19.549516571-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:08:21.658919887-05:00","closed_at":"2026-01-27T23:08:21.658919887-05:00","close_reason":"Closed"}
{"id":"qipu-wrw","title":"Refactor: shrink src/commands/context/mod.rs","description":"Extract filter parsing helpers into separate module.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.335905165-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.408515895-05:00","closed_at":"2026-01-25T14:19:24.408515895-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-wzc6","title":"Add SQLite JSON index for custom_json","description":"Spec requires CREATE INDEX idx_notes_custom ON notes(json_extract(custom_json, '$')) for performance. Schema has custom_json column but no index. Location: src/lib/db/schema.rs:42. Add index to improve custom metadata query performance.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:23.970585138-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T15:23:30.296417091-05:00","closed_at":"2026-01-27T15:23:30.296417091-05:00","close_reason":"Closed","labels":["custom-metadata"]}
{"id":"qipu-x23v","title":"Split tests/cli/context/basic.rs: move selection tests to selection.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.02229439-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:15:52.743144059-05:00","closed_at":"2026-01-28T22:15:52.743144059-05:00","close_reason":"Closed"}
{"id":"qipu-x2n","title":"Infra: validate DB performance targets","description":"Add validation/bench infra for \u003c50ms search, \u003c10ms backlinks, \u003c100ms traversal targets.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.961753444-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.975438934-05:00","labels":["db","future","perf"]}
{"id":"qipu-x3az","title":"Consolidate duplicate test helpers across test files","description":"Replace duplicate helper function definitions with imports from tests/cli/support.rs. Files with duplicates: tests/pack/basic.rs line 6 has fn qipu(), tests/workspace_merge_test.rs line 12 has extract_id(), tests/workspace/merge/delete_source.rs line 12 has extract_id(), tests/workspace/merge_strategies.rs line 12 has extract_id(), tests/workspace_from_note_test.rs line 12 has extract_id(), tests/performance_tests.rs lines 15,20 has qipu() and create_test_store(). Refactor to use shared support.rs helpers. Verification: cargo test passes, no duplicate helper definitions remain.","status":"open","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:22.174696731-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:22.174696731-05:00"}
{"id":"qipu-x3b","title":"Add tests for dump graph traversal options","description":"Missing tests for graph traversal options in dump\n\nSpec: pack.md\nIssue: Direction, max-hops, type filters not tested\nLocation: tests/pack/\nAction: Test dump command with graph traversal options","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:06:02.543707643-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T12:28:08.934149447-05:00","closed_at":"2026-01-26T12:28:08.934149447-05:00","close_reason":"Closed"}
{"id":"qipu-x3pr","title":"Golden test test_golden_version_output failing - version 0.2.37 in binary but 0.2.36 in golden file","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T01:34:26.54950656-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:38:30.66896684-05:00","closed_at":"2026-01-28T01:38:30.66896684-05:00","close_reason":"Closed"}
{"id":"qipu-xai","title":"Test bug","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T15:34:11.535656136-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T15:36:15.176953505-05:00","closed_at":"2026-01-25T15:36:15.176953505-05:00","close_reason":"Closed","labels":["closed","test"]}
{"id":"qipu-xaz9","title":"Create typed path builder for Store (25+ occurrences)","description":"Replace Store.root().join() pattern with typed path builder:\n\nWhat to change:\n- 25+ occurrences of Store.root().join() pattern:\n  - src/commands/init.rs:36\n  - src/commands/export/mod.rs:373\n  - src/commands/workspace/new.rs:38\n  - src/commands/store/mod.rs:18\n  - src/commands/dump/serialize.rs:19\n  - And 20+ more locations\n\nHow to change:\n- Extend qipu-core Store type with path helper methods:\n  - Store::attachments_path() -\u003e PathBuf\n  - Store::config_path() -\u003e PathBuf\n  - Store::db_path() -\u003e PathBuf\n  - Store::notes_path() -\u003e PathBuf\n  - Store::ontology_path() -\u003e PathBuf\n- Replace all .root().join(\"...\") calls with typed methods\n- Methods should handle path joining internally\n\nWhy it matters:\n- Reduces duplication (25+ occurrences)\n- Type-safe path construction prevents errors\n- Centralizes path structure knowledge\n- Makes store layout changes easier\n- ~75-100 lines saved\n\nVerification:\n- Replace all occurrences with typed methods\n- Run full test suite: cargo test\n- Verify paths are constructed correctly on all platforms\n\nContext:\n- Medium effort but high maintainability impact\n- Store layout is stable, making this a good time to abstract","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T19:54:34.243294543-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T22:56:20.580667891-05:00","closed_at":"2026-01-29T22:56:20.580667891-05:00","close_reason":"Closed"}
{"id":"qipu-xbuz","title":"Split tests/cli/compact/commands.rs: move suggest tests to suggest.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:02.103061778-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:54:26.950015509-05:00","closed_at":"2026-01-28T20:54:26.950015509-05:00","close_reason":"Closed"}
{"id":"qipu-xin","title":"Init: optionally write qipu section into AGENTS.md","description":"From docs/research/beads-llm-bootstrapping.md: make `qipu init` create/update AGENTS.md with minimal qipu snippet (or add flag/config to enable). Distinguish from `qipu onboard` (display-only) and `qipu setup agents-md`. Likely touch: src/commands/init.rs, src/commands/setup.rs; add tests.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:32:22.301788062-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:32:23.029872447-05:00","labels":["agents-md","cli"]}
{"id":"qipu-xm4e","title":"Extract note resolution helper function","description":"Consolidate duplicate note resolution pattern into shared helper. Pattern appears 6+ times in handlers.rs lines 82-86 (handle_show), 115-119 (handle_link_add), 235-239 (handle_link_remove). Create resolve_note_by_id_or_path() in dispatch/helpers.rs. Pattern: check if path exists, read file and parse, else get from store. Verification: cargo test --test cli_tests show,link passes, no behavioral changes.","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:06:15.75682522-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:06:15.75682522-05:00","dependencies":[{"issue_id":"qipu-xm4e","depends_on_id":"qipu-vely","type":"blocks","created_at":"2026-01-30T08:06:18.695845278-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-xpv5","title":"Fix version consistency test failure - Cargo.toml version 0.2.58 doesn't match git tag v0.2.60","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:35:00.01403948-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:37:26.818773275-05:00","closed_at":"2026-01-28T21:37:26.818773275-05:00","close_reason":"Closed"}
{"id":"qipu-xv72","title":"Split tests/workspace/rename_strategy.rs (673 lines)","description":"Separate into: rename_conflict_detection.rs, rename_auto_rename.rs, rename_manual_rename.rs, rename_edge_cases.rs. Extract workspace test helpers.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:12:55.46220528-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:42:04.338114013-05:00","closed_at":"2026-01-29T10:42:04.338114013-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-xv72","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.509048817-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-xwl","title":"Refactor: shrink src/commands/dispatch/mod.rs","description":"Extract command handlers into separate module.","status":"closed","priority":4,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:24.775279258-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:19:24.847542189-05:00","closed_at":"2026-01-25T14:19:24.847542189-05:00","close_reason":"Closed","labels":["history","refactor"]}
{"id":"qipu-xx6r","title":"Fix remaining clippy warnings in qipu-core","description":"Resolve remaining clippy warnings:\n\nWhat to change:\n- crates/qipu-core/src/graph/bfs.rs - complex types warning\n- crates/qipu-core/src/db/notes/read.rs:330 - complex type error\n- Any other warnings from cargo clippy --all-targets\n\nHow to change:\n- Fix type_complexity warning in bfs.rs: extract type alias or simplify\n- Fix complex type error in read.rs:330 (already tracked in qipu-bxob)\n- Run cargo clippy --all-targets --all-features -- -D warnings\n- Address each warning with minimal, targeted fix\n- Remove any #![allow(...)] that are no longer needed\n\nWhy it matters:\n- CI enforces -D warnings (zero warnings policy)\n- Clippy warnings indicate code quality issues\n- Complex types are hard to read and maintain\n\nVerification:\n- Run: cargo clippy --all-targets --all-features -- -D warnings\n- Should report 0 warnings\n- Run tests: cargo test to ensure no regressions\n\nContext:\n- Related to qipu-bxob (read.rs complex type)\n- P2 priority: required for CI compliance\n- May overlap with other refactor tasks","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T20:00:44.271747332-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T00:22:09.815435184-05:00","closed_at":"2026-01-30T00:22:09.815435184-05:00","close_reason":"Closed"}
{"id":"qipu-xz2p","title":"Split tests/cli/context/basic.rs: move expansion tests to expansion.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:15.023081945-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T22:24:13.31689745-05:00","closed_at":"2026-01-28T22:24:13.31689745-05:00","close_reason":"Closed"}
{"id":"qipu-y1sm","title":"Validate --type in link add command","description":"Validate link --type flag against active ontology. Files: src/commands/link/add.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:46.85752486-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T11:30:21.369900033-05:00","closed_at":"2026-01-28T11:30:21.369900033-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-y1sm","depends_on_id":"qipu-63hk","type":"blocks","created_at":"2026-01-25T20:52:46.859037061-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-y20q","title":"Split tests/cli/compact/commands.rs: move status tests to status.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:02.100122096-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T20:37:25.923913236-05:00","closed_at":"2026-01-28T20:37:25.923913236-05:00","close_reason":"Closed"}
{"id":"qipu-y2sb","title":"Split commands/load/mod.rs: extract load functions","description":"commands/load/mod.rs (526 lines): Extract into modules: mod.rs (~70 lines, execute + strategy), notes.rs (~200 lines, load_notes logic), links.rs (~120 lines, load_links), attachments.rs (~90 lines, load_attachments). Maintain existing test structure.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:03:02.44147743-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T19:39:33.375718306-05:00","closed_at":"2026-01-28T19:39:33.375718306-05:00","close_reason":"Closed"}
{"id":"qipu-y7um","title":"Implement Ontology resolution logic","description":"Create src/lib/ontology.rs with Ontology struct. Implement from_config() to resolve default/extended/replacement modes. Define DEFAULT_ONTOLOGY constant. Methods: is_valid_note_type, is_valid_link_type, get_inverse.","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:16.466642251-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T06:55:06.77513761-05:00","closed_at":"2026-01-28T06:55:06.77513761-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-y7um","depends_on_id":"qipu-kmlj","type":"blocks","created_at":"2026-01-25T20:52:16.470794671-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-yekg","title":"Split tests/cli/context/filtering.rs (651 lines)","description":"Break into: filter_by_tag.rs, filter_by_type.rs, filter_by_value.rs, filter_by_moc.rs, filter_combinations.rs. Extract context filtering test utilities.","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T07:13:22.130650224-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T12:59:06.220325167-05:00","closed_at":"2026-01-29T12:59:06.220325167-05:00","close_reason":"Closed","dependencies":[{"issue_id":"qipu-yekg","depends_on_id":"qipu-4952","type":"blocks","created_at":"2026-01-29T07:13:39.508975885-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-yexo","title":"Update CLI parsers for custom types","description":"Update parse_note_type to defer validation to command execution. Update error messages to show valid types from active ontology. Files: src/cli/parse.rs, src/cli/commands.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:28.813835849-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T10:13:38.515359551-05:00","closed_at":"2026-01-28T10:13:38.515359551-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-yexo","depends_on_id":"qipu-2wrt","type":"blocks","created_at":"2026-01-25T20:52:28.815959492-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-ygi","title":"Enhancement: validate MOCs contain links","description":"Not in spec; optional UX validation that MOCs contain links.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.663369406-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:34.995296384-05:00","labels":["future","knowledge-model"]}
{"id":"qipu-ygpz","title":"Workspace merge doesn't rewrite body wiki links","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T16:39:05.73318856-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T23:19:55.085769571-05:00","closed_at":"2026-01-25T23:19:55.085769571-05:00","close_reason":"Closed","labels":["bug","workspaces"]}
{"id":"qipu-yipm","title":"Version mismatch: Cargo.toml (0.2.56) != git tag (v0.2.58)","description":"test_version_consistency fails: release tag v0.2.58 but Cargo.toml has version 0.2.56. Update Cargo.toml to match git tag.","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T21:03:56.414244482-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:06:59.156323832-05:00","closed_at":"2026-01-28T21:06:59.156323832-05:00","close_reason":"Closed"}
{"id":"qipu-yn4z","title":"Split tests/cli/dump.rs: move selector tests to selectors.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:09.230728276-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T21:35:05.419853353-05:00","closed_at":"2026-01-28T21:35:05.419853353-05:00","close_reason":"Closed"}
{"id":"qipu-yogq","title":"Refactor: Remove unused Full Indexing legacy code in db/indexing.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-27T10:36:50.79959492-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T22:52:16.361180736-05:00","closed_at":"2026-01-27T22:52:16.361180736-05:00","close_reason":"Closed"}
{"id":"qipu-yqke","title":"Embed config.toml in pack format","description":"Update qipu dump to include .qipu/config.toml. Add CFG record type. Files: src/commands/dump/mod.rs, src/commands/dump/serialize.rs","notes":"Spec: specs/custom-ontology.md","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T20:52:53.628958086-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T11:44:32.876149595-05:00","closed_at":"2026-01-28T11:44:32.876149595-05:00","close_reason":"Closed","labels":["custom-ontology"],"dependencies":[{"issue_id":"qipu-yqke","depends_on_id":"qipu-kmlj","type":"blocks","created_at":"2026-01-25T20:52:53.630180681-05:00","created_by":"Micah J Waldstein"}]}
{"id":"qipu-yuep","title":"Remove dead_code suppression in transcript/writer.rs","description":"Remove file-level dead_code suppression in transcript/writer.rs:\n\nWhat to change:\n- crates/llm-tool-test/src/transcript/writer.rs line 1: remove #![allow(dead_code)]\n\nHow to change:\n- Remove #![allow(dead_code)] module-level attribute\n- Run cargo build to identify actually unused code\n- Remove or use each unused item:\n  - Unused imports: remove them\n  - Unused functions: either use or delete them\n  - Unused types: evaluate if needed for future features\n- Add targeted #[allow(dead_code)] only where truly necessary\n\nWhy it matters:\n- File-level suppression hides all unused code\n- Prevents compiler from helping find dead code\n- Accumulates technical debt silently\n- Makes code harder to maintain\n\nVerification:\n- Build passes without file-level allow: cargo build --package llm-tool-test\n- No new dead_code warnings (except intentionally allowed items)\n- All tests pass: cargo test --package llm-tool-test\n- Run cargo clippy to verify clean build\n\nContext:\n- Related to dead code cleanup (bd tasks qipu-dnyj, qipu-ft1t)\n- Do this before other transcript module work","status":"open","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-30T08:12:27.480564186-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-30T08:12:27.480564186-05:00"}
{"id":"qipu-z0e","title":"Clarify: records output body inclusion control defaults","description":"Open question: summaries only by default? Decide body inclusion defaults.","status":"deferred","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:19:28.306445954-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-25T14:23:35.019015201-05:00","labels":["clarify","records-output"]}
{"id":"qipu-z32a","title":"Split tests/cli/link/list.rs: move semantic inversion tests to semantic_inversion.rs","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-28T17:06:40.247219625-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T23:16:13.628329276-05:00","closed_at":"2026-01-28T23:16:13.628329276-05:00","close_reason":"Closed"}
{"id":"qipu-z8z","title":"Add tests for prime missing-selection exit codes","description":"Missing tests for prime command missing-selection exit codes\n\nSpec: llm-context.md\nIssue: Exit code behavior not tested\nLocation: tests/cli/\nAction: Test that prime returns appropriate exit codes when selections missing","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:05:55.144718224-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-26T11:04:13.515382881-05:00","closed_at":"2026-01-26T11:04:13.515382881-05:00","close_reason":"Closed"}
{"id":"qipu-zctg","title":"Fix version mismatch: git tag v0.2.82 vs Cargo.toml 0.2.81","status":"closed","priority":1,"issue_type":"bug","owner":"mwaldstein@oxalis.io","created_at":"2026-01-29T10:48:51.900581025-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-29T10:54:38.083683804-05:00","closed_at":"2026-01-29T10:54:38.083683804-05:00","close_reason":"Closed"}
{"id":"qipu-zqe","title":"Design: Automatic summarization for long notes","description":"Design work needed for automatic summarization\n\nSpec: llm-context.md:119\nOpen question: Should qipu support lightweight automatic summarization (without an LLM)?\nCurrent: No summarization\nAction: Design lightweight summarization approach if desired\nPriority: P3 - design exploration","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:08:03.914737383-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T01:31:33.316977248-05:00","closed_at":"2026-01-28T01:31:33.316977248-05:00","close_reason":"Closed"}
{"id":"qipu-zsn","title":"Add release workflow tests","description":"No release workflow tests (artifact generation)\n\nSpec: distribution.md\nIssue: Release workflow not tested\nLocation: .github/workflows/\nAction: Test release workflow artifact generation\nPriority: P3 - infrastructure","status":"closed","priority":3,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:42.83455154-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-28T00:02:20.593220951-05:00","closed_at":"2026-01-28T00:02:20.593220951-05:00","close_reason":"Closed"}
{"id":"qipu-zyq","title":"Add llm-tool-test CLI command tests","description":"Missing tests for CLI commands (entirely untested)\n\nSpec: llm-user-validation.md\nLocation: crates/llm-tool-test/\nAction: Test all CLI commands in llm-tool-test","status":"closed","priority":2,"issue_type":"task","owner":"mwaldstein@oxalis.io","created_at":"2026-01-25T14:07:29.163106128-05:00","created_by":"Micah J Waldstein","updated_at":"2026-01-27T23:30:39.761923412-05:00","closed_at":"2026-01-27T23:30:39.761923412-05:00","close_reason":"Closed"}
