{
  "name": "qipu",
  "description": "Zettelkasten-inspired knowledge management CLI for building persistent knowledge graphs",
  "version": "1.0.0",
  "tools": [
    {
      "name": "qipu_capture",
      "description": "Quick capture from stdin or command arguments. Creates a new note with the provided content.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "content": {
            "type": "string",
            "description": "Note content (if not using stdin)"
          },
          "title": {
            "type": "string",
            "description": "Note title"
          },
          "type": {
            "type": "string",
            "enum": ["fleeting", "literature", "permanent", "moc"],
            "description": "Note type (default: fleeting)"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Tags to apply to the note"
          }
        }
      }
    },
    {
      "name": "qipu_search",
      "description": "Full-text search across all notes with ranking and value scoring",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": {
            "type": "string",
            "description": "Search query string"
          },
          "type": {
            "type": "string",
            "enum": ["fleeting", "literature", "permanent", "moc"],
            "description": "Filter by note type"
          },
          "tag": {
            "type": "string",
            "description": "Filter by tag"
          },
          "min_value": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Minimum value score (0-100)"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of results"
          }
        },
        "required": ["query"]
      }
    },
    {
      "name": "qipu_show",
      "description": "Display a single note with optional link information",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Note ID (qp- prefixed ULID)"
          },
          "links": {
            "type": "boolean",
            "description": "Show link connections"
          }
        },
        "required": ["id"]
      }
    },
    {
      "name": "qipu_link_add",
      "description": "Create a typed semantic link between two notes",
      "inputSchema": {
        "type": "object",
        "properties": {
          "from_id": {
            "type": "string",
            "description": "Source note ID"
          },
          "to_id": {
            "type": "string",
            "description": "Target note ID"
          },
          "link_type": {
            "type": "string",
            "enum": ["related", "derived-from", "supports", "contradicts", "part-of", "answers", "refines", "same-as", "alias-of", "follows"],
            "description": "Semantic relationship type"
          }
        },
        "required": ["from_id", "to_id", "link_type"]
      }
    },
    {
      "name": "qipu_link_tree",
      "description": "Visualize the link tree starting from a given note",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Root note ID"
          },
          "min_value": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Minimum value score threshold"
          },
          "ignore_value": {
            "type": "boolean",
            "description": "Include all notes regardless of value score"
          }
        },
        "required": ["id"]
      }
    },
    {
      "name": "qipu_list",
      "description": "List notes with filtering options",
      "inputSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["fleeting", "literature", "permanent", "moc"],
            "description": "Filter by note type"
          },
          "tag": {
            "type": "string",
            "description": "Filter by tag"
          },
          "since": {
            "type": "string",
            "description": "Filter by creation date (ISO 8601)"
          },
          "min_value": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Minimum value score"
          }
        }
      }
    },
    {
      "name": "qipu_prime",
      "description": "Generate a context primer for agent sessions. Returns high-value notes and recent research for context injection.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "limit": {
            "type": "integer",
            "description": "Maximum number of notes to include"
          },
          "min_value": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Minimum value score (default: 50)"
          }
        }
      }
    },
    {
      "name": "qipu_context",
      "description": "Generate a context bundle for specific use cases (moc, query, or tag)",
      "inputSchema": {
        "type": "object",
        "properties": {
          "moc": {
            "type": "string",
            "description": "Map of Content ID to generate context from"
          },
          "query": {
            "type": "string",
            "description": "Search query to generate context from"
          },
          "tag": {
            "type": "string",
            "description": "Tag to generate context from"
          },
          "min_value": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Minimum value score"
          }
        }
      }
    },
    {
      "name": "qipu_value_set",
      "description": "Set a note's value score (0-100). Use to prioritize high-quality content and deprioritize stale or duplicate notes.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Note ID"
          },
          "score": {
            "type": "integer",
            "minimum": 0,
            "maximum": 100,
            "description": "Value score (0-20: deprioritized, 21-80: standard, 81-100: high-value)"
          }
        },
        "required": ["id", "score"]
      }
    },
    {
      "name": "qipu_doctor",
      "description": "Check store health. Detects broken links, orphan notes, duplicates. Optionally auto-fix issues.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "fix": {
            "type": "boolean",
            "description": "Automatically fix detected issues"
          },
          "duplicates": {
            "type": "boolean",
            "description": "Report duplicate notes"
          }
        }
      }
    }
  ]
}
